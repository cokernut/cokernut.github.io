<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Cokernut</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://cokernut.top/"/>
  <updated>2016-12-02T07:28:30.000Z</updated>
  <id>http://cokernut.top/</id>
  
  <author>
    <name>Cokernut</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>React Native å­¦ä¹ ç¬”è®°--åŸºç¡€çŸ¥è¯†</title>
    <link href="http://cokernut.top/2016/12/01/ReactNative/React%20Native%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0--%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>http://cokernut.top/2016/12/01/ReactNative/React Nativeå­¦ä¹ ç¬”è®°--åŸºç¡€çŸ¥è¯†/</id>
    <published>2016-11-30T16:00:00.000Z</published>
    <updated>2016-12-02T07:28:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>React Native åŸºç¡€çŸ¥è¯†å­¦ä¹ <br><a id="more"></a></p>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World!"></a>Hello World!</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123; AppRegistry, Text &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">Text</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**  </span></div><div class="line"> * æ³¨å†Œåº”ç”¨(registerComponent)åæ‰èƒ½æ­£ç¡®æ¸²æŸ“</div><div class="line"> * æ³¨æ„ï¼šä¸€èˆ¬åœ¨æ•´ä¸ªåº”ç”¨é‡ŒAppRegistry.registerComponentè¿™ä¸ªæ–¹æ³•åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œ</div><div class="line"> * è€Œä¸æ˜¯æ¯ä¸ªç»„ä»¶/æ¨¡å—éƒ½æ³¨å†Œ</div><div class="line"> * æ³¨æ„ï¼Œè¿™é‡Œç”¨å¼•å·æ‹¬èµ·æ¥çš„'HelloWorldApp'å¿…é¡»å’Œä½ initåˆ›å»ºçš„é¡¹ç›®åä¸€è‡´</div><div class="line"> */</div><div class="line">AppRegistry.registerComponent(<span class="string">'HelloWorldApp'</span>, () =&gt; HelloWorld);</div></pre></td></tr></table></figure>
<h2 id="Props-å±æ€§-ã€State-çŠ¶æ€-ã€Style-æ ·å¼"><a href="#Props-å±æ€§-ã€State-çŠ¶æ€-ã€Style-æ ·å¼" class="headerlink" title="Props(å±æ€§)ã€State(çŠ¶æ€)ã€Style(æ ·å¼)"></a>Props(å±æ€§)ã€State(çŠ¶æ€)ã€Style(æ ·å¼)</h2><p>å¤§å¤šæ•°ç»„ä»¶åœ¨åˆ›å»ºæ—¶å°±å¯ä»¥ä½¿ç”¨å„ç§å‚æ•°æ¥è¿›è¡Œå®šåˆ¶ã€‚ç”¨äºå®šåˆ¶çš„è¿™äº›å‚æ•°å°±ç§°ä¸ºpropsï¼ˆå±æ€§ï¼‰ã€‚</p>
<p>ä»¥å¸¸è§çš„åŸºç¡€ç»„ä»¶Imageä¸ºä¾‹ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªå›¾ç‰‡æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªåä¸ºsourceçš„propæ¥æŒ‡å®šè¦æ˜¾ç¤ºçš„å›¾ç‰‡çš„åœ°å€ï¼Œ<br>ä»¥åŠä½¿ç”¨åä¸ºstyleçš„propæ¥æ§åˆ¶å…¶å°ºå¯¸ã€‚</p>
<p>è‡ªå®šä¹‰çš„ç»„ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨propsã€‚é€šè¿‡åœ¨ä¸åŒçš„åœºæ™¯ä½¿ç”¨ä¸åŒçš„å±æ€§å®šåˆ¶ï¼Œå¯ä»¥å°½é‡æé«˜è‡ªå®šä¹‰ç»„ä»¶çš„å¤ç”¨èŒƒç•´ã€‚<br>åªéœ€åœ¨renderå‡½æ•°ä¸­å¼•ç”¨this.propsï¼Œç„¶åæŒ‰éœ€å¤„ç†å³å¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  AppRegistry,</div><div class="line">  StyleSheet,</div><div class="line">  Text,</div><div class="line">  Image,</div><div class="line">  View</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTextView</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(props) &#123;</div><div class="line">    <span class="keyword">super</span>(props);</div><div class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">showText</span>: <span class="literal">true</span>&#125;; <span class="comment">//åˆå§‹åŒ–stateï¼ˆçŠ¶æ€ï¼‰</span></div><div class="line">    <span class="comment">// æ¯1000æ¯«ç§’å¯¹showTextçŠ¶æ€åšä¸€æ¬¡å–åæ“ä½œ</span></div><div class="line">    setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">showText</span>: !<span class="keyword">this</span>.state.showText&#125;) <span class="comment">//è°ƒç”¨setStateæ–¹æ³•ä¿®æ”¹stateçš„å€¼</span></div><div class="line">    &#125;, <span class="number">10000</span>);</div><div class="line">  &#125;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">let</span> temp = <span class="string">'Name: '</span> + <span class="keyword">this</span>.props.name + <span class="string">'  Age: '</span> + <span class="keyword">this</span>.props.age + <span class="string">'!'</span>; <span class="comment">//å–å±æ€§å€¼å¹¶æ‹¼è£…</span></div><div class="line">    <span class="keyword">let</span> text = <span class="keyword">this</span>.state.showText ? temp : <span class="string">''</span>; </div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.text&#125;</span>&gt;</span>&#123;text&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Root</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">let</span> pic=&#123;</div><div class="line">      <span class="attr">uri</span>:<span class="string">'http://file26.mafengwo.net/M00/25/15/wKgB4lIre0yAC1WOAAFKo9uhzX063.rbook_comment.w300.jpeg'</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="comment">/**</span></div><div class="line">       * props,state,style</div><div class="line">       * </div><div class="line">       * styleå±æ€§å¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šçš„JavaScriptå¯¹è±¡,</div><div class="line">       * ä½ å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„â€”â€”åœ¨æ•°ç»„ä¸­ä½ç½®å±…åçš„æ ·å¼å¯¹è±¡æ¯”å±…å‰çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œè¿™æ ·ä½ å¯ä»¥é—´æ¥å®ç°æ ·å¼çš„ç»§æ‰¿ã€‚</div><div class="line">       * å¸¸è§çš„åšæ³•æ˜¯æŒ‰é¡ºåºå£°æ˜å’Œä½¿ç”¨styleå±æ€§ï¼Œä»¥å€Ÿé‰´CSSä¸­çš„â€œå±‚å â€åšæ³•ï¼ˆå³åå£°æ˜çš„å±æ€§ä¼šè¦†ç›–å…ˆå£°æ˜çš„åŒåå±æ€§ï¼‰ã€‚</div><div class="line">       * </div><div class="line">       * ä¼ å€¼åˆ°Imageçš„sourceå±æ€§ï¼Œå¹¶å®šä¹‰æ ·å¼</div><div class="line">       * å±æ€§ä¼ å€¼ï¼Œthis.props.propsnameè°ƒç”¨</div><div class="line">       */</div><div class="line">      &lt;View&gt;</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;[styles.text,</span> <span class="attr">styles.gray</span>, &#123;<span class="attr">fontSize:</span> <span class="attr">30</span>&#125;]&#125;&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></div><div class="line">        &lt;Image source=&#123;pic&#125; style=&#123;&#123;<span class="attr">width</span>:<span class="number">100</span>, <span class="attr">height</span>:<span class="number">100</span>&#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span></div><div class="line">        &lt;MyTextView name=<span class="string">'Tom'</span> age=<span class="string">'16'</span>/&gt; </div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">MyTextView</span> <span class="attr">name</span>=<span class="string">'Joy'</span> <span class="attr">age</span>=<span class="string">'18'</span>/&gt;</span></span></div><div class="line">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> styles = StyleSheet.create(&#123;</div><div class="line">  <span class="attr">text</span>: &#123;</div><div class="line">    <span class="attr">color</span>: <span class="string">'green'</span>,</div><div class="line">    <span class="attr">fontSize</span>: <span class="number">20</span>,</div><div class="line">    <span class="attr">fontWeight</span>: <span class="string">'bold'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">gray</span>: &#123;</div><div class="line">    <span class="attr">color</span>: <span class="string">'gray'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">AppRegistry.registerComponent(<span class="string">'ReactNativeDemo'</span>, () =&gt; Root);</div></pre></td></tr></table></figure>
<h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><h3 id="æŒ‡å®šå®½é«˜ï¼š"><a href="#æŒ‡å®šå®½é«˜ï¼š" class="headerlink" title="æŒ‡å®šå®½é«˜ï¼š"></a>æŒ‡å®šå®½é«˜ï¼š</h3><p>æœ€ç®€å•çš„ç»™ç»„ä»¶è®¾å®šå°ºå¯¸çš„æ–¹å¼å°±æ˜¯åœ¨æ ·å¼ä¸­æŒ‡å®šå›ºå®šçš„widthå’Œheightã€‚ React Nativeä¸­çš„å°ºå¯¸éƒ½æ˜¯æ— å•ä½çš„ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸è®¾å¤‡åƒç´ å¯†åº¦æ— å…³çš„é€»è¾‘åƒç´ ç‚¹ã€‚</p>
<h3 id="å¼¹æ€§ï¼ˆFlexï¼‰å®½é«˜ï¼š"><a href="#å¼¹æ€§ï¼ˆFlexï¼‰å®½é«˜ï¼š" class="headerlink" title="å¼¹æ€§ï¼ˆFlexï¼‰å®½é«˜ï¼š"></a>å¼¹æ€§ï¼ˆFlexï¼‰å®½é«˜ï¼š</h3><p>åœ¨ç»„ä»¶æ ·å¼ä¸­ä½¿ç”¨flexå¯ä»¥ä½¿å…¶åœ¨å¯åˆ©ç”¨çš„ç©ºé—´ä¸­åŠ¨æ€åœ°æ‰©å¼ æˆ–æ”¶ç¼©ã€‚ä¸€èˆ¬è€Œè¨€æˆ‘ä»¬ä¼šä½¿ç”¨flex:1æ¥æŒ‡å®šæŸä¸ªç»„ä»¶æ‰©å¼ ä»¥æ’‘æ»¡æ‰€æœ‰å‰©ä½™çš„ç©ºé—´ã€‚<br>å¦‚æœæœ‰å¤šä¸ªå¹¶åˆ—çš„å­ç»„ä»¶ä½¿ç”¨äº†flex:1ï¼Œåˆ™è¿™äº›å­ç»„ä»¶ä¼šå¹³åˆ†çˆ¶å®¹å™¨ä¸­å‰©ä½™çš„ç©ºé—´ã€‚å¦‚æœè¿™äº›å¹¶åˆ—çš„å­ç»„ä»¶çš„flexå€¼ä¸ä¸€æ ·ï¼Œåˆ™è°çš„å€¼æ›´å¤§ï¼Œ<br>è°å æ®å‰©ä½™ç©ºé—´çš„æ¯”ä¾‹å°±æ›´å¤§ï¼ˆå³å æ®å‰©ä½™ç©ºé—´çš„æ¯”ç­‰äºå¹¶åˆ—ç»„ä»¶é—´flexå€¼çš„æ¯”ï¼‰ã€‚  </p>
<font color="#D96060">æ³¨æ„ï¼š<br>ç»„ä»¶èƒ½å¤Ÿæ’‘æ»¡å‰©ä½™ç©ºé—´çš„å‰ææ˜¯å…¶çˆ¶å®¹å™¨çš„å°ºå¯¸ä¸ä¸ºé›¶ã€‚å¦‚æœçˆ¶å®¹å™¨æ—¢æ²¡æœ‰å›ºå®šçš„widthå’Œheightï¼Œ<br>ä¹Ÿæ²¡æœ‰è®¾å®šflexï¼Œåˆ™çˆ¶å®¹å™¨çš„å°ºå¯¸ä¸ºé›¶ã€‚å…¶å­ç»„ä»¶å¦‚æœä½¿ç”¨äº†flexï¼Œä¹Ÿæ˜¯æ— æ³•æ˜¾ç¤ºçš„ã€‚</font>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123; AppRegistry, View &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Root</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="comment">// è¯•è¯•å»æ‰çˆ¶Viewä¸­çš„`flex: 1`ã€‚</span></div><div class="line">      <span class="comment">// åˆ™çˆ¶Viewä¸å†å…·æœ‰å°ºå¯¸ï¼Œå› æ­¤å­ç»„ä»¶ä¹Ÿæ— æ³•å†æ’‘å¼€ã€‚</span></div><div class="line">      <span class="comment">// ç„¶åå†ç”¨`height: 300`æ¥ä»£æ›¿çˆ¶Viewçš„`flex: 1`è¯•è¯•çœ‹ï¼Ÿ</span></div><div class="line">      &lt;View style=&#123;&#123;<span class="attr">flex</span>: <span class="number">1</span>&#125;&#125;&gt;</div><div class="line">        &lt;View style=&#123;&#123;flex: 1, backgroundColor: 'powderblue'&#125;&#125; /&gt;</div><div class="line">        &lt;View style=&#123;&#123;flex: 2, backgroundColor: 'skyblue'&#125;&#125; /&gt;</div><div class="line">        &lt;View style=&#123;&#123;flex: 3, backgroundColor: 'steelblue'&#125;&#125; /&gt;</div><div class="line">      &lt;/View&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">AppRegistry.registerComponent('ReactNativeDemo', () =&gt; Root);</div></pre></td></tr></table></figure>
<h2 id="Flexboxå¸ƒå±€"><a href="#Flexboxå¸ƒå±€" class="headerlink" title="Flexboxå¸ƒå±€"></a>Flexboxå¸ƒå±€</h2><h3 id="flexDirection"><a href="#flexDirection" class="headerlink" title="flexDirection:"></a>flexDirection:</h3><p>å†³å®šå¸ƒå±€çš„ä¸»è½´ï¼Œé»˜è®¤å€¼æ˜¯column(ç«–ç›´è½´ï¼Œèµ·ç‚¹åœ¨é¡¶éƒ¨)ï¼Œè€Œä¸æ˜¯row(æ°´å¹³è½´ï¼Œèµ·ç‚¹åœ¨å·¦ç«¯)</p>
<h3 id="alignItems"><a href="#alignItems" class="headerlink" title="alignItems:"></a>alignItems:</h3><p>äº¤å‰è½´çš„å¯¹é½æ–¹å¼ï¼Œé»˜è®¤å€¼æ˜¯stretch  </p>
<ul>
<li>flex-start: äº¤å‰è½´çš„èµ·ç‚¹å¯¹é½</li>
<li>flex-end: äº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½</li>
<li>center: äº¤å‰è½´çš„ä¸­å¿ƒå¯¹é½</li>
<li>stretch: å®¹å™¨ä¸­çš„æ‰€æœ‰é¡¹ç›®æ‹‰ä¼¸å¡«æ»¡æ•´ä¸ªå®¹å™¨  </li>
</ul>
<h3 id="alignSelf"><a href="#alignSelf" class="headerlink" title="alignSelf:"></a>alignSelf:</h3><p>å½“å‰ç»„ä»¶äº¤å‰è½´çš„å¯¹é½æ–¹å¼ï¼Œä¼šè¦†ç›–çš„çˆ¶ç»„ä»¶çš„alignItemså±æ€§</p>
<h3 id="justifyContent"><a href="#justifyContent" class="headerlink" title="justifyContent:"></a>justifyContent:</h3><p>å¯ä»¥å†³å®šå…¶å­ç»„ä»¶æ²¿ç€ä¸»è½´çš„å¯¹é½æ–¹å¼ï¼Œé»˜è®¤å€¼æ˜¯flex-start  </p>
<ul>
<li>flex-startï¼šä¸»è½´èµ·ç‚¹å¯¹é½</li>
<li>flex-endï¼šä¸»è½´ç»ˆç‚¹</li>
<li>centerï¼šå±…ä¸­</li>
<li>space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰</li>
<li>space-around: æ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚é¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚</li>
</ul>
<h3 id="flexWrap"><a href="#flexWrap" class="headerlink" title="flexWrap:"></a>flexWrap:</h3><p>flexWrapå±æ€§å®šä¹‰ä¸€æ¡è½´çº¿æ’ä¸ä¸‹æ—¶æ˜¯å¦æŠ˜è¡Œã€‚å®ƒæœ‰ä¸¤ä¸ªå€¼ï¼Œåˆ†åˆ«æ˜¯â€™wrapâ€™å’Œâ€™nowrapâ€™ï¼Œåˆ†åˆ«ä»£è¡¨æ”¯æŒæ¢è¡Œå’Œä¸æ”¯æŒæ¢è¡Œï¼Œé»˜è®¤æ˜¯â€™nowrapâ€™ã€‚</p>
<h3 id="flex"><a href="#flex" class="headerlink" title="flex:"></a>flex:</h3><p>åªèƒ½æŒ‡å®šä¸€ä¸ªæ•°å­—å€¼ï¼Œè¿™ä¸ªå±æ€§å¯èƒ½ä½¿å±æ€§justifyContentå¤±æ•ˆã€‚</p>
<h3 id="å±æ€§åˆ—è¡¨"><a href="#å±æ€§åˆ—è¡¨" class="headerlink" title="å±æ€§åˆ—è¡¨"></a>å±æ€§åˆ—è¡¨</h3><table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å–å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>alignItems    äº¤å‰è½´çš„å¯¹é½æ–¹å¼</td>
<td>enum(â€˜flex-startâ€™, â€˜flex-endâ€™, â€˜centerâ€™, â€˜stretchâ€™) </td>
</tr>
<tr>
<td>alignSelf ç»„ä»¶äº¤å‰è½´çš„å¯¹é½æ–¹å¼</td>
<td>enum(â€˜autoâ€™, â€˜flex-startâ€™, â€˜flex-endâ€™, â€˜centerâ€™, â€˜stretchâ€™) </td>
</tr>
<tr>
<td>borderBottomWidth ä¸‹è¾¹æ¡†å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>borderLeftWidth   å·¦è¾¹æ¡†å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>borderRightWidth  å³è¾¹æ¡†å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>borderTopWidth    ä¸Šè¾¹æ¡†å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>borderWidth        è¾¹æ¡†å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>bottom         è¦†ç›–ä¸‹è¾¹ç¼˜å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>flex              æƒé‡</td>
<td>number </td>
</tr>
<tr>
<td>flexDirection     ä¸»è½´</td>
<td>enum(â€˜rowâ€™, â€˜columnâ€™) </td>
</tr>
<tr>
<td>flexWrap          æ˜¯å¦æŠ˜è¡Œ</td>
<td>enum(â€˜wrapâ€™, â€˜nowrapâ€™) </td>
</tr>
<tr>
<td>height            é«˜åº¦</td>
<td>number </td>
</tr>
<tr>
<td>justifyContent ä¸»è½´çš„æ’åˆ—æ–¹å¼</td>
<td>enum(â€˜flex-startâ€™, â€˜flex-endâ€™, â€˜centerâ€™, â€˜space-betweenâ€™, â€˜space-aroundâ€™) </td>
</tr>
<tr>
<td>left           è¦†ç›–å·¦è¾¹ç¼˜å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>margin         ç»„ä»¶å¤–è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>marginBottom   ç»„ä»¶ä¸‹å¤–è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>marginHorizontal ç»„ä»¶æ¨ªå‘å¤–è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>marginLeft     ç»„ä»¶å·¦å¤–è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>marginRight    ç»„ä»¶å³å¤–è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>marginTop       ç»„ä»¶ä¸Šå¤–è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>marginVertical  ç»„ä»¶ç«–å‘å¤–è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>padding        ç»„ä»¶å†…è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>paddingBottom  ç»„ä»¶ä¸‹å†…è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>paddingHorizontal ç»„ä»¶æ¨ªå‘å†…è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>paddingLeft    ç»„ä»¶å·¦å†…è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>paddingRight   ç»„ä»¶å³å†…è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>paddingTop     ç»„ä»¶ä¸Šå†…è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>paddingVertical ç»„ä»¶ç«–å‘å†…è¾¹è·</td>
<td>number </td>
</tr>
<tr>
<td>position ä½ç½®å±æ€§ é»˜è®¤relative</td>
<td>enum(â€˜absoluteâ€™, â€˜relativeâ€™)(ç»å¯¹ä½ç½®ï¼Œç›¸å¯¹ä½ç½®) </td>
</tr>
<tr>
<td>right       è¦†ç›–å³è¾¹ç¼˜å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>top         è¦†ç›–ä¸Šè¾¹ç¼˜å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>width           å®½åº¦</td>
<td>number </td>
</tr>
<tr>
<td>zIndex   å…ƒç´ çš„å †å é¡ºåºï¼ˆzè½´ï¼‰</td>
<td>number</td>
</tr>
</tbody>
</table>
<h2 id="View"><a href="#View" class="headerlink" title="View"></a>View</h2><p>Viewæ˜¯ä¸€ä¸ªæ”¯æŒFlexboxå¸ƒå±€ã€æ ·å¼ã€ä¸€äº›è§¦æ‘¸å¤„ç†ã€å’Œä¸€äº›æ— éšœç¢åŠŸèƒ½çš„å®¹å™¨ï¼Œå¹¶ä¸”å®ƒå¯ä»¥æ”¾åˆ°å…¶å®ƒçš„è§†å›¾é‡Œï¼Œä¹Ÿå¯ä»¥æœ‰ä»»æ„å¤šä¸ªä»»æ„ç±»å‹çš„å­è§†å›¾ã€‚</p>
<h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><blockquote>
<p>accessibilityLabel string </p>
</blockquote>
<p>è®¾ç½®å½“ç”¨æˆ·ä¸æ­¤å…ƒç´ äº¤äº’æ—¶ï¼Œâ€œè¯»å±å™¨â€ï¼ˆå¯¹è§†åŠ›éšœç¢äººå£«çš„è¾…åŠ©åŠŸèƒ½ï¼‰é˜…è¯»çš„æ–‡å­—ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ–‡å­—ä¼šé€šè¿‡éå†æ‰€æœ‰çš„å­å…ƒç´ å¹¶ç´¯åŠ æ‰€æœ‰çš„æ–‡æœ¬æ ‡ç­¾æ¥æ„å»ºã€‚</p>
<blockquote>
<p>accessible bool </p>
</blockquote>
<p>å½“æ­¤å±æ€§ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºæ­¤è§†å›¾æ—¶ä¸€ä¸ªå¯ç”¨äº†æ— éšœç¢åŠŸèƒ½çš„å…ƒç´ ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å¯è§¦æ‘¸æ“ä½œçš„å…ƒç´ éƒ½æ˜¯æ— éšœç¢åŠŸèƒ½å…ƒç´ ã€‚</p>
<blockquote>
<p>onAccessibilityTap function </p>
</blockquote>
<p>å½“accessibleä¸ºtrueæ—¶ï¼Œå¦‚æœç”¨æˆ·å¯¹ä¸€ä¸ªå·²é€‰ä¸­çš„æ— éšœç¢å…ƒç´ åšäº†ä¸€ä¸ªåŒå‡»æ‰‹åŠ¿æ—¶ï¼Œç³»ç»Ÿä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚ï¼ˆè¯‘æ³¨ï¼šæ­¤äº‹ä»¶æ˜¯é’ˆå¯¹æ®‹éšœäººå£«ï¼Œå¹¶éæ˜¯ä¸€ä¸ªæ™®é€šçš„ç‚¹å‡»äº‹ä»¶ã€‚å¦‚æœè¦ä¸ºViewæ·»åŠ æ™®é€šç‚¹å‡»äº‹ä»¶ï¼Œè¯·ç›´æ¥ä½¿ç”¨Touchableç³»åˆ—ç»„ä»¶æ›¿ä»£Viewï¼Œç„¶åæ·»åŠ onPresså‡½æ•°ï¼‰ã€‚</p>
<blockquote>
<p>onLayout function </p>
</blockquote>
<p>å½“ç»„ä»¶æŒ‚è½½æˆ–è€…å¸ƒå±€å˜åŒ–çš„æ—¶å€™è°ƒç”¨ï¼Œå‚æ•°ä¸ºï¼š<br>{nativeEvent: { layout: {x, y, width, height}}}<br>è¿™ä¸ªäº‹ä»¶ä¼šåœ¨å¸ƒå±€è®¡ç®—å®Œæˆåç«‹å³è°ƒç”¨ä¸€æ¬¡ï¼Œä¸è¿‡æ”¶åˆ°æ­¤äº‹ä»¶æ—¶æ–°çš„å¸ƒå±€å¯èƒ½è¿˜æ²¡æœ‰åœ¨å±å¹•ä¸Šå‘ˆç°ï¼Œå°¤å…¶æ˜¯ä¸€ä¸ªå¸ƒå±€åŠ¨ç”»æ­£åœ¨è¿›è¡Œä¸­çš„æ—¶å€™ã€‚</p>
<blockquote>
<p>onMagicTap function </p>
</blockquote>
<p>å½“accessibleä¸ºtrueæ—¶ï¼Œå¦‚æœç”¨æˆ·åšäº†ä¸€ä¸ªåŒæŒ‡è½»è§¦(Magic tap)æ‰‹åŠ¿ï¼Œç³»ç»Ÿä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚</p>
<blockquote>
<p>onResponderGrant function </p>
</blockquote>
<p>å¯¹äºå¤§éƒ¨åˆ†çš„è§¦æ‘¸å¤„ç†ï¼Œä½ åªéœ€è¦ç”¨TouchableHighlightæˆ–TouchableOpacityåŒ…è£…ä½ çš„ç»„ä»¶ã€‚</p>
<blockquote>
<p>pointerEvents enum(â€˜box-noneâ€™, â€˜noneâ€™, â€˜box-onlyâ€™, â€˜autoâ€™) </p>
</blockquote>
<p>ç”¨äºæ§åˆ¶å½“å‰è§†å›¾æ˜¯å¦å¯ä»¥ä½œä¸ºè§¦æ§äº‹ä»¶çš„ç›®æ ‡ã€‚<br>autoï¼šè§†å›¾å¯ä»¥ä½œä¸ºè§¦æ§äº‹ä»¶çš„ç›®æ ‡ã€‚<br>noneï¼šè§†å›¾ä¸èƒ½ä½œä¸ºè§¦æ§äº‹ä»¶çš„ç›®æ ‡ã€‚<br>box-noneï¼šè§†å›¾è‡ªèº«ä¸èƒ½ä½œä¸ºè§¦æ§äº‹ä»¶çš„ç›®æ ‡ï¼Œä½†å…¶å­è§†å›¾å¯ä»¥ã€‚<br>box-onlyï¼šè§†å›¾è‡ªèº«å¯ä»¥ä½œä¸ºè§¦æ§äº‹ä»¶çš„ç›®æ ‡ï¼Œä½†å…¶å­è§†å›¾ä¸èƒ½ã€‚  </p>
<blockquote>
<p>removeClippedSubviews bool </p>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ€§èƒ½ç›¸å…³çš„å±æ€§ï¼Œç”±RCTViewå¯¼å‡ºã€‚åœ¨åˆ¶ä½œæ»‘åŠ¨æ§ä»¶æ—¶ï¼Œå¦‚æœæ§ä»¶æœ‰å¾ˆå¤šä¸åœ¨å±å¹•å†…çš„å­è§†å›¾ï¼Œä¼šéå¸¸æœ‰ç”¨ã€‚</p>
<p>è¦è®©æ­¤å±æ€§ç”Ÿæ•ˆï¼Œé¦–å…ˆè¦æ±‚è§†å›¾æœ‰å¾ˆå¤šè¶…å‡ºèŒƒå›´çš„å­è§†å›¾ï¼Œå¹¶ä¸”å­è§†å›¾å’Œå®¹å™¨è§†å›¾ï¼ˆæˆ–å®ƒçš„æŸä¸ªç¥–å…ˆè§†å›¾ï¼‰éƒ½åº”è¯¥æœ‰æ ·å¼overflow: hiddenã€‚</p>
<blockquote>
<p>style<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">Flexbox...</div><div class="line">ShadowProp#style...</div><div class="line">Transforms...</div><div class="line">backfaceVisibility enum(&apos;visible&apos;, &apos;hidden&apos;)</div><div class="line">backgroundColor string</div><div class="line">borderColor string</div><div class="line">borderTopColor string</div><div class="line">borderRightColor string</div><div class="line">borderBottomColor string</div><div class="line">borderLeftColor string</div><div class="line">borderRadius number</div><div class="line">borderTopLeftRadius number</div><div class="line">borderTopRightRadius number</div><div class="line">borderBottomLeftRadius number</div><div class="line">borderBottomRightRadius number</div><div class="line">borderStyle enum(&apos;solid&apos;, &apos;dotted&apos;, &apos;dashed&apos;)</div><div class="line">borderWidth number</div><div class="line">borderTopWidth number</div><div class="line">borderRightWidth number</div><div class="line">borderBottomWidth number</div><div class="line">borderLeftWidth number</div><div class="line">opacity number</div><div class="line">overflow enum(&apos;visible&apos;, &apos;hidden&apos;)</div><div class="line">elevation number</div><div class="line">(é™Android)ä½¿ç”¨AndroidåŸç”Ÿçš„ elevation APIæ¥è®¾ç½®è§†å›¾çš„é«˜åº¦ï¼ˆelevationï¼‰ã€‚</div><div class="line">è¿™æ ·å¯ä»¥ä¸ºè§†å›¾æ·»åŠ ä¸€ä¸ªæŠ•å½±ï¼Œå¹¶ä¸”ä¼šå½±å“è§†å›¾å±‚å çš„é¡ºåºã€‚æ­¤å±æ€§ä»…æ”¯æŒAndroid5.0åŠä»¥ä¸Šç‰ˆæœ¬ã€‚</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h2><p>ä¸€ä¸ªç”¨äºæ˜¾ç¤ºæ–‡æœ¬çš„Reactç»„ä»¶ï¼Œå¹¶ä¸”å®ƒä¹Ÿæ”¯æŒåµŒå¥—ã€æ ·å¼ï¼Œä»¥åŠè§¦æ‘¸å¤„ç†ã€‚<br>åœ¨React Nativeä¸­ä½ å¿…é¡»æŠŠä½ çš„æ–‡æœ¬èŠ‚ç‚¹æ”¾åœ¨<text>ç»„ä»¶å†…ã€‚ä½ ä¸èƒ½ç›´æ¥åœ¨<view>ä¸‹æ”¾ç½®ä¸€æ®µæ–‡æœ¬ã€‚</view></text></p>
<h3 id="å±æ€§-1"><a href="#å±æ€§-1" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><blockquote>
<p>numberOfLines number </p>
</blockquote>
<p>ç”¨æ¥å½“æ–‡æœ¬è¿‡é•¿çš„æ—¶å€™è£å‰ªæ–‡æœ¬ã€‚åŒ…æ‹¬æŠ˜å äº§ç”Ÿçš„æ¢è¡Œåœ¨å†…ï¼Œæ€»çš„è¡Œæ•°ä¸ä¼šè¶…è¿‡è¿™ä¸ªå±æ€§çš„é™åˆ¶ã€‚</p>
<blockquote>
<p>onLayout function </p>
</blockquote>
<p>å½“æŒ‚è½½æˆ–è€…å¸ƒå±€å˜åŒ–ä»¥åè°ƒç”¨ï¼Œå‚æ•°ä¸ºå¦‚ä¸‹çš„å†…å®¹ï¼š</p>
<p>{nativeEvent: {layout: {x, y, width, height}}}</p>
<blockquote>
<p>onLongPress function </p>
</blockquote>
<p>å½“æ–‡æœ¬è¢«é•¿æŒ‰ä»¥åè°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚</p>
<blockquote>
<p>onPress function </p>
</blockquote>
<p>å½“æ–‡æœ¬è¢«ç‚¹å‡»ä»¥åè°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚</p>
<blockquote>
<p>selectable function </p>
</blockquote>
<p>å†³å®šç”¨æˆ·æ˜¯å¦å¯ä»¥é•¿æŒ‰é€‰æ‹©æ–‡æœ¬ï¼Œä»¥ä¾¿å¤åˆ¶å’Œç²˜è´´ã€‚</p>
<blockquote>
<p>style style<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">View#style...</div><div class="line">color string</div><div class="line">fontFamily string</div><div class="line">fontSize number</div><div class="line">fontStyle enum(&apos;normal&apos;, &apos;italic&apos;)</div><div class="line">fontWeight enum(&quot;normal&quot;, &apos;bold&apos;, &apos;100&apos;, &apos;200&apos;, &apos;300&apos;, &apos;400&apos;, &apos;500&apos;, &apos;600&apos;, &apos;700&apos;, &apos;800&apos;, &apos;900&apos;)</div><div class="line">æŒ‡å®šå­—ä½“çš„ç²—ç»†ã€‚å¤§å¤šæ•°å­—ä½“éƒ½æ”¯æŒ&apos;normal&apos;å’Œ&apos;bold&apos;å€¼ã€‚å¹¶éæ‰€æœ‰å­—ä½“éƒ½æ”¯æŒæ‰€æœ‰çš„æ•°å­—å€¼ã€‚å¦‚æœæŸä¸ªå€¼ä¸æ”¯æŒï¼Œåˆ™ä¼šè‡ªåŠ¨é€‰æ‹©æœ€æ¥è¿‘çš„å€¼ã€‚</div><div class="line">letterSpacing number</div><div class="line">lineHeight number</div><div class="line">textAlign enum(&quot;auto&quot;, &apos;left&apos;, &apos;right&apos;, &apos;center&apos;, &apos;justify&apos;)</div><div class="line">æŒ‡å®šæ–‡æœ¬çš„å¯¹é½æ–¹å¼ã€‚å…¶ä¸­&apos;justify&apos;å€¼ä»…iOSæ”¯æŒã€‚</div><div class="line">android textAlignVertical enum(&apos;auto&apos;, &apos;top&apos;, &apos;bottom&apos;, &apos;center&apos;)</div><div class="line">ios letterSpacing number</div><div class="line">ios textDecorationColor string</div><div class="line">textDecorationLine enum(&quot;none&quot;, &apos;underline&apos;, &apos;line-through&apos;, &apos;underline line-through&apos;)</div><div class="line">ios textDecorationStyle enum(&quot;solid&quot;, &apos;double&apos;, &apos;dotted&apos;, &apos;dashed&apos;)</div><div class="line">ios writingDirection enum(&quot;auto&quot;, &apos;ltr&apos;, &apos;rtl&apos;)</div></pre></td></tr></table></figure></p>
<p>testID string </p>
</blockquote>
<p>ç”¨æ¥åœ¨ç«¯åˆ°ç«¯æµ‹è¯•ä¸­æ ‡è®°è¿™ä¸ªè§†å›¾ã€‚</p>
<h2 id="TextInput"><a href="#TextInput" class="headerlink" title="TextInput"></a>TextInput</h2><p>TextInputæ˜¯ä¸€ä¸ªå…è®¸ç”¨æˆ·è¾“å…¥æ–‡æœ¬çš„åŸºç¡€ç»„ä»¶ã€‚å®ƒæœ‰ä¸€ä¸ªåä¸ºonChangeTextçš„å±æ€§ï¼Œæ­¤å±æ€§æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ­¤å‡½æ•°ä¼šåœ¨æ–‡æœ¬å˜åŒ–æ—¶è¢«è°ƒç”¨ã€‚<br>å¦å¤–è¿˜æœ‰ä¸€ä¸ªåä¸ºonSubmitEditingçš„å±æ€§ï¼Œä¼šåœ¨æ–‡æœ¬è¢«æäº¤åï¼ˆç”¨æˆ·æŒ‰ä¸‹è½¯é”®ç›˜ä¸Šçš„æäº¤é”®ï¼‰è°ƒç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Root</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(props) &#123;</div><div class="line">    <span class="keyword">super</span>(props);</div><div class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">text</span>: <span class="string">''</span>&#125;;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;&#123;padding:</span> <span class="attr">10</span>&#125;&#125;&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">TextInput</span></span></div><div class="line">          <span class="attr">style</span>=<span class="string">&#123;&#123;height:</span> <span class="attr">40</span>&#125;&#125;</div><div class="line">          <span class="attr">placeholder</span>=<span class="string">"Type here to translate!"</span></div><div class="line">          <span class="attr">onChangeText</span>=<span class="string">&#123;(text)</span> =&gt; this.setState(&#123;text&#125;)&#125;</div><div class="line">        /&gt;</div><div class="line">        <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;padding:</span> <span class="attr">10</span>, <span class="attr">fontSize:</span> <span class="attr">42</span>&#125;&#125;&gt;</span></div><div class="line">          &#123;this.state.text.split(' ').map((word) =&gt; word &amp;&amp; 'ğŸ•').join(' ')&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å±æ€§-2"><a href="#å±æ€§-2" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><blockquote>
<p>autoCapitalize enum(â€˜noneâ€™, â€˜sentencesâ€™, â€˜wordsâ€™, â€˜charactersâ€™) </p>
</blockquote>
<p>æ§åˆ¶TextInputæ˜¯å¦è¦è‡ªåŠ¨å°†ç‰¹å®šå­—ç¬¦åˆ‡æ¢ä¸ºå¤§å†™ï¼š</p>
<p>characters: æ‰€æœ‰çš„å­—ç¬¦ã€‚<br>words: æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚<br>sentences: æ¯å¥è¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆé»˜è®¤ï¼‰ã€‚<br>none: ä¸è‡ªåŠ¨åˆ‡æ¢ä»»ä½•å­—ç¬¦ä¸ºå¤§å†™ã€‚  </p>
<blockquote>
<p>autoCorrect bool </p>
</blockquote>
<p>å¦‚æœä¸ºfalseï¼Œä¼šå…³é—­æ‹¼å†™è‡ªåŠ¨ä¿®æ­£ã€‚é»˜è®¤å€¼æ˜¯trueã€‚</p>
<blockquote>
<p>autoFocus bool </p>
</blockquote>
<p>å¦‚æœä¸ºtrueï¼Œåœ¨componentDidMountåä¼šè·å¾—ç„¦ç‚¹ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>blurOnSubmit bool </p>
</blockquote>
<p>å¦‚æœä¸ºtrueï¼Œæ–‡æœ¬æ¡†ä¼šåœ¨æäº¤çš„æ—¶å€™å¤±ç„¦ã€‚å¯¹äºå•è¡Œè¾“å…¥æ¡†é»˜è®¤å€¼ä¸ºtrueï¼Œå¤šè¡Œåˆ™ä¸ºfalseã€‚æ³¨æ„ï¼šå¯¹äºå¤šè¡Œè¾“å…¥æ¡†æ¥è¯´ï¼Œå¦‚æœå°†blurOnSubmitè®¾ä¸ºtrueï¼Œåˆ™åœ¨æŒ‰ä¸‹å›è½¦é”®æ—¶å°±ä¼šå¤±å»ç„¦ç‚¹åŒæ—¶è§¦å‘onSubmitEditingäº‹ä»¶ï¼Œè€Œä¸ä¼šæ¢è¡Œã€‚</p>
<blockquote>
<p>defaultValue string </p>
</blockquote>
<p>æä¾›ä¸€ä¸ªæ–‡æœ¬æ¡†ä¸­çš„åˆå§‹å€¼ã€‚å½“ç”¨æˆ·å¼€å§‹è¾“å…¥çš„æ—¶å€™ï¼Œå€¼å°±å¯ä»¥æ”¹å˜ã€‚</p>
<p>åœ¨ä¸€äº›ç®€å•çš„ä½¿ç”¨æƒ…å½¢ä¸‹ï¼Œå¦‚æœä½ ä¸æƒ³ç”¨ç›‘å¬æ¶ˆæ¯ç„¶åæ›´æ–°valueå±æ€§çš„æ–¹æ³•æ¥ä¿æŒå±æ€§å’ŒçŠ¶æ€åŒæ­¥çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨defaultValueæ¥ä»£æ›¿ã€‚</p>
<blockquote>
<p>editable bool </p>
</blockquote>
<p>å¦‚æœä¸ºfalseï¼Œæ–‡æœ¬æ¡†æ˜¯ä¸å¯ç¼–è¾‘çš„ã€‚é»˜è®¤å€¼ä¸ºtrueã€‚</p>
<blockquote>
<p>keyboardType enum(â€œdefaultâ€, â€˜numericâ€™, â€˜email-addressâ€™, â€œascii-capableâ€, â€˜numbers-and-punctuationâ€™, â€˜urlâ€™, â€˜number-padâ€™, â€˜phone-padâ€™, â€˜name-phone-padâ€™, â€˜decimal-padâ€™, â€˜twitterâ€™, â€˜web-searchâ€™) </p>
</blockquote>
<p>å†³å®šå¼¹å‡ºçš„ä½•ç§è½¯é”®ç›˜çš„ï¼Œè­¬å¦‚numericï¼ˆçº¯æ•°å­—é”®ç›˜ï¼‰ã€‚</p>
<p>è¿™äº›å€¼åœ¨æ‰€æœ‰å¹³å°éƒ½å¯ç”¨ï¼š</p>
<p>default<br>numeric<br>email-address</p>
<blockquote>
<p>maxLength number </p>
</blockquote>
<p>é™åˆ¶æ–‡æœ¬æ¡†ä¸­æœ€å¤šçš„å­—ç¬¦æ•°ã€‚ä½¿ç”¨è¿™ä¸ªå±æ€§è€Œä¸ç”¨JSé€»è¾‘å»å®ç°ï¼Œå¯ä»¥é¿å…é—ªçƒçš„ç°è±¡ã€‚</p>
<blockquote>
<p>multiline bool </p>
</blockquote>
<p>å¦‚æœä¸ºtrueï¼Œæ–‡æœ¬æ¡†ä¸­å¯ä»¥è¾“å…¥å¤šè¡Œæ–‡å­—ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>onBlur function </p>
</blockquote>
<p>å½“æ–‡æœ¬æ¡†å¤±å»ç„¦ç‚¹çš„æ—¶å€™è°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚</p>
<blockquote>
<p>onChange function </p>
</blockquote>
<p>å½“æ–‡æœ¬æ¡†å†…å®¹å˜åŒ–æ—¶è°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚</p>
<blockquote>
<p>onChangeText function </p>
</blockquote>
<p>å½“æ–‡æœ¬æ¡†å†…å®¹å˜åŒ–æ—¶è°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚æ”¹å˜åçš„æ–‡å­—å†…å®¹ä¼šä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p>
<blockquote>
<p>onEndEditing function </p>
</blockquote>
<p>å½“æ–‡æœ¬è¾“å…¥ç»“æŸåè°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚</p>
<blockquote>
<p>onFocus function </p>
</blockquote>
<p>å½“æ–‡æœ¬æ¡†è·å¾—ç„¦ç‚¹çš„æ—¶å€™è°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚</p>
<blockquote>
<p>onLayout function </p>
</blockquote>
<p>å½“ç»„ä»¶æŒ‚è½½æˆ–è€…å¸ƒå±€å˜åŒ–çš„æ—¶å€™è°ƒç”¨ï¼Œå‚æ•°ä¸º{x, y, width, height}ã€‚</p>
<blockquote>
<p>onSubmitEditing function </p>
</blockquote>
<p>æ­¤å›è°ƒå‡½æ•°å½“è½¯é”®ç›˜çš„ç¡®å®š/æäº¤æŒ‰é’®è¢«æŒ‰ä¸‹çš„æ—¶å€™è°ƒç”¨æ­¤å‡½æ•°ã€‚å¦‚æœmultiline={true}ï¼Œæ­¤å±æ€§ä¸å¯ç”¨ã€‚</p>
<blockquote>
<p>placeholder string </p>
</blockquote>
<p>å¦‚æœæ²¡æœ‰ä»»ä½•æ–‡å­—è¾“å…¥ï¼Œä¼šæ˜¾ç¤ºæ­¤å­—ç¬¦ä¸²ã€‚</p>
<blockquote>
<p>placeholderTextColor string </p>
</blockquote>
<p>å ä½å­—ç¬¦ä¸²æ˜¾ç¤ºçš„æ–‡å­—é¢œè‰²ã€‚</p>
<blockquote>
<p>secureTextEntry bool </p>
</blockquote>
<p>å¦‚æœä¸ºtrueï¼Œæ–‡æœ¬æ¡†ä¼šé®ä½ä¹‹å‰è¾“å…¥çš„æ–‡å­—ï¼Œè¿™æ ·ç±»ä¼¼å¯†ç ä¹‹ç±»çš„æ•æ„Ÿæ–‡å­—å¯ä»¥æ›´åŠ å®‰å…¨ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>selectTextOnFocus bool </p>
</blockquote>
<p>å¦‚æœä¸ºtrueï¼Œå½“è·å¾—ç„¦ç‚¹çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„æ–‡å­—éƒ½ä¼šè¢«é€‰ä¸­ã€‚</p>
<blockquote>
<p>selectionColor string </p>
</blockquote>
<p>è®¾ç½®è¾“å…¥æ¡†é«˜äº®æ—¶çš„é¢œè‰²ï¼ˆåœ¨iOSä¸Šè¿˜åŒ…æ‹¬å…‰æ ‡ï¼‰</p>
<blockquote>
<p>style Text#style </p>
</blockquote>
<p>è¯‘æ³¨ï¼šè¿™æ„å‘³ç€æœ¬ç»„ä»¶ç»§æ‰¿äº†æ‰€æœ‰Textçš„æ ·å¼ã€‚</p>
<blockquote>
<p>value string </p>
</blockquote>
<p>æ–‡æœ¬æ¡†ä¸­çš„æ–‡å­—å†…å®¹ã€‚</p>
<p>TextInputæ˜¯ä¸€ä¸ªå—çº¦æŸçš„(Controlled)çš„ç»„ä»¶ï¼Œæ„å‘³ç€å¦‚æœæä¾›äº†valueå±æ€§ï¼ŒåŸç”Ÿå€¼ä¼šè¢«å¼ºåˆ¶ä¸valueå±æ€§ä¿æŒä¸€è‡´ã€‚åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿™éƒ½å·¥ä½œçš„å¾ˆå¥½ï¼Œä¸è¿‡æœ‰äº›æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¸€äº›é—ªçƒç°è±¡â€”â€”ä¸€ä¸ªå¸¸è§çš„åŸå› å°±æ˜¯é€šè¿‡ä¸æ”¹å˜valueæ¥é˜»æ­¢ç”¨æˆ·è¿›è¡Œç¼–è¾‘ã€‚å¦‚æœä½ å¸Œæœ›é˜»æ­¢ç”¨æˆ·è¾“å…¥ï¼Œå¯ä»¥è€ƒè™‘è®¾ç½®editable={false}ï¼›å¦‚æœä½ æ˜¯å¸Œæœ›é™åˆ¶è¾“å…¥çš„é•¿åº¦ï¼Œå¯ä»¥è€ƒè™‘è®¾ç½®maxLengthå±æ€§ï¼Œè¿™ä¸¤ä¸ªå±æ€§éƒ½ä¸ä¼šå¯¼è‡´é—ªçƒã€‚</p>
<blockquote>
<p>ios clearButtonMode enum(â€˜neverâ€™, â€˜while-editingâ€™, â€˜unless-editingâ€™, â€˜alwaysâ€™) </p>
</blockquote>
<p>æ˜¯å¦è¦åœ¨æ–‡æœ¬æ¡†å³ä¾§æ˜¾ç¤ºâ€œæ¸…é™¤â€æŒ‰é’®ã€‚</p>
<blockquote>
<p>ios clearTextOnFocus bool </p>
</blockquote>
<p>å¦‚æœä¸ºtrueï¼Œæ¯æ¬¡å¼€å§‹è¾“å…¥çš„æ—¶å€™éƒ½ä¼šæ¸…é™¤æ–‡æœ¬æ¡†çš„å†…å®¹ã€‚</p>
<blockquote>
<p>ios enablesReturnKeyAutomatically bool </p>
</blockquote>
<p>å¦‚æœä¸ºtrueï¼Œé”®ç›˜ä¼šåœ¨æ–‡æœ¬æ¡†å†…æ²¡æœ‰æ–‡å­—çš„æ—¶å€™ç¦ç”¨ç¡®è®¤æŒ‰é’®ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>ios keyboardAppearance enum(â€˜defaultâ€™, â€˜lightâ€™, â€˜darkâ€™) </p>
</blockquote>
<p>æŒ‡å®šé”®ç›˜çš„é¢œè‰²ã€‚</p>
<blockquote>
<p>ios onKeyPress function </p>
</blockquote>
<p>å½“ä¸€ä¸ªé”®è¢«æŒ‰ä¸‹çš„æ—¶å€™è°ƒç”¨æ­¤å›è°ƒã€‚è¢«æŒ‰ä¸‹çš„é”®ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚ä¼šåœ¨onChangeä¹‹å‰è°ƒç”¨ã€‚</p>
<blockquote>
<p>ios returnKeyType enum(â€˜defaultâ€™, â€˜goâ€™, â€˜googleâ€™, â€˜joinâ€™, â€˜nextâ€™, â€˜routeâ€™, â€˜searchâ€™, â€˜sendâ€™, â€˜yahooâ€™, â€˜doneâ€™, â€˜emergency-callâ€™)</p>
</blockquote>
<p>å†³å®šâ€œç¡®å®šâ€æŒ‰é’®æ˜¾ç¤ºçš„å†…å®¹ã€‚</p>
<blockquote>
<p>ios selectionState DocumentSelectionState </p>
</blockquote>
<p>å‚è§DocumentSelectionState.jsï¼Œå¯ä»¥æ§åˆ¶ä¸€ä¸ªæ–‡æ¡£ä¸­å“ªæ®µæ–‡å­—è¢«é€‰ä¸­çš„çŠ¶æ€ã€‚</p>
<blockquote>
<p>android numberOfLines number </p>
</blockquote>
<p>è®¾ç½®è¾“å…¥æ¡†çš„è¡Œæ•°ã€‚å½“multilineè®¾ç½®ä¸ºtrueæ—¶ä½¿ç”¨å®ƒï¼Œå¯ä»¥å æ®å¯¹åº”çš„è¡Œæ•°ã€‚</p>
<blockquote>
<p>android underlineColorAndroid string </p>
</blockquote>
<p>æ–‡æœ¬æ¡†çš„ä¸‹åˆ’çº¿é¢œè‰²(è¯‘æ³¨ï¼šå¦‚æœè¦å»æ‰æ–‡æœ¬æ¡†çš„è¾¹æ¡†ï¼Œè¯·å°†æ­¤å±æ€§è®¾ä¸ºé€æ˜transparent)ã€‚</p>
<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><blockquote>
<p>isFocused(): boolean #</p>
</blockquote>
<p>è¿”å›å€¼è¡¨æ˜å½“å‰è¾“å…¥æ¡†æ˜¯å¦è·å¾—äº†ç„¦ç‚¹ã€‚</p>
<blockquote>
<p>clear() </p>
</blockquote>
<p>æ¸…ç©ºè¾“å…¥æ¡†çš„å†…å®¹ã€‚</p>
<h2 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h2><p>ScrollViewæ˜¯ä¸€ä¸ªé€šç”¨çš„å¯æ»šåŠ¨çš„å®¹å™¨ï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­æ”¾å…¥å¤šä¸ªç»„ä»¶å’Œè§†å›¾ï¼Œè€Œä¸”è¿™äº›ç»„ä»¶å¹¶ä¸éœ€è¦æ˜¯åŒç±»å‹çš„ã€‚<br>ScrollViewä¸ä»…å¯ä»¥å‚ç›´æ»šåŠ¨ï¼Œè¿˜èƒ½æ°´å¹³æ»šåŠ¨ï¼ˆé€šè¿‡horizontalå±æ€§æ¥è®¾ç½®ï¼‰ã€‚<br>ScrollViewé€‚åˆç”¨æ¥æ˜¾ç¤ºæ•°é‡ä¸å¤šçš„æ»šåŠ¨å…ƒç´ ã€‚</p>
<h3 id="å±æ€§-3"><a href="#å±æ€§-3" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><blockquote>
<p>contentContainerStyle StyleSheetPropType(ViewStylePropTypes) </p>
</blockquote>
<p>è¿™äº›æ ·å¼ä¼šåº”ç”¨åˆ°ä¸€ä¸ªå†…å±‚çš„å†…å®¹å®¹å™¨ä¸Šï¼Œæ‰€æœ‰çš„å­è§†å›¾éƒ½ä¼šåŒ…è£¹åœ¨å†…å®¹å®¹å™¨å†…ã€‚ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ScrollView</span> <span class="attr">contentContainerStyle</span>=<span class="string">&#123;styles.contentContainer&#125;</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;/<span class="name">ScrollView</span>&gt;</span></div><div class="line">  );</div><div class="line">  ...</div><div class="line">  var styles = StyleSheet.create(&#123;</div><div class="line">    <span class="attr">contentContainer</span>: &#123;</div><div class="line">      <span class="attr">paddingVertical</span>: <span class="number">20</span></div><div class="line">    &#125;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p>horizontal bool </p>
</blockquote>
<p>å½“æ­¤å±æ€§ä¸ºtrueçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„çš„å­è§†å›¾ä¼šåœ¨æ°´å¹³æ–¹å‘ä¸Šæ’æˆä¸€è¡Œï¼Œè€Œä¸æ˜¯é»˜è®¤çš„åœ¨å‚ç›´æ–¹å‘ä¸Šæ’æˆä¸€åˆ—ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>keyboardDismissMode enum(â€˜noneâ€™, â€œinteractiveâ€, â€˜on-dragâ€™) </p>
</blockquote>
<p>ç”¨æˆ·æ‹–æ‹½æ»šåŠ¨è§†å›¾çš„æ—¶å€™ï¼Œæ˜¯å¦è¦éšè—è½¯é”®ç›˜ã€‚</p>
<p>noneï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œæ‹–æ‹½æ—¶ä¸éšè—è½¯é”®ç›˜ã€‚</p>
<p>on-drag å½“æ‹–æ‹½å¼€å§‹çš„æ—¶å€™éšè—è½¯é”®ç›˜ã€‚</p>
<p>interactive è½¯é”®ç›˜ä¼´éšæ‹–æ‹½æ“ä½œåŒæ­¥åœ°æ¶ˆå¤±ï¼Œå¹¶ä¸”å¦‚æœå¾€ä¸Šæ»‘åŠ¨ä¼šæ¢å¤é”®ç›˜ã€‚å®‰å“è®¾å¤‡ä¸Šä¸æ”¯æŒè¿™ä¸ªé€‰é¡¹ï¼Œä¼šè¡¨ç°çš„å’Œnoneä¸€æ ·ã€‚</p>
<blockquote>
<p>keyboardShouldPersistTaps bool </p>
</blockquote>
<p>å½“æ­¤å±æ€§ä¸ºfalseçš„æ—¶å€™ï¼Œåœ¨è½¯é”®ç›˜æ¿€æ´»ä¹‹åï¼Œç‚¹å‡»ç„¦ç‚¹æ–‡æœ¬è¾“å…¥æ¡†ä»¥å¤–çš„åœ°æ–¹ï¼Œé”®ç›˜å°±ä¼šéšè—ã€‚å¦‚æœä¸ºtrueï¼Œæ»šåŠ¨è§†å›¾ä¸ä¼šå“åº”ç‚¹å‡»æ“ä½œï¼Œå¹¶ä¸”é”®ç›˜ä¸ä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>onContentSizeChange function </p>
</blockquote>
<p>æ­¤å‡½æ•°ä¼šåœ¨ScrollViewå†…éƒ¨å¯æ»šåŠ¨å†…å®¹çš„è§†å›¾å‘ç”Ÿå˜åŒ–æ—¶è°ƒç”¨ã€‚</p>
<p>è°ƒç”¨å‚æ•°ä¸ºå†…å®¹è§†å›¾çš„å®½å’Œé«˜: (contentWidth, contentHeight)</p>
<p>æ­¤æ–¹æ³•æ˜¯é€šè¿‡ç»‘å®šåœ¨å†…å®¹å®¹å™¨ä¸Šçš„onLayoutæ¥å®ç°çš„ã€‚</p>
<blockquote>
<p>onScroll function </p>
</blockquote>
<p>åœ¨æ»šåŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæ¯å¸§æœ€å¤šè°ƒç”¨ä¸€æ¬¡æ­¤å›è°ƒå‡½æ•°ã€‚è°ƒç”¨çš„é¢‘ç‡å¯ä»¥ç”¨scrollEventThrottleå±æ€§æ¥æ§åˆ¶ã€‚</p>
<blockquote>
<p>refreshControl element </p>
</blockquote>
<p>æŒ‡å®šRefreshControlç»„ä»¶ï¼Œç”¨äºä¸ºScrollViewæä¾›ä¸‹æ‹‰åˆ·æ–°åŠŸèƒ½ã€‚</p>
<blockquote>
<p>removeClippedSubviews bool #</p>
</blockquote>
<p>ï¼ˆå®éªŒç‰¹æ€§ï¼‰ï¼šå½“æ­¤å±æ€§ä¸ºtrueæ—¶ï¼Œå±å¹•ä¹‹å¤–çš„å­è§†å›¾ï¼ˆå­è§†å›¾çš„overflowæ ·å¼éœ€è¦è®¾ä¸ºhiddenï¼‰ä¼šè¢«ç§»é™¤ã€‚è¿™ä¸ªå¯ä»¥æå‡å¤§åˆ—è¡¨çš„æ»šåŠ¨æ€§èƒ½ã€‚é»˜è®¤å€¼ä¸ºtrueã€‚</p>
<blockquote>
<p>showsHorizontalScrollIndicator bool </p>
</blockquote>
<p>å½“æ­¤å±æ€§ä¸ºtrueçš„æ—¶å€™ï¼Œæ˜¾ç¤ºä¸€ä¸ªæ°´å¹³æ–¹å‘çš„æ»šåŠ¨æ¡ã€‚</p>
<blockquote>
<p>showsVerticalScrollIndicator bool </p>
</blockquote>
<p>å½“æ­¤å±æ€§ä¸ºtrueçš„æ—¶å€™ï¼Œæ˜¾ç¤ºä¸€ä¸ªå‚ç›´æ–¹å‘çš„æ»šåŠ¨æ¡ã€‚</p>
<blockquote>
<p>pagingEnabled bool </p>
</blockquote>
<p>å½“å€¼ä¸ºtrueæ—¶ï¼Œæ»šåŠ¨æ¡ä¼šåœåœ¨æ»šåŠ¨è§†å›¾çš„å°ºå¯¸çš„æ•´æ•°å€ä½ç½®ã€‚è¿™ä¸ªå¯ä»¥ç”¨åœ¨æ°´å¹³åˆ†é¡µä¸Šã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>scrollEnabled bool </p>
</blockquote>
<p>å½“å€¼ä¸ºfalseçš„æ—¶å€™ï¼Œå†…å®¹ä¸èƒ½æ»šåŠ¨ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚</p>
<blockquote>
<p>styleå±æ€§<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">Flexbox...</div><div class="line">ShadowProp#style...</div><div class="line">Transforms...</div><div class="line">backfaceVisibility enum(&apos;visible&apos;, &apos;hidden&apos;)</div><div class="line">backgroundColor string</div><div class="line">borderColor string</div><div class="line">borderTopColor string</div><div class="line">borderRightColor string</div><div class="line">borderBottomColor string</div><div class="line">borderLeftColor string</div><div class="line">borderRadius number</div><div class="line">borderTopLeftRadius number</div><div class="line">borderTopRightRadius number</div><div class="line">borderBottomLeftRadius number</div><div class="line">borderBottomRightRadius number</div><div class="line">borderStyle enum(&apos;solid&apos;, &apos;dotted&apos;, &apos;dashed&apos;)</div><div class="line">borderWidth number</div><div class="line">borderTopWidth number</div><div class="line">borderRightWidth number</div><div class="line">borderBottomWidth number</div><div class="line">borderLeftWidth number</div><div class="line">opacity number</div><div class="line">overflow enum(&apos;visible&apos;, &apos;hidden&apos;)</div><div class="line">shadowColor string</div><div class="line">shadowOffset &#123;width: number, height: number&#125;</div><div class="line">shadowOpacity number</div><div class="line">shadowRadius number</div></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><blockquote>
<p>scrollTo(y: number | { x?: number, y?: number, animated?: boolean }, x: number, animated: boolean) </p>
</blockquote>
<p>æ»šåŠ¨åˆ°æŒ‡å®šçš„x, yåç§»å¤„ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ˜¯å¦å¯ç”¨å¹³æ»‘æ»šåŠ¨åŠ¨ç”»ã€‚<br>ä½¿ç”¨ç¤ºä¾‹:<br>scrollTo({x: 0, y: 0, animated: true})</p>
<h2 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h2><p>ListViewç»„ä»¶ç”¨äºæ˜¾ç¤ºä¸€ä¸ªå‚ç›´çš„æ»šåŠ¨åˆ—è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ ä¹‹é—´ç»“æ„è¿‘ä¼¼è€Œä»…æ•°æ®ä¸åŒã€‚<br>ListViewæ›´é€‚äºé•¿åˆ—è¡¨æ•°æ®ï¼Œä¸”å…ƒç´ ä¸ªæ•°å¯ä»¥å¢åˆ ã€‚å’ŒScrollViewä¸åŒçš„æ˜¯ï¼ŒListViewå¹¶ä¸ç«‹å³æ¸²æŸ“æ‰€æœ‰å…ƒç´ ï¼Œè€Œæ˜¯ä¼˜å…ˆæ¸²æŸ“å±å¹•ä¸Šå¯è§çš„å…ƒç´ ã€‚<br>ListViewæœ€åŸºæœ¬çš„ä½¿ç”¨æ–¹å¼å°±æ˜¯åˆ›å»ºä¸€ä¸ªListView.DataSourceæ•°æ®æºï¼Œç„¶åç»™å®ƒä¼ é€’ä¸€ä¸ªæ™®é€šçš„æ•°æ®æ•°ç»„ï¼Œ<br>å†ä½¿ç”¨æ•°æ®æºæ¥å®ä¾‹åŒ–ä¸€ä¸ªListViewç»„ä»¶ï¼Œå¹¶ä¸”å®šä¹‰å®ƒçš„renderRowå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ¥å—æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°æ®ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯æ¸²æŸ“çš„ç»„ä»¶ï¼ˆä½œä¸ºlistviewçš„æ¯ä¸€è¡Œï¼‰ã€‚<br>rowHasChangedå‡½æ•°ä¹Ÿæ˜¯ListViewçš„å¿…éœ€å±æ€§ã€‚(===ç¬¦å·åªæ¯”è¾ƒåŸºæœ¬ç±»å‹æ•°æ®çš„å€¼ï¼Œå’Œå¼•ç”¨ç±»å‹çš„åœ°å€)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">constructor</span>(props) &#123;</div><div class="line">  <span class="keyword">super</span>(props);</div><div class="line">  <span class="keyword">var</span> ds = <span class="keyword">new</span> ListView.DataSource(&#123;<span class="attr">rowHasChanged</span>: <span class="function">(<span class="params">r1, r2</span>) =&gt;</span> r1 !== r2&#125;);</div><div class="line">  <span class="keyword">this</span>.state = &#123;</div><div class="line">    <span class="attr">dataSource</span>: ds.cloneWithRows([<span class="string">'row 1'</span>, <span class="string">'row 2'</span>]),</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line">render() &#123;</div><div class="line">  <span class="keyword">return</span> (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ListView</span></span></span></div><div class="line">      <span class="attr">dataSource</span>=<span class="string">&#123;this.state.dataSource&#125;</span></div><div class="line">      <span class="attr">renderRow</span>=<span class="string">&#123;(rowData)</span> =&gt; <span class="tag">&lt;<span class="name">Text</span>&gt;</span>&#123;rowData&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span>&#125;</div><div class="line">    /&gt;</div><div class="line">  );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ListViewè¿˜æ”¯æŒä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œè­¬å¦‚ç»™æ¯æ®µ/ç»„(section)æ•°æ®æ·»åŠ ä¸€ä¸ªå¸¦æœ‰ç²˜æ€§çš„å¤´éƒ¨ï¼ˆç±»ä¼¼iPhoneçš„é€šè®¯å½•ï¼Œå…¶é¦–å­—æ¯ä¼šåœ¨æ»‘åŠ¨è¿‡ç¨‹ä¸­å¸é™„åœ¨å±å¹•ä¸Šæ–¹ï¼‰ï¼›<br>åœ¨åˆ—è¡¨å¤´éƒ¨å’Œå°¾éƒ¨å¢åŠ å•ç‹¬çš„å†…å®¹ï¼›åœ¨åˆ°è¾¾åˆ—è¡¨å°¾éƒ¨çš„æ—¶å€™è°ƒç”¨å›è°ƒå‡½æ•°(onEndReached)ï¼Œè¿˜æœ‰åœ¨è§†é‡å†…å¯è§çš„æ•°æ®å˜åŒ–æ—¶è°ƒç”¨å›è°ƒå‡½æ•°(onChangeVisibleRows)ï¼Œ<br>ä»¥åŠä¸€äº›æ€§èƒ½æ–¹é¢çš„ä¼˜åŒ–ã€‚<br>æœ‰ä¸€äº›æ€§èƒ½ä¼˜åŒ–ä½¿å¾—ListViewå¯ä»¥æ»šåŠ¨çš„æ›´åŠ å¹³æ»‘ï¼Œå°¤å…¶æ˜¯åœ¨åŠ¨æ€åŠ è½½å¯èƒ½å¾ˆå¤§ï¼ˆæˆ–è€…æ¦‚å¿µä¸Šæ— é™é•¿çš„ï¼‰æ•°æ®é›†çš„æ—¶å€™ï¼š  </p>
<ul>
<li>åªæ›´æ–°å˜åŒ–çš„è¡Œ - æä¾›ç»™æ•°æ®æºçš„rowHasChangedå‡½æ•°å¯ä»¥å‘Šè¯‰ListViewå®ƒæ˜¯å¦éœ€è¦é‡ç»˜ä¸€è¡Œæ•°æ®ï¼ˆå³ï¼šæ•°æ®æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ï¼‰å‚è§ListViewDataSource</li>
<li>é™åˆ¶é¢‘ç‡çš„è¡Œæ¸²æŸ“ - é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¶ˆæ¯å¾ªç¯åªæœ‰ä¸€è¡Œä¼šè¢«æ¸²æŸ“ï¼ˆå¯ä»¥ç”¨pageSizeå±æ€§é…ç½®ï¼‰ã€‚è¿™æŠŠè¾ƒå¤§çš„å·¥ä½œåˆ†æ•£æˆå°çš„ç¢ç‰‡ï¼Œä»¥é™ä½å› ä¸ºæ¸²æŸ“è€Œå¯¼è‡´ä¸¢å¸§çš„å¯èƒ½æ€§ã€‚</li>
</ul>
<h3 id="å±æ€§-4"><a href="#å±æ€§-4" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><blockquote>
<p>ScrollView propsâ€¦ </p>
</blockquote>
<p>ListViewå¯ä»¥ä½¿ç”¨æ‰€æœ‰ScrollViewçš„å±æ€§ã€‚</p>
<blockquote>
<p>dataSource ListViewDataSource </p>
</blockquote>
<p>ListView.DataSourceå®ä¾‹ï¼ˆåˆ—è¡¨ä¾èµ–çš„æ•°æ®æºï¼‰</p>
<blockquote>
<p>initialListSize number </p>
</blockquote>
<p>æŒ‡å®šåœ¨ç»„ä»¶åˆšæŒ‚è½½çš„æ—¶å€™æ¸²æŸ“å¤šå°‘è¡Œæ•°æ®ã€‚ç”¨è¿™ä¸ªå±æ€§æ¥ç¡®ä¿é¦–å±æ˜¾ç¤ºåˆé€‚æ•°é‡çš„æ•°æ®ï¼Œè€Œä¸æ˜¯èŠ±è´¹å¤ªå¤šå¸§é€æ­¥æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<blockquote>
<p>onChangeVisibleRows function </p>
</blockquote>
<p>(visibleRows, changedRows) =&gt; void</p>
<p>å½“å¯è§çš„è¡Œçš„é›†åˆå˜åŒ–çš„æ—¶å€™è°ƒç”¨æ­¤å›è°ƒå‡½æ•°ã€‚visibleRows ä»¥ { sectionID: { rowID: true }}çš„æ ¼å¼åŒ…å«äº†æ‰€æœ‰å¯è§è¡Œï¼Œè€ŒchangedRows ä»¥{ sectionID: { rowID: true | false }}çš„æ ¼å¼åŒ…å«äº†æ‰€æœ‰åˆšåˆšæ”¹å˜äº†å¯è§æ€§çš„è¡Œï¼Œå…¶ä¸­å¦‚æœå€¼ä¸ºtrueè¡¨ç¤ºä¸€ä¸ªè¡Œå˜å¾—å¯è§ï¼Œè€Œä¸ºfalseè¡¨ç¤ºè¡Œåˆšåˆšç¦»å¼€å¯è§†åŒºåŸŸè€Œå˜å¾—ä¸å¯è§ã€‚</p>
<blockquote>
<p>onEndReached function </p>
</blockquote>
<p>å½“æ‰€æœ‰çš„æ•°æ®éƒ½å·²ç»æ¸²æŸ“è¿‡ï¼Œå¹¶ä¸”åˆ—è¡¨è¢«æ»šåŠ¨åˆ°è·ç¦»æœ€åº•éƒ¨ä¸è¶³onEndReachedThresholdä¸ªåƒç´ çš„è·ç¦»æ—¶è°ƒç”¨ã€‚åŸç”Ÿçš„æ»šåŠ¨äº‹ä»¶ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ é€’ã€‚è¯‘æ³¨ï¼šå½“ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼Œå¦‚æœæ•°æ®ä¸è¶³ä¸€å±ï¼ˆæ¯”å¦‚åˆå§‹å€¼æ˜¯ç©ºçš„ï¼‰ï¼Œè¿™ä¸ªäº‹ä»¶ä¹Ÿä¼šè¢«è§¦å‘ï¼Œè¯·è‡ªè¡Œåšæ ‡è®°è¿‡æ»¤ã€‚</p>
<blockquote>
<p>onEndReachedThreshold number </p>
</blockquote>
<p>è°ƒç”¨onEndReachedä¹‹å‰çš„ä¸´ç•Œå€¼ï¼Œå•ä½æ˜¯åƒç´ ã€‚</p>
<blockquote>
<p>pageSize number </p>
</blockquote>
<p>æ¯æ¬¡äº‹ä»¶å¾ªç¯ï¼ˆæ¯å¸§ï¼‰æ¸²æŸ“çš„è¡Œæ•°ã€‚</p>
<blockquote>
<p>removeClippedSubviews bool </p>
</blockquote>
<p>ç”¨äºæå‡å¤§åˆ—è¡¨çš„æ»šåŠ¨æ€§èƒ½ã€‚éœ€è¦ç»™è¡Œå®¹å™¨æ·»åŠ æ ·å¼overflow:â€™hiddenâ€™ã€‚ï¼ˆAndroidå·²é»˜è®¤æ·»åŠ æ­¤æ ·å¼ï¼‰ã€‚æ­¤å±æ€§é»˜è®¤å¼€å¯ã€‚</p>
<blockquote>
<p>renderFooter function </p>
</blockquote>
<p>() =&gt; renderable</p>
<p>é¡µå¤´ä¸é¡µè„šä¼šåœ¨æ¯æ¬¡æ¸²æŸ“è¿‡ç¨‹ä¸­éƒ½é‡æ–°æ¸²æŸ“ï¼ˆå¦‚æœæä¾›äº†è¿™äº›å±æ€§ï¼‰ã€‚å¦‚æœå®ƒä»¬é‡ç»˜çš„æ€§èƒ½å¼€é”€å¾ˆå¤§ï¼ŒæŠŠä»–ä»¬åŒ…è£…åˆ°ä¸€ä¸ªStaticContaineræˆ–è€…å…¶å®ƒæ°å½“çš„ç»“æ„ä¸­ã€‚é¡µè„šä¼šæ°¸è¿œåœ¨åˆ—è¡¨çš„æœ€åº•éƒ¨ï¼Œè€Œé¡µå¤´ä¼šåœ¨æœ€é¡¶éƒ¨ã€‚</p>
<blockquote>
<p>renderHeader function </p>
<p>renderRow function </p>
</blockquote>
<p>(rowData, sectionID, rowID, highlightRow) =&gt; renderable</p>
<p>ä»æ•°æ®æº(Data source)ä¸­æ¥å—ä¸€æ¡æ•°æ®ï¼Œä»¥åŠå®ƒå’Œå®ƒæ‰€åœ¨sectionçš„IDã€‚è¿”å›ä¸€ä¸ªå¯æ¸²æŸ“çš„ç»„ä»¶æ¥ä¸ºè¿™è¡Œæ•°æ®è¿›è¡Œæ¸²æŸ“ã€‚é»˜è®¤æƒ…å†µä¸‹å‚æ•°ä¸­çš„æ•°æ®å°±æ˜¯æ”¾è¿›æ•°æ®æºä¸­çš„æ•°æ®æœ¬èº«ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥æä¾›ä¸€äº›è½¬æ¢å™¨ã€‚</p>
<p>å¦‚æœæŸä¸€è¡Œæ­£åœ¨è¢«é«˜äº®ï¼ˆé€šè¿‡è°ƒç”¨highlightRowå‡½æ•°ï¼‰ï¼ŒListViewä¼šå¾—åˆ°ç›¸åº”çš„é€šçŸ¥ã€‚å½“ä¸€è¡Œè¢«é«˜äº®æ—¶ï¼Œå…¶ä¸¤ä¾§çš„åˆ†å‰²çº¿ä¼šè¢«éšè—ã€‚è¡Œçš„é«˜äº®çŠ¶æ€å¯ä»¥é€šè¿‡è°ƒç”¨highlightRow(null)æ¥é‡ç½®ã€‚</p>
<blockquote>
<p>renderScrollComponent function </p>
</blockquote>
<p>(props) =&gt; renderable</p>
<p>æŒ‡å®šä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å…¶ä¸­è¿”å›ä¸€ä¸ªå¯ä»¥æ»šåŠ¨çš„ç»„ä»¶ã€‚ListViewå°†ä¼šåœ¨è¯¥ç»„ä»¶å†…éƒ¨è¿›è¡Œæ¸²æŸ“ã€‚é»˜è®¤æƒ…å†µä¸‹ä¼šè¿”å›ä¸€ä¸ªåŒ…å«æŒ‡å®šå±æ€§çš„ScrollViewã€‚</p>
<blockquote>
<p>renderSectionHeader function </p>
</blockquote>
<p>(sectionData, sectionID) =&gt; renderable</p>
<p>å¦‚æœæä¾›äº†æ­¤å‡½æ•°ï¼Œä¼šä¸ºæ¯ä¸ªå°èŠ‚(section)æ¸²æŸ“ä¸€ä¸ªç²˜æ€§çš„æ ‡é¢˜ã€‚</p>
<p>ç²˜æ€§æ˜¯æŒ‡å½“å®ƒåˆšå‡ºç°æ—¶ï¼Œä¼šå¤„åœ¨å¯¹åº”å°èŠ‚çš„å†…å®¹é¡¶éƒ¨ï¼›ç»§ç»­ä¸‹æ»‘å½“å®ƒåˆ°è¾¾å±å¹•é¡¶ç«¯çš„æ—¶å€™ï¼Œå®ƒä¼šåœç•™åœ¨å±å¹•é¡¶ç«¯ï¼Œä¸€ç›´åˆ°å¯¹åº”çš„ä½ç½®è¢«ä¸‹ä¸€ä¸ªå°èŠ‚çš„æ ‡é¢˜å æ®ä¸ºæ­¢ã€‚</p>
<blockquote>
<p>renderSeparator function </p>
</blockquote>
<p>(sectionID, rowID, adjacentRowHighlighted) =&gt; renderable</p>
<p>å¦‚æœæä¾›äº†æ­¤å±æ€§ï¼Œä¸€ä¸ªå¯æ¸²æŸ“çš„ç»„ä»¶ä¼šè¢«æ¸²æŸ“åœ¨æ¯ä¸€è¡Œä¸‹é¢ï¼Œé™¤äº†å°èŠ‚æ ‡é¢˜çš„å‰é¢çš„æœ€åä¸€è¡Œã€‚åœ¨å…¶ä¸Šæ–¹çš„å°èŠ‚IDå’Œè¡ŒIDï¼Œä»¥åŠé‚»è¿‘çš„è¡Œæ˜¯å¦è¢«é«˜äº®ä¼šä½œä¸ºå‚æ•°ä¼ é€’è¿›æ¥ã€‚</p>
<blockquote>
<p>scrollRenderAheadDistance number </p>
</blockquote>
<p>å½“ä¸€ä¸ªè¡Œæ¥è¿‘å±å¹•èŒƒå›´å¤šå°‘åƒç´ ä¹‹å†…çš„æ—¶å€™ï¼Œå°±å¼€å§‹æ¸²æŸ“è¿™ä¸€è¡Œã€‚</p>
<h3 id="æ–¹æ³•-2"><a href="#æ–¹æ³•-2" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><blockquote>
<p>getMetrics() </p>
</blockquote>
<p>å¯¼å‡ºä¸€äº›ç”¨äºæ€§èƒ½åˆ†æçš„æ•°æ®ã€‚</p>
<blockquote>
<p>scrollTo(â€¦args) </p>
</blockquote>
<p>æ»šåŠ¨åˆ°æŒ‡å®šçš„x, yåç§»å¤„ï¼Œå¯ä»¥æŒ‡å®šæ˜¯å¦åŠ ä¸Šè¿‡æ¸¡åŠ¨ç”»ã€‚<br>å‚è€ƒ:ScrollView#scrollTo.</p>
<h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h2><h3 id="ä½¿ç”¨Fetch"><a href="#ä½¿ç”¨Fetch" class="headerlink" title="ä½¿ç”¨Fetch"></a>ä½¿ç”¨Fetch</h3><p>React Nativeæä¾›äº†å’Œwebæ ‡å‡†ä¸€è‡´çš„Fetch APIï¼Œç”¨äºæ»¡è¶³å¼€å‘è€…è®¿é—®ç½‘ç»œçš„éœ€æ±‚ã€‚</p>
<blockquote>
<p>å‘èµ·ç½‘ç»œè¯·æ±‚</p>
</blockquote>
<p>è¦ä»ä»»æ„åœ°å€è·å–å†…å®¹çš„è¯ï¼Œåªéœ€ç®€å•åœ°å°†ç½‘å€ä½œä¸ºå‚æ•°ä¼ é€’ç»™fetchæ–¹æ³•å³å¯ï¼ˆfetchè¿™ä¸ªè¯æœ¬èº«ä¹Ÿå°±æ˜¯è·å–çš„æ„æ€ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fetch(<span class="string">'https://mywebsite.com/mydata.json'</span>)</div></pre></td></tr></table></figure>
<p>Fetchè¿˜æœ‰å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥ç”¨æ¥å®šåˆ¶HTTPè¯·æ±‚ä¸€äº›å‚æ•°ã€‚ä½ å¯ä»¥æŒ‡å®šheaderå‚æ•°ï¼Œæˆ–æ˜¯æŒ‡å®šä½¿ç”¨POSTæ–¹æ³•ï¼Œåˆæˆ–æ˜¯æäº¤æ•°æ®ç­‰ç­‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">fetch(<span class="string">'https://mywebsite.com/endpoint/'</span>, &#123;</div><div class="line">  <span class="attr">method</span>: <span class="string">'POST'</span>,</div><div class="line">  <span class="attr">headers</span>: &#123;</div><div class="line">    <span class="string">'Accept'</span>: <span class="string">'application/json'</span>,</div><div class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">body</span>: <span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">    <span class="attr">firstParam</span>: <span class="string">'yourValue'</span>,</div><div class="line">    <span class="attr">secondParam</span>: <span class="string">'yourOtherValue'</span>,</div><div class="line">  &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>å¦‚æœä½ çš„æœåŠ¡å™¨æ— æ³•è¯†åˆ«ä¸Šé¢POSTçš„æ•°æ®æ ¼å¼ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•ä¼ ç»Ÿçš„formæ ¼å¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">fetch(<span class="string">'https://mywebsite.com/endpoint/'</span>, &#123;</div><div class="line">  <span class="attr">method</span>: <span class="string">'POST'</span>,</div><div class="line">  <span class="attr">headers</span>: &#123;</div><div class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">body</span>: <span class="string">'key1=value1&amp;key2=value2'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>å¯ä»¥å‚è€ƒFetchè¯·æ±‚æ–‡æ¡£æ¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„å‚æ•°ã€‚</p>
<blockquote>
<p>å¤„ç†æœåŠ¡å™¨çš„å“åº”æ•°æ®</p>
</blockquote>
<p>ç½‘ç»œè¯·æ±‚å¤©ç„¶æ˜¯ä¸€ç§å¼‚æ­¥æ“ä½œã€‚Fetch æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªPromiseï¼Œè¿™ç§æ¨¡å¼å¯ä»¥ç®€åŒ–å¼‚æ­¥é£æ ¼çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">getMoviesFromApiAsync() &#123;</div><div class="line">  <span class="keyword">return</span> fetch(<span class="string">'http://facebook.github.io/react-native/movies.json'</span>)</div><div class="line">    .then(<span class="function">(<span class="params">response</span>) =&gt;</span> response.json())</div><div class="line">    .then(<span class="function">(<span class="params">responseJson</span>) =&gt;</span> &#123;</div><div class="line">      <span class="keyword">return</span> responseJson.movies;</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</div><div class="line">      <span class="built_in">console</span>.error(error);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨React Nativeåº”ç”¨ä¸­ä½¿ç”¨ES7æ ‡å‡†ä¸­çš„async/await è¯­æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ³¨æ„è¿™ä¸ªæ–¹æ³•å‰é¢æœ‰asyncå…³é”®å­—</span></div><div class="line"><span class="keyword">async</span> getMoviesFromApi() &#123;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="comment">// æ³¨æ„è¿™é‡Œçš„awaitè¯­å¥ï¼Œå…¶æ‰€åœ¨çš„å‡½æ•°å¿…é¡»æœ‰asyncå…³é”®å­—å£°æ˜</span></div><div class="line">    <span class="keyword">let</span> response = <span class="keyword">await</span> fetch(<span class="string">'http://facebook.github.io/react-native/movies.json'</span>);</div><div class="line">    <span class="keyword">let</span> responseJson = <span class="keyword">await</span> response.json();</div><div class="line">    <span class="keyword">return</span> responseJson.movies;</div><div class="line">  &#125; <span class="keyword">catch</span>(error) &#123;</div><div class="line">    <span class="built_in">console</span>.error(error);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åˆ«å¿˜äº†catchä½fetchå¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦åˆ™å‡ºé”™æ—¶ä½ å¯èƒ½çœ‹ä¸åˆ°ä»»ä½•æç¤ºã€‚</p>
<h3 id="ä½¿ç”¨å…¶ä»–çš„ç½‘ç»œåº“"><a href="#ä½¿ç”¨å…¶ä»–çš„ç½‘ç»œåº“" class="headerlink" title="ä½¿ç”¨å…¶ä»–çš„ç½‘ç»œåº“"></a>ä½¿ç”¨å…¶ä»–çš„ç½‘ç»œåº“</h3><p>React Nativeä¸­å·²ç»å†…ç½®äº†XMLHttpRequest API(ä¹Ÿå°±æ˜¯ä¿—ç§°çš„ajax)ã€‚ä¸€äº›åŸºäºXMLHttpRequestå°è£…çš„ç¬¬ä¸‰æ–¹åº“ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œ<br>ä¾‹å¦‚frisbeeæˆ–æ˜¯axiosç­‰ã€‚ä½†æ³¨æ„ä¸èƒ½ä½¿ç”¨jQueryï¼Œå› ä¸ºjQueryä¸­è¿˜ä½¿ç”¨äº†å¾ˆå¤šæµè§ˆå™¨ä¸­æ‰æœ‰è€ŒRNä¸­æ²¡æœ‰çš„ä¸œè¥¿ï¼ˆæ‰€ä»¥ä¹Ÿä¸æ˜¯æ‰€æœ‰webä¸­çš„ajaxåº“éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰ã€‚</p>
<h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><p>React Nativeè¿˜æ”¯æŒWebSocketï¼Œè¿™ç§åè®®å¯ä»¥åœ¨å•ä¸ªTCPè¿æ¥ä¸Šæä¾›å…¨åŒå·¥çš„é€šä¿¡ä¿¡é“ã€‚<br>WebSocketä¸€å¼€å§‹çš„æ¡æ‰‹éœ€è¦å€ŸåŠ©HTTPè¯·æ±‚å®Œæˆï¼Œå¯ä»¥å®ç°å®æ—¶é€šè®¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">'ws://host.com/path'</span>);</div><div class="line"></div><div class="line">ws.onopen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="comment">// æ‰“å¼€ä¸€ä¸ªè¿æ¥</span></div><div class="line">  ws.send(<span class="string">'something'</span>); <span class="comment">// å‘é€ä¸€ä¸ªæ¶ˆæ¯</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line">ws.onmessage = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">  <span class="comment">// æ¥æ”¶åˆ°äº†ä¸€ä¸ªæ¶ˆæ¯</span></div><div class="line">  <span class="built_in">console</span>.log(e.data);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">ws.onerror = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">  <span class="comment">// å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯</span></div><div class="line">  <span class="built_in">console</span>.log(e.message);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">ws.onclose = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">  <span class="comment">// è¿æ¥è¢«å…³é—­äº†</span></div><div class="line">  <span class="built_in">console</span>.log(e.code, e.reason);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h1 id="å¯¼èˆªå™¨"><a href="#å¯¼èˆªå™¨" class="headerlink" title="å¯¼èˆªå™¨"></a>å¯¼èˆªå™¨</h1><h2 id="Navigator"><a href="#Navigator" class="headerlink" title="Navigator"></a>Navigator</h2><h3 id="åœºæ™¯ï¼ˆSceneï¼‰çš„æ¦‚å¿µä¸ä½¿ç”¨"><a href="#åœºæ™¯ï¼ˆSceneï¼‰çš„æ¦‚å¿µä¸ä½¿ç”¨" class="headerlink" title="åœºæ™¯ï¼ˆSceneï¼‰çš„æ¦‚å¿µä¸ä½¿ç”¨"></a>åœºæ™¯ï¼ˆSceneï¼‰çš„æ¦‚å¿µä¸ä½¿ç”¨</h3><p>æ— è®ºæ˜¯Viewä¸­åŒ…å«Textï¼Œè¿˜æ˜¯ä¸€ä¸ªæ’æ»¡äº†å›¾ç‰‡çš„ScrollViewï¼Œæ¸²æŸ“å„ç§ç»„ä»¶ç°åœ¨å¯¹ä½ æ¥è¯´åº”è¯¥å·²ç»å¾—å¿ƒåº”æ‰‹äº†ã€‚<br>è¿™äº›æ‘†æ”¾åœ¨ä¸€ä¸ªå±å¹•ä¸­çš„ç»„ä»¶ï¼Œå°±å…±åŒæ„æˆäº†ä¸€ä¸ªâ€œåœºæ™¯ï¼ˆSceneï¼‰â€ã€‚åœºæ™¯ç®€å•æ¥è¯´å…¶å®å°±æ˜¯ä¸€ä¸ªå…¨å±çš„Reactç»„ä»¶ã€‚</p>
<p>ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ªä»…æ˜¾ç¤ºä¸€äº›æ–‡æœ¬çš„ç®€å•åœºæ™¯ï¼š</p>
<blockquote>
<p>MyScene.jsï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123; View, Text &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MyScene</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> defaultProps = &#123;</div><div class="line">    <span class="attr">title</span>: <span class="string">'MyScene'</span></div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">View</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">Text</span>&gt;</span>Hi! My name is &#123;this.props.title&#125;.<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<font color="#D96060"><br>æ³¨æ„:ç»„ä»¶å£°æ˜å‰é¢çš„export defaultå…³é”®å­—ã€‚å®ƒçš„æ„æ€æ˜¯å¯¼å‡º(export)å½“å‰ç»„ä»¶ï¼Œä»¥å…è®¸å…¶ä»–ç»„ä»¶å¼•å…¥(import)å’Œä½¿ç”¨å½“å‰ç»„ä»¶ã€‚<br></font>

<blockquote>
<p>index.android.js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123; AppRegistry &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="comment">// ./MySceneè¡¨ç¤ºçš„æ˜¯å½“å‰ç›®å½•ä¸‹çš„MyScene.jsæ–‡ä»¶</span></div><div class="line"><span class="comment">// æ³¨æ„å³ä¾¿å½“å‰æ–‡ä»¶å’ŒMyScene.jsåœ¨åŒä¸€ä¸ªç›®å½•ä¸­ï¼Œ"./"ä¸¤ä¸ªç¬¦å·ä¹Ÿæ˜¯ä¸èƒ½çœç•¥çš„ï¼</span></div><div class="line"><span class="comment">// ä½†æ˜¯.jsåç¼€æ˜¯å¯ä»¥çœç•¥çš„</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> MyScene <span class="keyword">from</span> <span class="string">'./MyScene'</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">YoDawgApp</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">MyScene</span> /&gt;</span></span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">AppRegistry.registerComponent('YoDawgApp', () =&gt; YoDawgApp);</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ç°åœ¨å·²ç»åˆ›å»ºäº†åªæœ‰å•ä¸ªåœºæ™¯çš„Appã€‚å…¶ä¸­çš„MySceneåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¯å¤ç”¨çš„Reacç»„ä»¶çš„ä¾‹å­ã€‚</p>
<h3 id="ä½¿ç”¨Navigator"><a href="#ä½¿ç”¨Navigator" class="headerlink" title="ä½¿ç”¨Navigator"></a>ä½¿ç”¨Navigator</h3><p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹å°è¯•å¯¼èˆªè·³è½¬ã€‚é¦–å…ˆè¦åšçš„æ˜¯æ¸²æŸ“ä¸€ä¸ªNavigatorç»„ä»¶ï¼Œç„¶åé€šè¿‡æ­¤ç»„ä»¶çš„renderSceneå±æ€§æ–¹æ³•æ¥æ¸²æŸ“å…¶ä»–åœºæ™¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">render() &#123;</div><div class="line">  <span class="keyword">return</span> (</div><div class="line">    &lt;Navigator</div><div class="line">      initialRoute=&#123;&#123; title: 'My Initial Scene', index: 0 &#125;&#125;</div><div class="line">      renderScene=&#123;(route, navigator) =&gt; &#123;</div><div class="line">        return &lt;MyScene title=&#123;route.title&#125; /&gt;</div><div class="line">      &#125;&#125;</div><div class="line">    /&gt;</div><div class="line">  );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨å¯¼èˆªå™¨ç»å¸¸ä¼šç¢°åˆ°â€œè·¯ç”±(route)â€çš„æ¦‚å¿µã€‚â€œè·¯ç”±â€æŠ½è±¡è‡ªç°å®ç”Ÿæ´»ä¸­çš„è·¯ç‰Œï¼Œåœ¨RNä¸­ä¸“æŒ‡åŒ…å«äº†åœºæ™¯ä¿¡æ¯çš„å¯¹è±¡ã€‚<br>renderSceneæ–¹æ³•æ˜¯å®Œå…¨æ ¹æ®è·¯ç”±æä¾›çš„ä¿¡æ¯æ¥æ¸²æŸ“åœºæ™¯çš„ï¼Œä½ å¯ä»¥åœ¨è·¯ç”±ä¸­ä»»æ„è‡ªå®šä¹‰å‚æ•°ä»¥åŒºåˆ†æ ‡è®°ä¸åŒçš„åœºæ™¯ã€‚</p>
<h4 id="å°†åœºæ™¯æ¨å…¥å¯¼èˆªæ ˆ"><a href="#å°†åœºæ™¯æ¨å…¥å¯¼èˆªæ ˆ" class="headerlink" title="å°†åœºæ™¯æ¨å…¥å¯¼èˆªæ ˆ"></a>å°†åœºæ™¯æ¨å…¥å¯¼èˆªæ ˆ</h4><p>è¦è¿‡æ¸¡åˆ°æ–°çš„åœºæ™¯ï¼Œä½ éœ€è¦äº†è§£pushå’Œpopæ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•ç”±navigatorå¯¹è±¡æä¾›ï¼Œè€Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯ä¸Šé¢çš„renderSceneæ–¹æ³•ä¸­ä¼ é€’çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚<br>æˆ‘ä»¬ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•æ¥æŠŠè·¯ç”±å¯¹è±¡æ¨å…¥æˆ–å¼¹å‡ºå¯¼èˆªæ ˆã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">navigator.push(&#123;</div><div class="line">  <span class="attr">title</span>: <span class="string">'Next Scene'</span>,</div><div class="line">  <span class="attr">index</span>: <span class="number">1</span>,</div><div class="line">&#125;);</div><div class="line"></div><div class="line">navigator.pop();</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123; AppRegistry, Navigator, Text, View &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> MyScene <span class="keyword">from</span> <span class="string">'./MyScene'</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleNavigationApp</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;Navigator</div><div class="line">        initialRoute=&#123;&#123; title: 'My Initial Scene', index: 0 &#125;&#125;</div><div class="line">        renderScene=&#123;(route, navigator) =&gt;</div><div class="line">          &lt;MyScene</div><div class="line">            title=&#123;route.title&#125;</div><div class="line"></div><div class="line">            // è°ƒç”¨è¿™ä¸ªå‡½æ•°æ˜¾ç¤ºä¸€ä¸ªæ–°çš„åœºæ™¯           </div><div class="line">            onForward=&#123; () =&gt; &#123;    </div><div class="line">              const nextIndex = route.index + 1;</div><div class="line">              navigator.push(&#123;</div><div class="line">                title: 'Scene ' + nextIndex,</div><div class="line">                index: nextIndex,</div><div class="line">              &#125;);</div><div class="line">            &#125;&#125;</div><div class="line"></div><div class="line">            // è°ƒç”¨è¿™ä¸ªå‡½æ•°å›åˆ°å½“å‰åœºæ™¯</div><div class="line">            onBack=&#123;() =&gt; &#123;</div><div class="line">              if (route.index &gt; 0) &#123;</div><div class="line">                navigator.pop();</div><div class="line">              &#125;</div><div class="line">            &#125;&#125;</div><div class="line">          /&gt;</div><div class="line">        &#125;</div><div class="line">      /&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">AppRegistry.registerComponent('SimpleNavigationApp', () =&gt; SimpleNavigationApp);</div></pre></td></tr></table></figure>
<blockquote>
<p>MyScene.js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component, PropTypes &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123; View, Text, TouchableHighlight &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MyScene</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> propTypes = &#123;</div><div class="line">    <span class="attr">title</span>: PropTypes.string.isRequired,</div><div class="line">    <span class="attr">onForward</span>: PropTypes.func.isRequired,</div><div class="line">    <span class="attr">onBack</span>: PropTypes.func.isRequired,</div><div class="line">  &#125;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">View</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">Text</span>&gt;</span>Current Scene: &#123; this.props.title &#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">TouchableHighlight</span> <span class="attr">onPress</span>=<span class="string">&#123;this.props.onForward&#125;</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Text</span>&gt;</span>ç‚¹æˆ‘è¿›å…¥ä¸‹ä¸€åœºæ™¯<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">TouchableHighlight</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">TouchableHighlight</span> <span class="attr">onPress</span>=<span class="string">&#123;this.props.onBack&#125;</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Text</span>&gt;</span>ç‚¹æˆ‘è¿”å›ä¸Šä¸€åœºæ™¯<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">TouchableHighlight</span>&gt;</span>    </div><div class="line">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>MySceneé€šè¿‡titleå±æ€§æ¥å—äº†è·¯ç”±å¯¹è±¡ä¸­çš„titleå€¼ã€‚å®ƒè¿˜åŒ…å«äº†ä¸¤ä¸ªå¯ç‚¹å‡»çš„ç»„ä»¶TouchableHighlightï¼Œ<br>ä¼šåœ¨ç‚¹å‡»æ—¶åˆ†åˆ«è°ƒç”¨é€šè¿‡propsä¼ å…¥çš„onForwardå’ŒonBackæ–¹æ³•ï¼Œè€Œè¿™ä¸¤ä¸ªæ–¹æ³•å„è‡ªè°ƒç”¨äº†navigator.push()å’Œnavigator.pop()ï¼Œä»è€Œå®ç°äº†åœºæ™¯çš„å˜åŒ–ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;React Native åŸºç¡€çŸ¥è¯†å­¦ä¹ &lt;br&gt;
    
    </summary>
    
      <category term="React Native" scheme="http://cokernut.top/categories/React-Native/"/>
    
    
      <category term="React Native" scheme="http://cokernut.top/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºé™æ€åšå®¢</title>
    <link href="http://cokernut.top/2016/11/29/Note/%E4%BD%BF%E7%94%A8Hexo+GitHub%20Pages%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    <id>http://cokernut.top/2016/11/29/Note/ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºé™æ€åšå®¢/</id>
    <published>2016-11-28T16:00:00.000Z</published>
    <updated>2016-11-29T03:38:04.279Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºé™æ€åšå®¢<br><a id="more"></a></p>
<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>ä¸€ä¸ªåŸºäºNode.jsçš„å¿«é€Ÿï¼Œç®€å•å’Œå¼ºå¤§çš„åšå®¢æ¡†æ¶ã€‚</p>
<h2 id="GitHub-Pages"><a href="#GitHub-Pages" class="headerlink" title="GitHub Pages"></a>GitHub Pages</h2><p>GitHub Pageså¯ä»¥è¢«è®¤ä¸ºæ˜¯ç”¨æˆ·ç¼–å†™çš„ã€æ‰˜ç®¡åœ¨githubä¸Šçš„é™æ€ç½‘é¡µã€‚</p>
<h2 id="å»ºç«‹GitHub-Pagesé¡¹ç›®"><a href="#å»ºç«‹GitHub-Pagesé¡¹ç›®" class="headerlink" title="å»ºç«‹GitHub Pagesé¡¹ç›®"></a>å»ºç«‹GitHub Pagesé¡¹ç›®</h2><p>åœ¨GitHubä¸Šå»ºç«‹ä¸€ä¸ªåç§°ä¸ºï¼šusername.github.ioçš„é¡¹ç›®ï¼Œusernameä¸€å®šè¦å¡«å†™è‡ªå·±çš„GitHubçš„åç§°ï¼Œä¹‹åå¯ä»¥æŠŠç”Ÿæˆçš„é™æ€ç½‘é¡µæäº¤åˆ°è¿™ä¸ªé¡¹ç›®ä¸Šï¼Œ<br>ç„¶åå¯ä»¥é€šè¿‡ <a href="https://username.github.io" target="_blank" rel="external">https://username.github.io</a> è¿™ä¸ªåœ°å€è®¿é—®åˆ°æˆ‘ä»¬ç”Ÿæˆçš„é™æ€ç½‘é¡µã€‚</p>
<h2 id="Hexoå®‰è£…"><a href="#Hexoå®‰è£…" class="headerlink" title="Hexoå®‰è£…"></a>Hexoå®‰è£…</h2><ul>
<li>Hexoæ˜¯åŸºäºNode.jsçš„ï¼Œæ‰€ä»¥é¦–å…ˆè¦å®‰è£…<a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js</a></li>
<li><p>ä½¿ç”¨å‘½ä»¤å®‰è£…hexo:  </p>
<blockquote>
<p>npm install hexo-cli -g  </p>
</blockquote>
<p>æ³¨æ„ï¼šä½¿ç”¨-gè¡¨ç¤ºå…¨å±€å®‰è£…ï¼Œæ²¡æœ‰åŠ -gè¡¨ç¤ºæœ¬åœ°å®‰è£…ï¼ˆå½“å‰ç›®å½•å®‰è£…ï¼‰ã€‚</p>
</li>
</ul>
<p>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</p>
<blockquote>
<p>hexo version  æˆ–è€… hexo v  </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">hexo: 3.2.2</div><div class="line">hexo-cli: 1.0.2</div><div class="line">os: Windows_NT 10.0.14393 win32 x64</div><div class="line">http_parser: 2.7.0</div><div class="line">node: 6.9.1</div><div class="line">v8: 5.1.281.84</div><div class="line">uv: 1.9.1</div><div class="line">zlib: 1.2.8</div><div class="line">ares: 1.10.1-DEV</div><div class="line">icu: 57.1</div><div class="line">modules: 48</div><div class="line">openssl: 1.0.2j</div></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å¸®åŠ©ï¼š</p>
<blockquote>
<p>hexo help  æˆ–è€… hexo h  </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">Usage: hexo &lt;command&gt;</div><div class="line"></div><div class="line">Commands:</div><div class="line">  clean     Removed generated files and cache. #åˆ é™¤ç”Ÿæˆçš„æ–‡ä»¶å’Œç¼“å­˜ã€‚</div><div class="line">  config    Get or set configurations.</div><div class="line">  deploy    Deploy your website. #éƒ¨ç½²ç½‘ç«™ï¼Œå°±æ˜¯æäº¤åˆ°é¡¹ç›®ä¸­</div><div class="line">  generate  Generate static files. #ç”Ÿæˆé™æ€æ–‡ä»¶</div><div class="line">  help      Get help on a command.   #æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯</div><div class="line">  init      Create a new Hexo folder. #åˆ›å»ºä¸€ä¸ªhexoé¡¹ç›®ï¼Œä¸æŒ‡å®šæ–‡ä»¶å¤¹åï¼Œåˆ™åœ¨å½“å‰ç›®å½•åˆ›å»ºï¼Œå¦åˆ™åœ¨åé¢æŒ‡å®šçš„æ–‡ä»¶å¤¹åˆ›å»º</div><div class="line">  list      List the information of the site</div><div class="line">  migrate   Migrate your site from other system to Hexo.</div><div class="line">  new       Create a new post. #æ–°å»ºæ–‡ä»¶ï¼Œå¯ä»¥æŒ‡å®šæ¨¡æ¿ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤æ¨¡æ¿</div><div class="line">  publish   Moves a draft post from _drafts to _posts folder.</div><div class="line">  render    Render files with renderer plugins.</div><div class="line">  server    Start the server. #å¼€å¯æœåŠ¡å™¨</div><div class="line">  version   Display version information. #æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</div><div class="line"></div><div class="line">Global Options:</div><div class="line">  --config  Specify config file instead of using _config.yml #æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä»£æ›¿é»˜è®¤çš„_config.yml</div><div class="line">  --cwd     Specify the CWD #è‡ªå®šä¹‰å½“å‰å·¥ä½œç›®å½•</div><div class="line">  --debug   Display all verbose messages in the terminal #è°ƒè¯•æ¨¡å¼ï¼Œè¾“å‡ºæ‰€æœ‰æ—¥å¿—ä¿¡æ¯</div><div class="line">  --draft   Display draft posts #è‰ç¨¿æ¨¡å¼</div><div class="line">  --safe    Disable all plugins and scripts #å®‰å…¨æ¨¡å¼ï¼Œç¦ç”¨æ‰€æœ‰çš„æ’ä»¶å’Œè„šæœ¬</div><div class="line">  --silent  Hide output on console #æ— æ—¥å¿—è¾“å‡ºæ¨¡å¼</div></pre></td></tr></table></figure>
<h2 id="æ–°å»ºé¡¹ç›®"><a href="#æ–°å»ºé¡¹ç›®" class="headerlink" title="æ–°å»ºé¡¹ç›®"></a>æ–°å»ºé¡¹ç›®</h2><blockquote>
<p>hexo init [é¡¹ç›®æ–‡ä»¶å¤¹]  </p>
</blockquote>
<p>æ³¨æ„ï¼šé¡¹ç›®æ–‡ä»¶å¤¹æ˜¯å¯é€‰çš„ï¼Œä¸æŒ‡å®šæ–‡ä»¶å¤¹åï¼Œåˆ™åœ¨å½“å‰ç›®å½•åˆ›å»ºé¡¹ç›®ï¼Œå¦åˆ™åœ¨åé¢æŒ‡å®šçš„æ–‡ä»¶å¤¹åˆ›å»ºé¡¹ç›®  </p>
<p>æ–°å»ºé¡¹ç›®ä¹‹ååˆ‡æ¢åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ä½¿ç”¨ï¼š</p>
<blockquote>
<p>npm install </p>
</blockquote>
<p>è¿™æ¡å‘½ä»¤æ¥ä¸ºé¡¹ç›®å®‰è£…ä¾èµ–åŒ…ï¼Œå…·ä½“å®‰è£…å†…å®¹å¯ä»¥åœ¨package.jsonæ–‡ä»¶é‡Œæ‰¾åˆ°ã€‚  </p>
<h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; scaffolds ï¼šæ¨¡æ¿æ–‡ä»¶å¤¹ï¼Œæ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶ã€‚Hexo æœ‰ä¸‰ç§é»˜è®¤å¸ƒå±€ï¼š post ã€ page å’Œ draft ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”ä¸åŒçš„è·¯å¾„ã€‚æ–°å»ºæ–‡ä»¶çš„é»˜è®¤å¸ƒå±€æ˜¯ post ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹å¸ƒå±€ã€‚ç”¨ draft å¸ƒå±€ç”Ÿæˆçš„æ–‡ä»¶ä¼šè¢«ä¿å­˜åˆ° source/_drafts æ–‡ä»¶å¤¹ã€‚</div><div class="line">&gt; source ï¼šèµ„æºæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚</div><div class="line">&gt; &gt; source/_post ï¼šæ–‡ä»¶ç®±ã€‚ï¼ˆä½ç‰ˆæœ¬çš„hexoè¿˜ä¼šå­˜åœ¨ä¸€ä¸ª _draft ï¼Œè¿™æ˜¯è‰ç¨¿ç®±ï¼‰é™¤ _posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º _ (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶/ æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° public æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»</div><div class="line">&gt; themes ï¼šä¸»é¢˜ æ–‡ä»¶å¤¹ã€‚Hexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚</div><div class="line">&gt; &gt; themes/landscape ï¼šé»˜è®¤çš„çš®è‚¤æ–‡ä»¶å¤¹</div><div class="line">&gt; &gt; &gt; themes/landscape/_config.yml :å½“å‰ä¸»é¢˜é…ç½®æ–‡ä»¶</div><div class="line">&gt; _config.yml ï¼šå…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œæ¯æ¬¡æ›´æ”¹è¦é‡å¯æœåŠ¡ã€‚</div></pre></td></tr></table></figure>
<p>ä¹‹åä½¿ç”¨ï¼š  </p>
<blockquote>
<p>hexo server æˆ–è€… hexo s  </p>
</blockquote>
<p>æ¥å¼€å¯æœ¬åœ°æœåŠ¡å™¨è¿›è¡Œé¢„è§ˆã€‚<br>æˆ‘ä»¬å¯ä»¥è¿‡æµè§ˆå™¨æ‰“å¼€åœ°å€ï¼Œ <a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> æˆ–è€… <a href="http://0.0.0.0:4000" target="_blank" rel="external">http://0.0.0.0:4000</a> æ¥é¢„è§ˆæˆ‘ä»¬çš„é¡¹ç›®ã€‚</p>
<h2 id="Hexoé…ç½®"><a href="#Hexoé…ç½®" class="headerlink" title="Hexoé…ç½®"></a>Hexoé…ç½®</h2><blockquote>
<p>_config.yml  </p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"># Hexo Configuration</div><div class="line">## Docs: https://hexo.io/docs/configuration.html</div><div class="line">## Source: https://github.com/hexojs/hexo/</div><div class="line"></div><div class="line"># Site ç«™ç‚¹é…ç½®</div><div class="line">title: Cokernut #ç½‘ç«™æ ‡é¢˜</div><div class="line">subtitle: #ç½‘ç«™å‰¯æ ‡é¢˜</div><div class="line">description: #ç½‘ç«™æè¿°</div><div class="line">author: Cokernut #ä½œè€…</div><div class="line">language: zh-CN #ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€</div><div class="line">timezone: Asia/Shanghai #ç½‘ç«™æ—¶åŒº</div><div class="line"></div><div class="line"># URL é…ç½®</div><div class="line">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</div><div class="line">url: http://cokernut.top #ç½‘å€ï¼Œæœç´¢æ—¶ä¼šåœ¨æœç´¢å¼•æ“ä¸­æ˜¾ç¤º</div><div class="line">root: / #ç½‘ç«™æ ¹ç›®å½•</div><div class="line">permalink: :year/:month/:day/:title/ #æ°¸ä¹…é“¾æ¥æ ¼å¼</div><div class="line">permalink_defaults: #æ°¸ä¹…é“¾æ¥ä¸­å„éƒ¨åˆ†çš„é»˜è®¤å€¼</div><div class="line"></div><div class="line"># Directory ç›®å½•é…ç½®</div><div class="line">source_dir: source #èµ„æºæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾å†…å®¹</div><div class="line">public_dir: public #å…¬å…±æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ç”Ÿæˆçš„ç«™ç‚¹æ–‡ä»¶</div><div class="line">tag_dir: tags #æ ‡ç­¾æ–‡ä»¶å¤¹</div><div class="line">archive_dir: archives #å½’æ¡£æ–‡ä»¶å¤¹</div><div class="line">category_dir: categories #åˆ†ç±»æ–‡ä»¶å¤¹</div><div class="line">code_dir: downloads/code #Include code æ–‡ä»¶å¤¹</div><div class="line">i18n_dir: :lang #å›½é™…åŒ–æ–‡ä»¶å¤¹</div><div class="line">skip_render: #è·³è¿‡æŒ‡å®šæ–‡ä»¶çš„æ¸²æŸ“ï¼Œæ‚¨å¯ä½¿ç”¨ glob æ¥é…ç½®è·¯å¾„</div><div class="line"></div><div class="line"># Writing å†™ä½œé…ç½®</div><div class="line">new_post_name: :title.md # æ–°æ–‡ç« çš„æ–‡ä»¶åç§°</div><div class="line">default_layout: post #é»˜è®¤å¸ƒå±€</div><div class="line">titlecase: false #æŠŠæ ‡é¢˜å˜æˆtitlecase</div><div class="line">external_link: true #åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å¤–éƒ¨é“¾æ¥</div><div class="line">filename_case: 0 #æŠŠæ–‡ä»¶åç§°è½¬æ¢ä¸º (1) å°å†™æˆ– (2) å¤§å†™</div><div class="line">render_drafts: false #æ˜¾ç¤ºè‰ç¨¿</div><div class="line">post_asset_folder: false #æ˜¯å¦å¯åŠ¨èµ„æºæ–‡ä»¶å¤¹</div><div class="line">relative_link: false #æŠŠé“¾æ¥æ”¹ä¸ºä¸æ ¹ç›®å½•çš„ç›¸å¯¹ä½å€</div><div class="line">future: true</div><div class="line">highlight: #ä»£ç å—çš„è®¾ç½®</div><div class="line">  enable: true</div><div class="line">  line_number: true</div><div class="line">  auto_detect: false</div><div class="line">  tab_replace:</div><div class="line"></div><div class="line"># Category &amp; Tag åˆ†ç±» &amp; æ ‡ç­¾</div><div class="line">default_category: uncategorized #é»˜è®¤åˆ†ç±»</div><div class="line">category_map: #åˆ†ç±»åˆ«å</div><div class="line">tag_map: #æ ‡ç­¾åˆ«å</div><div class="line"></div><div class="line"># Date / Time format æ—¥æœŸ/æ—¶é—´</div><div class="line">## Hexo uses Moment.js to parse and display date</div><div class="line">## You can customize the date format as defined in</div><div class="line">## http://momentjs.com/docs/#/displaying/format/</div><div class="line">date_format: YYYY-MM-DD</div><div class="line">time_format: HH:mm:ss</div><div class="line"></div><div class="line"># Pagination åˆ†é¡µ</div><div class="line">## Set per_page to 0 to disable pagination</div><div class="line">per_page: 10</div><div class="line">pagination_dir: page</div><div class="line"></div><div class="line"># Extensions æ‰©å±•</div><div class="line">## Plugins: https://hexo.io/plugins/ #æ’ä»¶</div><div class="line">## Themes: https://hexo.io/themes/ #ä¸»é¢˜</div><div class="line">theme: landscape-plus #å½“å‰ä¸»é¢˜åç§°</div><div class="line"></div><div class="line"># Deployment #éƒ¨ç½²</div><div class="line">## Docs: https://hexo.io/docs/deployment.html</div><div class="line">deploy: #githubé…ç½®</div><div class="line">  type: git</div><div class="line">  repo: https://github.com/cokernut/cokernut.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure>
<p>ä¸»é¢˜ç›¸å…³é…ç½®å¯ä»¥åœ¨ä¸»é¢˜ä¸‹é¢çš„_config.ymlé‡Œè¿›è¡Œé…ç½®ï¼Œä¸åŒçš„ä¸»é¢˜æœ‰äº›é…ç½®ä¸åŒã€‚</p>
<h2 id="æ–°å»ºæ–‡ä»¶"><a href="#æ–°å»ºæ–‡ä»¶" class="headerlink" title="æ–°å»ºæ–‡ä»¶"></a>æ–°å»ºæ–‡ä»¶</h2><blockquote>
<p>hexo new [æ¨¡æ¿] &lt;æ ‡é¢˜&gt; æˆ–è€… hexo n [æ¨¡æ¿] &lt;æ ‡é¢˜&gt;   </p>
</blockquote>
<p>æ³¨æ„ï¼šå…¶ä¸­[æ¨¡æ¿]æ˜¯å¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º postï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®[æ¨¡æ¿]çš„è¯ï¼Œé»˜è®¤ä½¿ç”¨ _config.yml<br>ä¸­çš„ default_layout å‚æ•°ä»£æ›¿ã€‚å¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œéœ€ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚  </p>
<p>Hexoæä¾›çš„æ¨¡æ¿åœ¨ scaffolds ç›®å½•ä¸‹ï¼Œä¹Ÿå¯ä»¥åœ¨æ­¤ç›®å½•ä¸‹è‡ªå»ºæ¨¡æ¿æ–‡ä»¶æˆ–è€…ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶ã€‚æ–°å»ºçš„æ–‡ä»¶ä¼šåœ¨<br>source/_post ç›®å½•ä¸‹ã€‚</p>
<p>å‘è¡¨çš„æ–‡ç« ä¼šå…¨éƒ¨æ˜¾ç¤ºï¼Œå¦‚æœæ–‡ç« å¾ˆé•¿ï¼Œå°±åªè¦æ˜¾ç¤ºæ–‡ç« çš„æ‘˜è¦å°±è¡Œäº†ã€‚å†™æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title:</div><div class="line">date:</div><div class="line">tagï¼š # tags å’Œ categories æœ‰å¤šä¸ªï¼Œåˆ™ç”¨æ•°ç»„å½¢å¼ã€‚[Java, Android]</div><div class="line">categoriesï¼š</div><div class="line">...</div><div class="line">---</div><div class="line"></div><div class="line">æ‘˜è¦</div><div class="line"></div><div class="line">&lt;!--more--&gt;</div><div class="line"></div><div class="line">å…¨æ–‡</div></pre></td></tr></table></figure></p>
<p>è¿™æ—¶ä¸»é¡µå°±èƒ½å¤Ÿçœ‹åˆ°åªæ˜¾ç¤ºæ ‡é¢˜å’Œæ‘˜è¦äº†ï¼ŒåŒæ—¶ä¼šæœ‰Read Moreçš„é“¾æ¥æŒ‰é’®ï¼Œ<br>è¿™ä¸ªé“¾æ¥æŒ‰é’®çš„æ–‡å­—å¯ä»¥æ›´æ”¹ï¼Œåœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶(themes/ä¸»é¢˜æ–‡ä»¶å¤¹/_config.yml)ä¸­ï¼Œ<br>æ‰¾åˆ° Content:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># Content</div><div class="line">excerpt_link: Read More #å¯ä»¥æ›´æ”¹æˆæƒ³è¦æ˜¾ç¤ºçš„æ–‡å­—</div><div class="line">fancybox: true</div></pre></td></tr></table></figure></p>
<h2 id="é¡µé¢çš„ç”Ÿæˆ"><a href="#é¡µé¢çš„ç”Ÿæˆ" class="headerlink" title="é¡µé¢çš„ç”Ÿæˆ"></a>é¡µé¢çš„ç”Ÿæˆ</h2><p>åœ¨é¡¹ç›®éƒ¨ç½²ä¹‹å‰è¦é€šè¿‡å‘½ä»¤æŠŠæ‰€æœ‰çš„æ–‡ç« éƒ½åšé™æ€åŒ–å¤„ç†ï¼Œç”Ÿæˆå¯¹åº”çš„html, javascript, cssï¼Œ<br>ä½¿å¾—æ‰€æœ‰çš„æ–‡ç« éƒ½æ˜¯ç”±é™æ€æ–‡ä»¶ç»„æˆçš„ã€‚</p>
<blockquote>
<p>hexo generate æˆ–è€… hexo g  </p>
</blockquote>
<p>è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¹‹ååœ¨æœ¬åœ°ç›®å½•ä¸‹ï¼Œä¼šç”Ÿæˆä¸€ä¸ªpublicçš„ç›®å½•ï¼Œé‡Œé¢åŒ…æ‹¬äº†æ‰€æœ‰é™æ€åŒ–çš„æ–‡ä»¶ã€‚ </p>
<h2 id="é¡¹ç›®éƒ¨ç½²"><a href="#é¡¹ç›®éƒ¨ç½²" class="headerlink" title="é¡¹ç›®éƒ¨ç½²"></a>é¡¹ç›®éƒ¨ç½²</h2><p>ç”Ÿæˆé™æ€æ–‡ä»¶ä¹‹åï¼Œå¦‚æœè¦å‘å¸ƒåˆ°githubï¼Œè¿˜éœ€è¦é…ç½® deploy æŒ‡ä»¤ã€‚<br>åœ¨å…¨å±€çš„é…ç½®æ–‡ä»¶(_config.yml)ä¸­æ‰¾åˆ° deploy ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># Deployment #éƒ¨ç½²</div><div class="line">## Docs: https://hexo.io/docs/deployment.html</div><div class="line">deploy: #githubé…ç½®</div><div class="line">  type: git #ç±»å‹GitHubçš„ç±»å‹å±äºgit</div><div class="line">  repo: https://github.com/cokernut/cokernut.github.io.git #GitHub Pagesçš„gitåœ°å€</div><div class="line">  branch: master #æäº¤åˆ°çš„åˆ†æ”¯</div></pre></td></tr></table></figure></p>
<p>ä¹‹åå®‰è£…hexo-deployer-gitæ’ä»¶ï¼š</p>
<blockquote>
<p>npm install hexo-deployer-git -s  </p>
</blockquote>
<p>ç„¶åä½¿ç”¨å‘½ä»¤ï¼š</p>
<blockquote>
<p>hexo deploy æˆ–è€… hexo d</p>
</blockquote>
<p>æŠŠé¡¹ç›®éƒ¨ç½²åˆ°GitHub Pagesä¸Šï¼Œæäº¤çš„æ–‡ä»¶æ˜¯åœ¨username.github.ioé¡¹ç›®ä¸Šã€‚<br>ä¹‹åä½ å¯ä»¥è®¿é—®<a href="http://username.github.io" target="_blank" rel="external">http://username.github.io</a> æŸ¥çœ‹æ•ˆæœã€‚</p>
<h2 id="ç»‘å®šè‡ªå·±çš„åŸŸåï¼ˆå¯é€‰ï¼‰"><a href="#ç»‘å®šè‡ªå·±çš„åŸŸåï¼ˆå¯é€‰ï¼‰" class="headerlink" title="ç»‘å®šè‡ªå·±çš„åŸŸåï¼ˆå¯é€‰ï¼‰"></a>ç»‘å®šè‡ªå·±çš„åŸŸåï¼ˆå¯é€‰ï¼‰</h2><ol>
<li>è´­ä¹°ä¸€ä¸ªè‡ªå·±çš„åŸŸå</li>
<li>åœ¨username.github.ioé¡¹ç›®çš„æ ¹ç›®å½•å»ºç«‹ä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­å¡«å†™ä¸Šè‡ªå·±è´­ä¹°çš„åŸŸåï¼Œæ¯”å¦‚ï¼šusername.netï¼Œä¸éœ€è¦æ·»åŠ httpæˆ–è€…æ˜¯wwwç­‰å‰ç¼€ã€‚</li>
<li>ä½¿ç”¨pingå‘½ä»¤å¾—åˆ°username.github.ioçš„IPåœ°å€å¹¶è®°å½•ã€‚</li>
<li>åœ¨åŸŸåçš„DNSé…ç½®ä¸Šæ·»åŠ è®°å½•ï¼Œä¸¤ç§æ–¹å¼é€‰ä¸€ç§ï¼š  </li>
</ol>
<p>æ·»åŠ Aè®°å½•ï¼š  </p>
<table>
<thead>
<tr>
<th>è®°å½•ç±»å‹</th>
<th>ä¸»æœºè®°å½•</th>
<th>è®°å½•å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>@</td>
<td>IPåœ°å€</td>
</tr>
<tr>
<td>A</td>
<td>www</td>
<td>IPåœ°å€</td>
</tr>
</tbody>
</table>
<p>æˆ–è€…æ·»åŠ CNAMEè®°å½•ï¼š  </p>
<table>
<thead>
<tr>
<th>è®°å½•ç±»å‹</th>
<th>ä¸»æœºè®°å½•</th>
<th>è®°å½•å€¼  </th>
</tr>
</thead>
<tbody>
<tr>
<td>CNAME</td>
<td>@</td>
<td>username.github.io  </td>
</tr>
<tr>
<td>CNAME</td>
<td>www</td>
<td>username.github.io  </td>
</tr>
</tbody>
</table>
<p>ä¸¤ç§è®°å½•ç±»å‹ç›¸åŒä¸»æœºè®°å½•åªèƒ½æ·»åŠ ä¸€ç§ä¸ç„¶ä¼šæç¤ºå†²çªï¼Œå¹¶ä¸”ä¸èƒ½æ·»åŠ ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½¿ç”¨Hexo+GitHub Pagesæ­å»ºé™æ€åšå®¢&lt;br&gt;
    
    </summary>
    
      <category term="GitHub" scheme="http://cokernut.top/categories/GitHub/"/>
    
    
      <category term="GitHub" scheme="http://cokernut.top/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>React NativeåµŒå…¥AndroidåŸç”Ÿé¡¹ç›®ä¸­</title>
    <link href="http://cokernut.top/2016/11/25/Android/React%20Native%E5%B5%8C%E5%85%A5Android%E5%8E%9F%E7%94%9F%E9%A1%B9%E7%9B%AE%E4%B8%AD/"/>
    <id>http://cokernut.top/2016/11/25/Android/React NativeåµŒå…¥AndroidåŸç”Ÿé¡¹ç›®ä¸­/</id>
    <published>2016-11-24T16:00:00.000Z</published>
    <updated>2016-12-01T08:20:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>React NativeåµŒå…¥AndroidåŸç”Ÿé¡¹ç›®ä¸­<br><a id="more"></a></p>
<h2 id="å¼€å‘ç¯å¢ƒå‡†å¤‡"><a href="#å¼€å‘ç¯å¢ƒå‡†å¤‡" class="headerlink" title="å¼€å‘ç¯å¢ƒå‡†å¤‡"></a>å¼€å‘ç¯å¢ƒå‡†å¤‡</h2><p>é¦–å…ˆä½ è¦æ­å»ºå¥½React Native for Androidå¼€å‘ç¯å¢ƒï¼Œ æ²¡æœ‰æ­å»ºå¥½çš„å¯ä»¥å‚è€ƒï¼š<a href="http://cokernut.top/2016/11/23/Android/React%20Native%20for%20Android%20Windows%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">React Native for Android Windowsç¯å¢ƒæ­å»º</a>  </p>
<h2 id="ç”¨Android-Studioæ–°å»ºAndroidåŸç”Ÿé¡¹ç›®"><a href="#ç”¨Android-Studioæ–°å»ºAndroidåŸç”Ÿé¡¹ç›®" class="headerlink" title="ç”¨Android Studioæ–°å»ºAndroidåŸç”Ÿé¡¹ç›®"></a>ç”¨Android Studioæ–°å»ºAndroidåŸç”Ÿé¡¹ç›®</h2><p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåå«ReactNativeDemoçš„åŸç”Ÿé¡¹ç›®ã€‚</p>
<h2 id="æŠŠReact-Nativeé›†æˆåˆ°åŸç”Ÿé¡¹ç›®å½“ä¸­"><a href="#æŠŠReact-Nativeé›†æˆåˆ°åŸç”Ÿé¡¹ç›®å½“ä¸­" class="headerlink" title="æŠŠReact Nativeé›†æˆåˆ°åŸç”Ÿé¡¹ç›®å½“ä¸­"></a>æŠŠReact Nativeé›†æˆåˆ°åŸç”Ÿé¡¹ç›®å½“ä¸­</h2><h3 id="åˆ©ç”¨Windowså‘½ä»¤è¡Œåœ¨é¡¹ç›®æ ¹ç›®å½•-ReactNativeDemoæ–‡ä»¶å¤¹-ä¸‹æ‰§è¡Œä¸‹é¢ä¸‰è¡Œå‘½ä»¤ï¼š"><a href="#åˆ©ç”¨Windowså‘½ä»¤è¡Œåœ¨é¡¹ç›®æ ¹ç›®å½•-ReactNativeDemoæ–‡ä»¶å¤¹-ä¸‹æ‰§è¡Œä¸‹é¢ä¸‰è¡Œå‘½ä»¤ï¼š" class="headerlink" title="åˆ©ç”¨Windowså‘½ä»¤è¡Œåœ¨é¡¹ç›®æ ¹ç›®å½•(ReactNativeDemoæ–‡ä»¶å¤¹)ä¸‹æ‰§è¡Œä¸‹é¢ä¸‰è¡Œå‘½ä»¤ï¼š"></a>åˆ©ç”¨Windowså‘½ä»¤è¡Œåœ¨é¡¹ç›®æ ¹ç›®å½•(ReactNativeDemoæ–‡ä»¶å¤¹)ä¸‹æ‰§è¡Œä¸‹é¢ä¸‰è¡Œå‘½ä»¤ï¼š</h3><blockquote>
<p>npm init<br>npm install â€“save react react-native<br>curl -o .flowconfig <a href="https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig" target="_blank" rel="external">https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig</a>  </p>
</blockquote>
<p>è¿™å°†åœ¨é¡¹ç›®æ ¹ç›®å½•(ReactNativeDemoæ–‡ä»¶å¤¹)åˆ›å»ºnode_modulesæ–‡ä»¶å¤¹(æ¨¡å—)ï¼Œå¹¶æ·»åŠ React Nativeä¾èµ–ã€‚</p>
<h2 id="é’ˆå¯¹ä¸Šé¢ä¸‰æ¡å‘½ä»¤çš„è§£é‡Š"><a href="#é’ˆå¯¹ä¸Šé¢ä¸‰æ¡å‘½ä»¤çš„è§£é‡Š" class="headerlink" title="é’ˆå¯¹ä¸Šé¢ä¸‰æ¡å‘½ä»¤çš„è§£é‡Š"></a>é’ˆå¯¹ä¸Šé¢ä¸‰æ¡å‘½ä»¤çš„è§£é‡Š</h2><h3 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a>npm init</h3><p><img src="/images/Android/React_Native_to_Native/1.png" alt="å›¾ç‰‡" title="å›¾ç‰‡"><br><img src="/images/Android/React_Native_to_Native/2.png" alt="å›¾ç‰‡" title="å›¾ç‰‡"><br>æ³¨æ„:<br>nameçš„å¡«å†™ç”±å›¾å¯çŸ¥å¡«é»˜è®¤çš„æ˜¯ä¸è¡Œçš„ï¼Œå®ƒçš„è¦æ±‚æ˜¯ä¸èƒ½æœ‰å¤§å†™å­—æ¯å¹¶ä¸”ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼›<br>entry pointçš„å¡«å†™å…¥å£æ–‡ä»¶åç§°ï¼Œé»˜è®¤çš„æ˜¯index.jsï¼Œæˆ‘ä»¬å»ºç«‹çš„å…¥å£æ–‡ä»¶æ˜¯index.android.jsï¼Œæ‰€ä»¥å¡«å†™index.android.jsã€‚åªè¦å¡«å†™çš„åç§°ä¸è‡ªå·±å®šä¹‰çš„å…¥å£æ–‡ä»¶åç§°ä¸€è‡´å°±è¡Œã€‚<br>å…¶ä»–çš„é¡¹æ ¹æ®è‡ªå·±éœ€æ±‚å¡«å†™å³å¯ã€‚  </p>
<p>è¿™ä¸ªæ­¥éª¤ä¼šåœ¨é¡¹ç›®çš„æ ¹ç›®å½•äº§ç”Ÿä¸€ä¸ªåç§°ä¸ºpackage.jsonçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„package.jsonæ–‡ä»¶ï¼š<br>åœ¨â€scriptsâ€èŠ‚ç‚¹ä¸‹æ·»åŠ â€startâ€: â€œnode node_modules/react-native/local-cli/cli.js startâ€ã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">   "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",</div><div class="line">   "start": "node node_modules/react-native/local-cli/cli.js start"</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>å…¶ä¸­çš„testèŠ‚ç‚¹æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ é™¤ï¼Œæœ€åæˆ‘çš„package.jsonä¸ºï¼š<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"name"</span>: <span class="string">"reactnativedemo"</span>,</div><div class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</div><div class="line">  <span class="attr">"main"</span>: <span class="string">"index.android.js"</span>,</div><div class="line">  <span class="attr">"scripts"</span>: &#123;</div><div class="line">    <span class="attr">"start"</span>: <span class="string">"node node_modules/react-native/local-cli/cli.js start"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</div><div class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</div><div class="line">  <span class="attr">"dependencies"</span>: &#123;</div><div class="line">    <span class="attr">"react"</span>: <span class="string">"^15.4.1"</span>,</div><div class="line">    <span class="attr">"react-native"</span>: <span class="string">"^0.38.0"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="npm-install-â€“save-react-react-native"><a href="#npm-install-â€“save-react-react-native" class="headerlink" title="npm install â€“save react react-native"></a>npm install â€“save react react-native</h3><p><img src="/images/Android/React_Native_to_Native/3.png" alt="å›¾ç‰‡" title="å›¾ç‰‡"><br><img src="/images/Android/React_Native_to_Native/4.png" alt="å›¾ç‰‡" title="å›¾ç‰‡"><br><img src="/images/Android/React_Native_to_Native/5.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">  </p>
<h3 id="curl-o-flowconfig-https-raw-githubusercontent-com-facebook-react-native-master-flowconfig"><a href="#curl-o-flowconfig-https-raw-githubusercontent-com-facebook-react-native-master-flowconfig" class="headerlink" title="curl -o .flowconfig https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig"></a>curl -o .flowconfig <a href="https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig" target="_blank" rel="external">https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig</a></h3><p>curlæ˜¯åˆ©ç”¨URLè¯­æ³•åœ¨å‘½ä»¤è¡Œæ–¹å¼ä¸‹å·¥ä½œçš„å¼€æºæ–‡ä»¶ä¼ è¾“å·¥å…·ã€‚å®ƒè¢«å¹¿æ³›åº”ç”¨åœ¨Unixã€å¤šç§Linuxå‘è¡Œç‰ˆä¸­ï¼Œå¹¶ä¸”æœ‰DOSå’ŒWin32ã€Win64ä¸‹çš„ç§»æ¤ç‰ˆæœ¬ã€‚<br>æ‰€ä»¥å¯çŸ¥ä¸Šé¢è¿™å¥è¯çš„æ„æ€æ˜¯åœ¨å¯¹åº”ç½‘å€ä¸‹ä¸‹è½½.flowconfigæ–‡ä»¶ã€‚<br>åœ¨windowsä¸‹æˆ‘ä»¬è¦ä½¿ç”¨curlå‘½ä»¤ä¼šæç¤º:curlä¸æ˜¯å†…éƒ¨å’Œå¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯æ‰§è¡Œæ–‡ä»¶æˆ–æ‰¹å¤„ç†å‘½ä»¤ã€‚ã€‚ã€‚<br>æˆ‘ä»¬åœ¨windowsä¸‹è¦ä½¿ç”¨curlå‘½ä»¤æ¯”è¾ƒéº»çƒ¦ã€‚è§£å†³æ–¹æ³•å°±æ˜¯æˆ‘ä»¬ç”¨ä¸‹è½½å·¥å…·ä»<a href="https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig" target="_blank" rel="external">https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig</a>  ä¸ŠæŠŠ.flowconfigä¸‹è½½ä¸‹æ¥å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œæˆ–è€…æ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª.flowconfigæ–‡ä»¶ç”¨æµè§ˆå™¨è®¿é—®è¿™ä¸ªç½‘å€å…¶ä¸­çš„å†…å®¹æŠŠå…¶ä¸­çš„å†…å®¹å¤åˆ¶åˆ°æ–‡ä»¶å½“ä¸­ã€‚</p>
<h2 id="å»ºç«‹index-android-jsæ–‡ä»¶"><a href="#å»ºç«‹index-android-jsæ–‡ä»¶" class="headerlink" title="å»ºç«‹index.android.jsæ–‡ä»¶"></a>å»ºç«‹index.android.jsæ–‡ä»¶</h2><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•å»ºç«‹index.android.jsæ–‡ä»¶å¹¶æŠŠä¸‹é¢çš„ä»£ç å¤åˆ¶è¿›å»ï¼š  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  AppRegistry,</div><div class="line">  StyleSheet,</div><div class="line">  Text,</div><div class="line">  View</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.container&#125;</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.hello&#125;</span>&gt;</span>Welcome!<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> styles = StyleSheet.create(&#123;</div><div class="line">  <span class="attr">container</span>: &#123;</div><div class="line">    <span class="attr">flex</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">justifyContent</span>: <span class="string">'center'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">hello</span>: &#123;</div><div class="line">    <span class="attr">fontSize</span>: <span class="number">20</span>,</div><div class="line">    <span class="attr">textAlign</span>: <span class="string">'center'</span>,</div><div class="line">    <span class="attr">margin</span>: <span class="number">10</span>,</div><div class="line">  &#125;,</div><div class="line">&#125;);</div><div class="line"></div><div class="line">AppRegistry.registerComponent(<span class="string">'HelloWorld'</span>, () =&gt; HelloWorld);</div></pre></td></tr></table></figure>
<h2 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h2><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•çš„build.gradleä¸­åŠ å…¥ï¼š</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">allprojects</span> &#123;</div><div class="line">    <span class="keyword">repositories</span> &#123;</div><div class="line">        jcenter()</div><div class="line">        maven &#123;</div><div class="line">            <span class="comment">//æ·»åŠ react nativeä¾èµ–ï¼Œurlè·¯å¾„æ ¹æ®å®é™…çš„æ¥å†™ï¼Œæœ¬æ–‡çš„å¦‚ä¸‹ï¼š</span></div><div class="line">            url <span class="string">"$rootDir/node_modules/react-native/android"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šAndroidé¡¹ç›®é»˜è®¤çš„ä¾èµ–åŒ…çš„æºä¸ºjcenter()ï¼Œå…¶ä¸­å¹¶ä¸åŒ…å«æœ€æ–°ç‰ˆçš„ React Nativeï¼ˆå®ƒåªåˆ°0.20.1ï¼‰ã€‚<br>æ–°ç‰ˆçš„React Nativeåªåœ¨npmé‡Œå‘å¸ƒï¼Œæ‰€ä»¥ä½ éœ€è¦å¢åŠ ä¸€ä¸‹ä¾èµ–åŒ…çš„æºã€‚åœ¨ç¼–è¯‘å®Œåï¼Œæ£€æŸ¥é¡¹ç›®External Librariesçš„<br>react-nativeç‰ˆæœ¬å¦‚æœä¸º0.20.1ï¼Œåˆ™è¯´æ˜mavençš„ä¾èµ–æºæ²¡æœ‰æ·»åŠ æˆåŠŸã€‚è¿™æ—¶å€™åº”è¯¥æ˜¯mavençš„è·¯å¾„å‡ºé—®é¢˜äº†ï¼Œä½ è¦æ£€æŸ¥<br>è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œæ­£ç¡®çš„ç»“æœä¸ºï¼š<br><img src="/images/Android/React_Native_to_Native/6.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">  </p>
<p>åœ¨é¡¹ç›®çš„æ¨¡å—(app)ä¸­çš„build.gradleæ–‡ä»¶ä¸­æ·»åŠ ï¼š<br>æ–‡ä»¶å¤´æ·»åŠ ï¼ˆå¯é€‰ï¼‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apply from: &quot;$rootDir/node_modules/react-native/react.gradle&quot;</div></pre></td></tr></table></figure></p>
<p>æ— æ³•ç¼–è¯‘é€šè¿‡çš„æ—¶å€™å¯ä»¥å°è¯•æ·»åŠ ä¸Šé¢è¿™å¥ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">    ...</div><div class="line">    compile &quot;com.facebook.react:react-native:+&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¦‚æœä½ æƒ³æ€»æ˜¯ä½¿ç”¨ä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬ï¼Œä½ éœ€è¦æŠŠ+æ›¿æ¢æˆä½ å·²ç»ä¸‹è½½çš„React Nativeçš„ç‰ˆæœ¬å·ï¼Œ<br>è¿™ä¸ªç‰ˆæœ¬å·åº”è¯¥ä¸package.jsonä¸­çš„react-nativeçš„ç‰ˆæœ¬å·(â€œreact-nativeâ€: â€œ^0.38.0â€)ä¸€è‡´çš„ã€‚å¦‚æœ¬ä¾‹ä¸­çš„0.38.0ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">    ...</div><div class="line">    compile &quot;com.facebook.react:react-native:0.38.0&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="æ·»åŠ åŸç”ŸActivityæ–‡ä»¶ï¼š"><a href="#æ·»åŠ åŸç”ŸActivityæ–‡ä»¶ï¼š" class="headerlink" title="æ·»åŠ åŸç”ŸActivityæ–‡ä»¶ï¼š"></a>æ·»åŠ åŸç”ŸActivityæ–‡ä»¶ï¼š</h2><blockquote>
<p>MyReactActivity  </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> android.app.Activity;</div><div class="line"><span class="keyword">import</span> android.os.Bundle;</div><div class="line"><span class="keyword">import</span> android.view.KeyEvent;</div><div class="line"><span class="keyword">import</span> com.facebook.react.BuildConfig;</div><div class="line"><span class="keyword">import</span> com.facebook.react.ReactInstanceManager;</div><div class="line"><span class="keyword">import</span> com.facebook.react.ReactRootView;</div><div class="line"><span class="keyword">import</span> com.facebook.react.common.LifecycleState;</div><div class="line"><span class="keyword">import</span> com.facebook.react.modules.core.DefaultHardwareBackBtnHandler;</div><div class="line"><span class="keyword">import</span> com.facebook.react.shell.MainReactPackage;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyReactActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">DefaultHardwareBackBtnHandler</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> ReactRootView mReactRootView;</div><div class="line">    <span class="keyword">private</span> ReactInstanceManager mReactInstanceManager;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line"></div><div class="line">        mReactRootView = <span class="keyword">new</span> ReactRootView(<span class="keyword">this</span>);</div><div class="line">        mReactInstanceManager = ReactInstanceManager.builder()</div><div class="line">                .setApplication(getApplication())</div><div class="line">                .setBundleAssetName(<span class="string">"index.android.bundle"</span>)</div><div class="line">                .setJSMainModuleName(<span class="string">"index.android"</span>) <span class="comment">//å¯¹åº”index.android.js</span></div><div class="line">                .addPackage(<span class="keyword">new</span> MainReactPackage())</div><div class="line">                .setUseDeveloperSupport(BuildConfig.DEBUG)</div><div class="line">                .setInitialLifecycleState(LifecycleState.RESUMED)</div><div class="line">                .build();</div><div class="line">        <span class="comment">//è¿™é‡Œçš„HelloWorldå¯¹åº”index.android.jsä¸­AppRegistry.registerComponent('HelloWorld', () =&gt; HelloWorld)çš„HelloWorld</span></div><div class="line">        mReactRootView.startReactApplication(mReactInstanceManager, <span class="string">"HelloWorld"</span>, <span class="keyword">null</span>);</div><div class="line">        setContentView(mReactRootView);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invokeDefaultOnBackPressed</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onBackPressed();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onPause();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mReactInstanceManager != <span class="keyword">null</span>) &#123;</div><div class="line">            mReactInstanceManager.onHostPause(<span class="keyword">this</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onResume();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mReactInstanceManager != <span class="keyword">null</span>) &#123;</div><div class="line">            mReactInstanceManager.onHostResume(<span class="keyword">this</span>, <span class="keyword">this</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onDestroy();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mReactInstanceManager != <span class="keyword">null</span>) &#123;</div><div class="line">            mReactInstanceManager.onHostDestroy(<span class="keyword">this</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBackPressed</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (mReactInstanceManager != <span class="keyword">null</span>) &#123;</div><div class="line">            mReactInstanceManager.onBackPressed();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">super</span>.onBackPressed();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onKeyUp</span><span class="params">(<span class="keyword">int</span> keyCode, KeyEvent event)</span> </span>&#123;</div><div class="line">        <span class="comment">//å½“æˆ‘ä»¬ç‚¹å‡»èœå•çš„æ—¶å€™æ‰“å¼€å‘è€…èœå•ï¼Œä¸€ä¸ªå¼¹çª—ï¼ˆæ­¤å¤„éœ€è¦æ‚¬æµ®çª—æƒé™æ‰èƒ½æ˜¾ç¤ºï¼‰</span></div><div class="line">        <span class="keyword">if</span> (keyCode == KeyEvent.KEYCODE_MENU &amp;&amp; mReactInstanceManager != <span class="keyword">null</span>) &#123;</div><div class="line">            mReactInstanceManager.showDevOptionsDialog();</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onKeyUp(keyCode, event);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="AndroidManifest-xmlç›¸å…³"><a href="#AndroidManifest-xmlç›¸å…³" class="headerlink" title="AndroidManifest.xmlç›¸å…³"></a>AndroidManifest.xmlç›¸å…³</h2><blockquote>
<p>AndroidManifest.xml  </p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">package</span>=<span class="string">"top.cokernut.reactnativedemo"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.INTERNET"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.SYSTEM_ALERT_WINDOW"</span>/&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">application</span></span></div><div class="line">        <span class="attr">android:allowBackup</span>=<span class="string">"true"</span></div><div class="line">        <span class="attr">android:icon</span>=<span class="string">"@mipmap/ic_launcher"</span></div><div class="line">        <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span></div><div class="line">        <span class="attr">android:supportsRtl</span>=<span class="string">"true"</span></div><div class="line">        <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme"</span>&gt;</div><div class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".MainActivity"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">activity</span></span></div><div class="line">            <span class="attr">android:name</span>=<span class="string">".MyReactActivity"</span></div><div class="line">            <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span></div><div class="line">            <span class="attr">android:theme</span>=<span class="string">"@style/Theme.AppCompat.Light.NoActionBar"</span>&gt;</div><div class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">"com.facebook.react.devsupport.DevSettingsActivity"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></div></pre></td></tr></table></figure>
<p>ç½‘ç»œæƒé™ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</div></pre></td></tr></table></figure></p>
<p>æ‚¬æµ®çª—æƒé™ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;</div></pre></td></tr></table></figure></p>
<p>æœ‰æ‚¬æµ®çª—æƒé™æ‰èƒ½æ˜¾ç¤ºï¼š<br><img src="/images/Android/React_Native_to_Native/7.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">    </p>
<p>æ³¨å†ŒMyReactActivityï¼šæ³¨æ„ä¸»é¢˜ä¸ºTheme.AppCompat.Light.NoActionBar<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;activity</div><div class="line">    android:name=&quot;.MyReactActivity&quot;</div><div class="line">    android:label=&quot;@string/app_name&quot;</div><div class="line">    android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;</div><div class="line">&lt;/activity&gt;</div></pre></td></tr></table></figure></p>
<p>å¼€å‘è®¾ç½®ç•Œé¢ï¼š<br><img src="/images/Android/React_Native_to_Native/8.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">     </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; /&gt;</div></pre></td></tr></table></figure>
<h2 id="è¿è¡Œåº”ç”¨"><a href="#è¿è¡Œåº”ç”¨" class="headerlink" title="è¿è¡Œåº”ç”¨"></a>è¿è¡Œåº”ç”¨</h2><h3 id="å¯åŠ¨å¼€å‘æœåŠ¡å™¨"><a href="#å¯åŠ¨å¼€å‘æœåŠ¡å™¨" class="headerlink" title="å¯åŠ¨å¼€å‘æœåŠ¡å™¨"></a>å¯åŠ¨å¼€å‘æœåŠ¡å™¨</h3><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š</p>
<blockquote>
<p>npm start  </p>
</blockquote>
<p><img src="/images/Android/React_Native_to_Native/9.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">     </p>
<p>è¿™ä¸ªå‘½ä»¤è¿è¡Œçš„æ˜¯æˆ‘ä»¬package.jsonä¸­é…ç½®çš„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;scripts&quot;: &#123;</div><div class="line">    &quot;start&quot;: &quot;node node_modules/react-native/local-cli/cli.js start&quot;</div><div class="line">  &#125;,</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®<a href="http://localhost:8081/index.android.bundle?platform=android" target="_blank" rel="external">http://localhost:8081/index.android.bundle?platform=android</a> çœ‹çœ‹æ˜¯å¦å¯ä»¥çœ‹åˆ°æ‰“åŒ…åçš„è„šæœ¬ã€‚<br>ç¬¬ä¸€æ¬¡è®¿é—®é€šå¸¸éœ€è¦åå‡ ç§’ï¼Œå¹¶ä¸”åœ¨å‘½ä»¤è¡Œå¯ä»¥çœ‹åˆ°è¿›åº¦æ¡ã€‚</p>
<h3 id="æ„å»ºä¸è¿è¡Œä½ çš„ç¨‹åº"><a href="#æ„å»ºä¸è¿è¡Œä½ çš„ç¨‹åº" class="headerlink" title="æ„å»ºä¸è¿è¡Œä½ çš„ç¨‹åº"></a>æ„å»ºä¸è¿è¡Œä½ çš„ç¨‹åº</h3><p>ä¸¤ç§æ–¹æ³•ï¼š  </p>
<ol>
<li>åœ¨å‘½ä»¤è¡Œä¸­é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œgradlew installDebug  </li>
<li>ç›´æ¥åˆ©ç”¨Android Studioåƒå¹³å¸¸ä¸€æ ·è¿è¡Œé¡¹ç›®  </li>
</ol>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Android studioä¸ºä½ æ„å»ºè€Œä¸æ˜¯Gradleæ„å»º(gradlew installDebug)ï¼Œä½ è¦ç¡®ä¿ä½ åœ¨å®‰è£…åº”ç”¨ä¹‹å‰è¿è¡Œäº†npm startã€‚<br>ä»¥é˜²æ­¢å®ƒä»¬ä¹‹é—´å‡ºç°å†²çªã€‚<br>æ•ˆæœï¼š<br><img src="/images/Android/React_Native_to_Native/15.png" alt="å›¾ç‰‡" title="å›¾ç‰‡"><br><img src="/images/Android/React_Native_to_Native/16.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">  </p>
<h3 id="åœ¨Android-Studioä¸­æ‰“åŒ…æˆç‹¬ç«‹å®‰è£…ç¨‹åº"><a href="#åœ¨Android-Studioä¸­æ‰“åŒ…æˆç‹¬ç«‹å®‰è£…ç¨‹åº" class="headerlink" title="åœ¨Android Studioä¸­æ‰“åŒ…æˆç‹¬ç«‹å®‰è£…ç¨‹åº"></a>åœ¨Android Studioä¸­æ‰“åŒ…æˆç‹¬ç«‹å®‰è£…ç¨‹åº</h3><p>ä½ å¯ä»¥ä½¿ç”¨Android Studioæ¥åˆ›å»ºä½ çš„Appçš„å‘å¸ƒç‰ˆæœ¬ï¼åƒä»¥å‰åˆ›å»ºåŸç”Ÿåº”ç”¨ç¨‹åºçš„å‘å¸ƒç‰ˆæœ¬ä¸€æ ·ç®€å•ï¼Œåªæ˜¯æœ‰ä¸€ä¸ªé¢å¤–æ­¥éª¤ï¼š<br>åœ¨ä½ æ‰“åŒ…ä½ çš„å‘å¸ƒç‰ˆæœ¬ä¹‹å‰è¦åˆ›å»ºä¸€ä¸ªbundleæ–‡ä»¶ï¼Œè¿™ä¸ªbundleæ–‡ä»¶ä¼šåˆ›å»ºåœ¨é¡¹ç›®çš„assetsç›®å½•ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ªæ–‡ä»¶ä¼šåŒ…å«åœ¨ä½ çš„apkåŒ…ä¸­ï¼Œ<br>åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸­è¿è¡Œï¼š  </p>
<blockquote>
<p>react-native bundle â€“platform android â€“dev false â€“entry-file index.android.js â€“bundle-output app/src/main/assets/index.android.bundle â€“assets-dest app/src/main/res/  </p>
</blockquote>
<p>app/src/mainæ ¹æ®å®é™…æƒ…å†µæ”¹ä¸ºè‡ªå·±é¡¹ç›®ä¸­çš„ç›®å½•ï¼Œå‚è€ƒassetsæ–‡ä»¶å¤¹çš„ç›®å½•ã€‚<br><img src="/images/Android/React_Native_to_Native/11.png" alt="å›¾ç‰‡" title="å›¾ç‰‡"><br>ç»“æœä¸ºï¼š<br><img src="/images/Android/React_Native_to_Native/10.png" alt="å›¾ç‰‡" title="å›¾ç‰‡"><br>å¦‚æœæŠ¥é”™ï¼š </p>
<blockquote>
<p>ENOENT: no such file or directory  </p>
</blockquote>
<p>ä½ éœ€è¦åœ¨ä½ çš„appæ¨¡å—ä¸­å»ºç«‹assetsæ–‡ä»¶å¤¹å’Œindex.android.bundleã€‚</p>
<p>ç°åœ¨ä½ å¯ä»¥å¯¹ä½ çš„åº”ç”¨ç¨‹åºè¿›è¡Œæ‰“åŒ…å‘å¸ƒäº†ã€‚</p>
<h2 id="æ›´æ–°React-Naiveç‰ˆæœ¬"><a href="#æ›´æ–°React-Naiveç‰ˆæœ¬" class="headerlink" title="æ›´æ–°React Naiveç‰ˆæœ¬"></a>æ›´æ–°React Naiveç‰ˆæœ¬</h2><ol>
<li><p>æ‰“å¼€é¡¹ç›®ç›®å½•ä¸‹çš„package.jsonæ–‡ä»¶ï¼Œç„¶ååœ¨dependenciesæ¨¡å—ä¸‹æ‰¾åˆ°react-nativeï¼Œå°†å½“å‰ç‰ˆæœ¬å·æ”¹åˆ°æœ€æ–°ï¼ˆæˆ–æŒ‡å®šï¼‰ç‰ˆæœ¬å·ï¼Œå¦‚ï¼š</p>
 <figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line"><span class="attr">"name"</span>: <span class="string">"reactnativedemo"</span>,</div><div class="line"><span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line"><span class="attr">"description"</span>: <span class="string">""</span>,</div><div class="line"><span class="attr">"main"</span>: <span class="string">"index.android.js"</span>,</div><div class="line"><span class="attr">"scripts"</span>: &#123;</div><div class="line">    <span class="attr">"start"</span>: <span class="string">"node node_modules/react-native/local-cli/cli.js start"</span></div><div class="line">&#125;,</div><div class="line"><span class="attr">"author"</span>: <span class="string">""</span>,</div><div class="line"><span class="attr">"license"</span>: <span class="string">"ISC"</span>,</div><div class="line"><span class="attr">"dependencies"</span>: &#123;</div><div class="line">    <span class="attr">"react"</span>: <span class="string">"^15.4.1"</span>,</div><div class="line">    <span class="attr">"react-native"</span>: <span class="string">"^0.38.0"</span></div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> react-nativeçš„npmåŒ…çš„æœ€æ–°ç‰ˆæœ¬å¯ä»¥å»<a href="https://www.npmjs.com/package/react-native" target="_blank" rel="external">è¿™é‡Œ</a>æŸ¥çœ‹ï¼Œæˆ–ä½¿ç”¨npm info react-nativeå‘½ä»¤æŸ¥çœ‹ã€‚</p>
</li>
<li><p>é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œï¼š</p>
<blockquote>
<p>npm install</p>
</blockquote>
<p> å®‰è£…æœ€æ–°çš„React Nativeç‰ˆæœ¬,æˆåŠŸåå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹ç±»ä¼¼è­¦å‘Šï¼š</p>
<blockquote>
<p>npm WARN react-native@0.38.0 requires a peer of react@15.4.1 but none was installed.  </p>
</blockquote>
</li>
<li><p>æ ¹æ®è­¦å‘Šæ‰§è¡Œï¼š</p>
<blockquote>
<p>npm install â€“save react@15.4.1</p>
</blockquote>
<p> æ›´æ–°æœ€æ–°çš„Reactä¸”é¡¹ç›®ä¸‹package.json çš„ dependenciesä¸‹çš„reactç‰ˆæœ¬ä¼šè¢«ä¿®æ”¹ä¸º 15.4.1</p>
</li>
<li><p>æ–°ç‰ˆæœ¬çš„npmåŒ…é€šå¸¸è¿˜ä¼šåŒ…å«ä¸€äº›åŠ¨æ€ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯åœ¨è¿è¡Œreact-native initåˆ›å»ºæ–°<br>é¡¹ç›®æ—¶ç”Ÿæˆçš„ï¼Œæ¯”å¦‚iOSå’ŒAndroidçš„é¡¹ç›®æ–‡ä»¶ã€‚ä¸ºäº†ä½¿è€é¡¹ç›®çš„é¡¹ç›®æ–‡ä»¶ä¹Ÿèƒ½å¾—åˆ°æ›´æ–°<br>ï¼ˆä¸é‡æ–°initï¼‰ï¼Œä½ éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œï¼š</p>
<blockquote>
<p>react-native upgrade  </p>
</blockquote>
<p> è¿™ä¸€å‘½ä»¤ä¼šæ£€æŸ¥æœ€æ–°çš„é¡¹ç›®æ¨¡æ¿ï¼Œç„¶åè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li>å¦‚æœæ˜¯æ–°æ·»åŠ çš„æ–‡ä»¶ï¼Œåˆ™ç›´æ¥åˆ›å»ºã€‚</li>
<li>å¦‚æœæ–‡ä»¶å’Œå½“å‰ç‰ˆæœ¬çš„æ–‡ä»¶ç›¸åŒï¼Œåˆ™è·³è¿‡ã€‚</li>
<li><p>å¦‚æœæ–‡ä»¶å’Œå½“å‰ç‰ˆæœ¬çš„æ–‡ä»¶ä¸åŒï¼Œåˆ™ä¼šæç¤ºä½ ä¸€äº›é€‰é¡¹ï¼šæŸ¥çœ‹ä¸¤è€…çš„ä¸åŒï¼Œé€‰æ‹©ä¿ç•™ä½ çš„ç‰ˆæœ¬æˆ–æ˜¯ç”¨æ–°çš„æ¨¡æ¿è¦†ç›–ã€‚ä½ å¯ä»¥æŒ‰ä¸‹hé”®æ¥æŸ¥çœ‹æ‰€æœ‰å¯ä»¥ä½¿ç”¨çš„å‘½ä»¤ã€‚</p>
<p>æ³¨æ„ï¼šå¦‚æœä½ æœ‰ä¿®æ”¹åŸç”Ÿä»£ç ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨upgradeå‡çº§å‰ï¼Œå…ˆå¤‡ä»½ï¼Œå†è¦†ç›–ã€‚è¦†ç›–å®Œæˆåï¼Œä½¿ç”¨æ¯”å¯¹å·¥å…·æ‰¾å‡ºå·®å¼‚ï¼Œå°†ä½ ä¹‹å‰ä¿®æ”¹çš„ä»£ç é€æ­¥æ¬è¿åˆ°æ–°æ–‡ä»¶ä¸­ã€‚</p>
</li>
</ul>
</li>
<li><p>æ‰§è¡Œï¼š</p>
<blockquote>
<p>react-native -v</p>
</blockquote>
<p> é€šè¿‡å¦‚ä¸Šå‘½ä»¤æ¥çœ‹æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæ£€æµ‹æ˜¯å¦å‡çº§æˆåŠŸï¼</p>
</li>
</ol>
<h2 id="é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a href="#é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a>é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2><h3 id="æ‰“ä¸å¼€å¼€å‘è€…èœå•"><a href="#æ‰“ä¸å¼€å¼€å‘è€…èœå•" class="headerlink" title="æ‰“ä¸å¼€å¼€å‘è€…èœå•"></a>æ‰“ä¸å¼€å¼€å‘è€…èœå•</h3><p>æŸ¥çœ‹AndroidManifest.xmlæ–‡ä»¶ä¸­æ˜¯å¦åŠ å…¥äº†æ‚¬æµ®çª—æƒé™ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;</div></pre></td></tr></table></figure></p>
<p>å¹¶ä¸”ä½ è¦åœ¨æ‰‹æœºä¸Šå¼€å¯ä½ è¦è°ƒè¯•çš„åº”ç”¨çš„æ‚¬æµ®çª—æƒé™ï¼Œä¸åŒçš„æ‰‹æœºå¼€å¯æ–¹å¼ä¸åŒï¼Œå¯ä»¥è‡ªè¡Œæœç´¢å¼€å¯æ–¹æ³•ã€‚</p>
<h3 id="é”™è¯¯-â€œ-data-data-package-name-lib-main-libgnustl-shared-soâ€-is-32-bit-instead-of-64-bit"><a href="#é”™è¯¯-â€œ-data-data-package-name-lib-main-libgnustl-shared-soâ€-is-32-bit-instead-of-64-bit" class="headerlink" title="é”™è¯¯ â€œ/data/data/package-name/lib-main/libgnustl_shared.soâ€ is 32-bit instead of 64-bit"></a>é”™è¯¯ â€œ/data/data/package-name/lib-main/libgnustl_shared.soâ€ is 32-bit instead of 64-bit</h3><p>å–æ¶ˆæ‰æ‰€æœ‰çš„64ä½çš„.soæ–‡ä»¶ï¼Œå…¨éƒ¨åŠ è½½32ä½çš„.soæ–‡ä»¶ã€‚  </p>
<ol>
<li><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•çš„build.gradleä¸­åŠ å…¥ï¼š   </p>
<blockquote>
<p>android.useDeprecatedNdk=true.  </p>
</blockquote>
</li>
<li><p>åœ¨é¡¹ç›®çš„æ¨¡å—(app)ä¸­çš„build.gradleæ–‡ä»¶ä¸­æ·»åŠ :</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">android &#123;</div><div class="line">    ...</div><div class="line">    defaultConfig &#123;</div><div class="line">        ...</div><div class="line">        ndk &#123;</div><div class="line">            abiFilters "armeabi-v7a", "x86"</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        packagingOptions &#123;</div><div class="line">            exclude "lib/arm64-v8a/librealm-jni.so"</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="é”™è¯¯ï¼šCould-not-get-BatchedBridge-make-sure-your-bundle-is-packaged-correctly"><a href="#é”™è¯¯ï¼šCould-not-get-BatchedBridge-make-sure-your-bundle-is-packaged-correctly" class="headerlink" title="é”™è¯¯ï¼šCould not get BatchedBridge,make sure your bundle is packaged correctly"></a>é”™è¯¯ï¼šCould not get BatchedBridge,make sure your bundle is packaged correctly</h3><p>å¯èƒ½æ˜¯buildæ¨¡å¼é€‰æ‹©äº†releaseæ¨¡å¼ï¼Œå¼•å‘çš„è¿™ä¸ªé”™è¯¯ï¼Œä½ å¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æ˜¯debugæ¨¡å¼ï¼Œå¦‚æœä¸æ˜¯æ”¹ä¸ºdebugå†è¯•ä¸€ä¸‹ã€‚<br>å› ä¸ºæ­£å¼ç‰ˆéœ€è¦ä½ åˆ›å»º React Native bundleæ–‡ä»¶(index.android.bundle)å­˜æ”¾åˆ°æœ¬åœ° asserts ç›®å½•,<br>å‚è€ƒä¸Šæ–‡ï¼ˆåœ¨Android Studioä¸­æ‰“åŒ…æˆç‹¬ç«‹å®‰è£…ç¨‹åºï¼‰ï¼Œè¿è¡Œç”Ÿæˆbundleæ–‡ä»¶å‘½ä»¤ä¹‹åå†ç‚¹å‡»Android Studioçš„runæŒ‰é’®è¿è¡Œç¨‹åºå³å¯æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<p>æ³¨æ„ï¼šè¿™ä¸ªæ–¹æ³•æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œå› ä¸ºæ­£å¼ç‰ˆï¼Œæ‰€ä»¥ä¿®æ”¹äº†é¡µé¢jsæ–‡ä»¶ä¹‹åï¼Œä¸èƒ½åƒå•ç‹¬çš„React Nativeé¡¹ç›®ä¸€æ ·å¯ä»¥ä¸é‡æ–°è¿è¡Œé¡¹ç›®åªéœ€è¦ç‚¹å‡»Reload<br>å³å¯ç«‹åˆ»çœ‹åˆ°ä¿®æ”¹çš„jsé¡µé¢çš„æ•ˆæœï¼Œæƒ³é‡æ–°çœ‹åˆ°æ•ˆæœéœ€è¦å†è¿è¡Œä¸€éç”Ÿæˆbundleæ–‡ä»¶å‘½ä»¤ç„¶åç‚¹å‡»runæŒ‰é’®é‡æ–°è¿è¡Œæ‰èƒ½çœ‹åˆ°ç»“æœã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¸å¼€å¯<br>å¼€å‘æœåŠ¡å™¨ä¹Ÿèƒ½çœ‹åˆ°jsé¡µé¢æ•ˆæœï¼Œå› ä¸ºjsé¡µé¢æ˜¯é€šè¿‡bundleæ–‡ä»¶æ¥è¿è¡Œçš„ï¼Œå°±åƒæ­£å¼çš„apkä¸€æ ·å¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚<br>debugæ¨¡å¼releaseæ¨¡å¼React Native JSä»£ç è°ƒè¯•çš„åŒºåˆ«:<br>debugæ¨¡å¼: ä¿®æ”¹å®Œjsä»£ç æ‰“å¼€å¼€å‘è€…èœå•ç‚¹å‡»Reloadå°±å¯ä»¥çœ‹åˆ°æ›´æ–°åçš„æ•ˆæœï¼Œæˆ–è€…æ˜¯å¼€å¯Live Reload(ç‚¹å‡»Enable Live Reload)<br>è¿™æ ·æˆ‘ä»¬ä¿®æ”¹äº†jsæ–‡ä»¶åªè¦ä¿å­˜å°±ä¼šè‡ªåŠ¨Reloadã€‚<br>releaseæ¨¡å¼: ä¿®æ”¹å®Œjsä»£ç éœ€è¦é‡æ–°ç”Ÿæˆindex.android.bundle æ–‡ä»¶ï¼Œç‚¹å‡»runä¹‹åæ‰èƒ½çœ‹åˆ°æ•ˆæœã€‚å› ä¸ºæ­£å¼ç‰ˆå‘å¸ƒåæ˜¯æ— æ³•<br>ä¾èµ–æœ¬åœ°æœåŠ¡å™¨å»æ›´æ–°index.android.bundleï¼Œéœ€è¦æŠŠindex.android.bundleæ‰“åŒ…åˆ°apkä¸­æ‰èƒ½è¿è¡Œã€‚</p>
<h4 id="å…¶ä»–æ–¹æ¡ˆï¼š"><a href="#å…¶ä»–æ–¹æ¡ˆï¼š" class="headerlink" title="å…¶ä»–æ–¹æ¡ˆï¼š"></a>å…¶ä»–æ–¹æ¡ˆï¼š</h4><p>æ–¹æ¡ˆ1. ä¿®æ”¹package.jsonæ–‡ä»¶å¦‚ä¸‹ï¼š<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">  "scripts": &#123;</div><div class="line">    "start": "node node_modules/react-native/local-cli/cli.js start",</div><div class="line">    "bundle-android": "react-native bundle --platform android --dev false --entry-file index.android.js --bundle-output app/src/main/assets/index.android.bundle --assets-dest app/src/main/res/"</div><div class="line">  &#125;,</div><div class="line">```  </div><div class="line">è¿™ä¸ªæ–¹æ³•æˆ‘çš„æ²¡æˆåŠŸï¼Œä»…ä¾›å‚è€ƒã€‚    </div><div class="line"></div><div class="line">æ–¹æ¡ˆ2.åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹æƒé™ï¼š</div></pre></td></tr></table></figure></p>
<p><android:uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE">  </android:uses-permission></p>
<p><android:uses-permission android:name="android.permission.READ_PHONE_STATE">  </android:uses-permission></p>
<p><android:uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"><br>```<br>ç„¶åå¼€å¯å¼€å‘è€…æœåŠ¡å™¨(npm start)ï¼Œä¹‹åruné¡¹ç›®çœ‹çœ‹æ˜¯å¦æœ‰ç»“æœã€‚<br>è¿™ä¸ªæ–¹æ³•æˆ‘çš„æ²¡æˆåŠŸï¼Œä»…ä¾›å‚è€ƒã€‚</android:uses-permission></p>
<h3 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h3><p><img src="/images/Android/React_Native_to_Native/12.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">   </p>
<h4 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h4><p>æŠŠAndroid Studioè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶å¤¹androidTestå’Œteståˆ é™¤ï¼Œå¹¶ä¿®æ”¹é¡¹ç›®çš„æ¨¡å—(app)çš„build.gradleæ–‡ä»¶ï¼š  </p>
<h4 id="ä¿®æ”¹å‰ï¼š"><a href="#ä¿®æ”¹å‰ï¼š" class="headerlink" title="ä¿®æ”¹å‰ï¼š"></a>ä¿®æ”¹å‰ï¼š</h4><p><img src="/images/Android/React_Native_to_Native/13.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">  </p>
<h4 id="ä¿®æ”¹åï¼š"><a href="#ä¿®æ”¹åï¼š" class="headerlink" title="ä¿®æ”¹åï¼š"></a>ä¿®æ”¹åï¼š</h4><p><img src="/images/Android/React_Native_to_Native/14.png" alt="å›¾ç‰‡" title="å›¾ç‰‡">     </p>
<h3 id="å…¶ä»–é—®é¢˜å¯ä»¥å‚è€ƒReact-Native-for-Android-Windowsç¯å¢ƒæ­å»º"><a href="#å…¶ä»–é—®é¢˜å¯ä»¥å‚è€ƒReact-Native-for-Android-Windowsç¯å¢ƒæ­å»º" class="headerlink" title="å…¶ä»–é—®é¢˜å¯ä»¥å‚è€ƒReact Native for Android Windowsç¯å¢ƒæ­å»º"></a>å…¶ä»–é—®é¢˜å¯ä»¥å‚è€ƒ<a href="http://cokernut.top/2016/11/23/Android/React%20Native%20for%20Android%20Windows%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">React Native for Android Windowsç¯å¢ƒæ­å»º</a></h3><font size="5"><a href="https://github.com/cokernut/ReactNativeToNative" target="_blank" rel="external">æºä»£ç </a></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;React NativeåµŒå…¥AndroidåŸç”Ÿé¡¹ç›®ä¸­&lt;br&gt;
    
    </summary>
    
      <category term="Android" scheme="http://cokernut.top/categories/Android/"/>
    
      <category term="React Native" scheme="http://cokernut.top/categories/Android/React-Native/"/>
    
    
      <category term="Android" scheme="http://cokernut.top/tags/Android/"/>
    
      <category term="React Native" scheme="http://cokernut.top/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>React Native for Android Windowsç¯å¢ƒæ­å»º</title>
    <link href="http://cokernut.top/2016/11/23/Android/React%20Native%20for%20Android%20Windows%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://cokernut.top/2016/11/23/Android/React Native for Android Windowsç¯å¢ƒæ­å»º/</id>
    <published>2016-11-22T16:00:00.000Z</published>
    <updated>2016-12-01T08:21:06.584Z</updated>
    
    <content type="html"><![CDATA[<p>React Native for Android Windowsç¯å¢ƒæ­å»º<br><a id="more"></a></p>
<h2 id="å®‰è£…JDK"><a href="#å®‰è£…JDK" class="headerlink" title="å®‰è£…JDK"></a>å®‰è£…JDK</h2><p>ä»<a href="http://www.oracle.com/technetwork/cn/java/javase/downloads/jdk8-downloads-2133151-zhs.html" target="_blank" rel="external">Javaå®˜ç½‘</a>ä¸‹è½½JDKå¹¶å®‰è£…</p>
<p>è®¾ç½®ç¯å¢ƒå˜é‡;JAVA_HOMEç¯å¢ƒå˜é‡è®¾ç½®ä¸ºä½ jdkæ‰€åœ¨ç›®å½•ï¼Œå°†JDKçš„binç›®å½•åŠ å…¥ç³»ç»ŸPATHç¯å¢ƒå˜é‡</p>
<h2 id="å®‰è£…Android-SDK"><a href="#å®‰è£…Android-SDK" class="headerlink" title="å®‰è£…Android SDK"></a>å®‰è£…Android SDK</h2><p>å®‰è£…Android SDKï¼ŒæŠŠANDROID_HOMEç¯å¢ƒå˜é‡è®¾ç½®ä¸ºä½ sdkæ‰€åœ¨ç›®å½•ï¼Œå°†SDKçš„platform-toolså’Œtoolsç›®å½•åŠ å…¥ç³»ç»ŸPATHç¯å¢ƒå˜é‡<br>è¿™é‡Œä½ å¯ä»¥å®‰è£…Android Studio, Android StudioåŒ…å«äº†è¿è¡Œå’Œæµ‹è¯•React Nativeåº”ç”¨æ‰€éœ€çš„Android SDKå’Œæ¨¡æ‹Ÿå™¨ã€‚React Nativeç›®å‰éœ€è¦Android Studio2.0æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œ<br>Android Studioéœ€è¦Java Development Kit [JDK] 1.8æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p>
<h2 id="å®‰è£…C-ç¯å¢ƒ"><a href="#å®‰è£…C-ç¯å¢ƒ" class="headerlink" title="å®‰è£…C++ç¯å¢ƒ"></a>å®‰è£…C++ç¯å¢ƒ</h2><p>ä¸‹è½½å¹¶å®‰è£…Visual Studioã€‚ä¹Ÿå¯é€‰æ‹©Windows SDKã€cygwinæˆ–mingwç­‰å…¶ä»–C++ç¯å¢ƒã€‚ç¼–è¯‘node.jsçš„C++æ¨¡å—æ—¶éœ€è¦ç”¨åˆ°</p>
<h2 id="å®‰è£…gitå®¢æˆ·ç«¯"><a href="#å®‰è£…gitå®¢æˆ·ç«¯" class="headerlink" title="å®‰è£…gitå®¢æˆ·ç«¯"></a>å®‰è£…<a href="https://git-scm.com/downloads" target="_blank" rel="external">git</a>å®¢æˆ·ç«¯</h2><p>inité‚£ä¸€æ­¥éœ€è¦ç”¨åˆ°è¿™ä¸ªä¸œè¥¿  </p>
<h2 id="å®‰è£…Python"><a href="#å®‰è£…Python" class="headerlink" title="å®‰è£…Python"></a>å®‰è£…Python</h2><p>ä»å®˜ç½‘ä¸‹è½½å¹¶å®‰è£…<a href="https://www.python.org/downloads/" target="_blank" rel="external">python</a> 2.7.xï¼ˆ3.xç‰ˆæœ¬ç›®å‰ä¸æ”¯æŒï¼‰</p>
<h2 id="å®‰è£…Nodejs"><a href="#å®‰è£…Nodejs" class="headerlink" title="å®‰è£…Nodejs"></a>å®‰è£…Nodejs</h2><p>è¯·åˆ°<a href="https://nodejs.org/en/" target="_blank" rel="external">å®˜ç½‘</a>ä¸‹è½½Windowsç‰ˆæœ¬çš„Node.js<br>æˆ‘é€‰çš„æ˜¯æœ€æ–°ç‰ˆï¼ŒReact Nativeçš„è¦æ±‚æ˜¯4.1ä»¥ä¸Šéƒ½å¯ä»¥æ”¯æŒï¼Œæ³¨æ„ï¼Œç›®å‰å·²çŸ¥Node 7.1ç‰ˆæœ¬åœ¨windowsä¸Šæ— æ³•æ­£å¸¸å·¥ä½œï¼Œè¯·æ³¨æ„é¿å¼€è¿™ä¸ªç‰ˆæœ¬ï¼<br>å»ºè®®è®¾ç½®npmé•œåƒä»¥åŠ é€Ÿåé¢çš„è¿‡ç¨‹ï¼ˆæˆ–ä½¿ç”¨ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼‰</p>
<blockquote>
<p>npm config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="external">https://registry.npm.taobao.org</a> â€“global<br>npm config set disturl <a href="https://npm.taobao.org/dist" target="_blank" rel="external">https://npm.taobao.org/dist</a> â€“global  </p>
</blockquote>
<h2 id="å®‰è£…react-native-cliï¼ˆreact-nativeå‘½ä»¤è¡Œå·¥å…·ï¼‰"><a href="#å®‰è£…react-native-cliï¼ˆreact-nativeå‘½ä»¤è¡Œå·¥å…·ï¼‰" class="headerlink" title="å®‰è£…react-native-cliï¼ˆreact-nativeå‘½ä»¤è¡Œå·¥å…·ï¼‰"></a>å®‰è£…react-native-cliï¼ˆreact-nativeå‘½ä»¤è¡Œå·¥å…·ï¼‰</h2><p>Windowså‘½ä»¤è¡Œè¿è¡Œï¼š</p>
<blockquote>
<p>npm install -g react-native-cli   </p>
</blockquote>
<p>æ³¨æ„ï¼šæœ‰çš„æ•™ç¨‹å‘½ä»¤æ˜¯ï¼šnpm install -g yarn react-native-cliå°±æ˜¯å¤šè£…äº†ä¸€ä¸ªyarnæ¨¡å—ï¼Œ<br>Yarnæ˜¯Facebookæä¾›çš„æ›¿ä»£npmçš„å·¥å…·ï¼Œå¯ä»¥åŠ é€Ÿnodeæ¨¡å—çš„ä¸‹è½½ï¼Œå®ƒæ˜¯åœ¨æˆ‘ä»¬ä½¿ç”¨npmå‘½ä»¤ä¸‹è½½æ¨¡å—çš„æ—¶å€™<br>ä¼šé—´æ¥è°ƒç”¨yarnå‘½ä»¤ä¸‹è½½ï¼Œä½†æ˜¯å›½å†…å› ä¸ºè®¿é—®ä¸äº†Facebook(æ¢¯å­å¦è¯´)ï¼Œæ‰€ä»¥ç”¨yarnä¸‹è½½çš„ç»“æœè¦ä¹ˆæ˜¯ä¸‹è½½ä¸äº†ï¼Œ<br>è¦ä¹ˆæ˜¯æ¯”npmè¿˜æ…¢ã€‚æ‰€ä»¥ä½ å‘ç°inité¡¹ç›®çš„æ—¶å€™å¾ˆæ…¢æˆ–è€…æ˜¯è¿›åº¦ä¸çŸ¥é“åŠ¨ï¼Œé‚£ä¹ˆä½ çœ‹ä¸€ä¸‹å‘½ä»¤è¡Œæ˜¯ä¸æ˜¯å› ä¸ºæœ‰å½“ä½ ç”¨npmçš„æ—¶å€™<br>ä¸‹é¢æœ‰è¯´æ˜è°ƒç”¨yarnäº†ï¼Œè¿˜æœ‰ä¸ªç‰ˆæœ¬å·ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åº”è¯¥æŠŠyarnè¿›è¡Œåˆ é™¤ï¼Œåˆ é™¤æ–¹æ³•ï¼šé»˜è®¤æ˜¯åœ¨å‘½ä»¤è¡Œä¸‹è½¬åˆ°C:\Users\UserName\AppData\Roaming\npm<br>ç›®å½•ä¸‹è¿è¡Œ:</p>
<blockquote>
<p>npm uninstall yarn  </p>
</blockquote>
<p>è¿™æ ·å°±å¯ä»¥æŠŠyarnæ¨¡å—è¿›è¡Œåˆ é™¤ï¼Œæˆ‘ä»¬ä½¿ç”¨npmå‘½ä»¤æ—¶å°±ä¸ä¼šè°ƒç”¨yarnäº†ã€‚<br>React Nativeçš„å‘½ä»¤è¡Œå·¥å…·ç”¨äºæ‰§è¡Œåˆ›å»ºã€åˆå§‹åŒ–ã€æ›´æ–°é¡¹ç›®ã€è¿è¡Œæ‰“åŒ…æœåŠ¡ï¼ˆpackagerï¼‰ç­‰ä»»åŠ¡ã€‚<br>ï¼ˆè¿›åº¦æ…¢çš„åŒå­¦å¯ä»¥å°è¯•ä½¿ç”¨Vpnæˆ–è€…æ˜¯å…¶ä»–åŠ é€Ÿæ–¹æ³•-_-ï¼‰  </p>
<h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>è¿›å…¥ä½ çš„å·¥ä½œç›®å½•ï¼ŒWindowså‘½ä»¤è¡Œè¿è¡Œï¼š</p>
<blockquote>
<p>react-native init Project  </p>
</blockquote>
<p>è€å¿ƒç­‰å¾…ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚æ­¤è¿‡ç¨‹æœ‰ç‚¹æ…¢ï¼</p>
<h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><p>è¿›å…¥é¡¹ç›®ç›®å½•ï¼ˆä¸Šé¢çš„Projectç›®å½•ï¼‰å¯åŠ¨React Native Server</p>
<blockquote>
<p>react-native start  </p>
</blockquote>
<p>å¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®<a href="http://localhost:8081/index.android.bundle?platform=android" target="_blank" rel="external">http://localhost:8081/index.android.bundle?platform=android</a>  çœ‹çœ‹æ˜¯å¦å¯ä»¥çœ‹åˆ°æ‰“åŒ…åçš„è„šæœ¬ã€‚ç¬¬ä¸€æ¬¡è®¿é—®é€šå¸¸éœ€è¦åå‡ ç§’ï¼Œå¹¶ä¸”åœ¨packagerçš„å‘½ä»¤è¡Œå¯ä»¥çœ‹åˆ°è¿›åº¦æ¡</p>
<h2 id="è¿è¡Œæ¨¡æ‹Ÿå™¨"><a href="#è¿è¡Œæ¨¡æ‹Ÿå™¨" class="headerlink" title="è¿è¡Œæ¨¡æ‹Ÿå™¨"></a>è¿è¡Œæ¨¡æ‹Ÿå™¨</h2><p>å¯åŠ¨Androidæ¨¡æ‹Ÿå™¨æˆ–è€…æ˜¯ä½¿ç”¨è‡ªå·±è¿æ¥ç”µè„‘  </p>
<h2 id="å®‰å“è¿è¡Œ"><a href="#å®‰å“è¿è¡Œ" class="headerlink" title="å®‰å“è¿è¡Œ"></a>å®‰å“è¿è¡Œ</h2><p>åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œ</p>
<blockquote>
<p>react-native run-android  </p>
</blockquote>
<p>é¦–æ¬¡è¿è¡Œéœ€è¦ç­‰å¾…æ•°åˆ†é’Ÿå¹¶ä»ç½‘ä¸Šä¸‹è½½gradleä¾èµ–</p>
<h3 id="å‰ææ¡ä»¶ï¼šUSBè°ƒè¯•"><a href="#å‰ææ¡ä»¶ï¼šUSBè°ƒè¯•" class="headerlink" title="å‰ææ¡ä»¶ï¼šUSBè°ƒè¯•"></a>å‰ææ¡ä»¶ï¼šUSBè°ƒè¯•</h3><p>ä½ éœ€è¦å¼€å¯USBè°ƒè¯•æ‰èƒ½åœ¨ä½ çš„è®¾å¤‡ä¸Šå®‰è£…ä½ çš„APPã€‚é¦–å…ˆï¼Œç¡®å®šä½ å·²ç»æ‰“å¼€è®¾å¤‡çš„USBè°ƒè¯•å¼€å…³</p>
<p>ç¡®ä¿ä½ çš„è®¾å¤‡å·²ç»æˆåŠŸè¿æ¥ã€‚å¯ä»¥è¾“å…¥adb devicesæ¥æŸ¥çœ‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ adb devices</div><div class="line">List of devices attached</div><div class="line">emulator-5554 offline   # Googleæ¨¡æ‹Ÿå™¨</div><div class="line">14ed2fcc device         # çœŸå®è®¾å¤‡</div></pre></td></tr></table></figure></p>
<p>åœ¨å³è¾¹é‚£åˆ—çœ‹åˆ°deviceè¯´æ˜ä½ çš„è®¾å¤‡å·²ç»è¢«æ­£ç¡®è¿æ¥äº†ã€‚  </p>
<font color="#ff6559">æ³¨æ„ï¼Œä½ åªåº”å½“è¿æ¥ä»…ä»…ä¸€ä¸ªè®¾å¤‡ï¼Œå¦‚æœä½ è¿æ¥äº†å¤šä¸ªè®¾å¤‡ï¼ˆåŒ…å«æ¨¡æ‹Ÿå™¨åœ¨å†…ï¼‰ï¼Œ<br>åç»­çš„ä¸€äº›æ“ä½œå¯èƒ½ä¼šå¤±è´¥ã€‚æ‹”æ‰ä¸éœ€è¦çš„è®¾å¤‡ï¼Œæˆ–è€…å…³æ‰æ¨¡æ‹Ÿå™¨ï¼Œç¡®ä¿adb devicesçš„è¾“å‡ºåªæœ‰ä¸€ä¸ªæ˜¯è¿æ¥çŠ¶æ€ã€‚</font>

<p>ç°åœ¨ä½ å¯ä»¥è¿è¡Œreact-native run-androidæ¥åœ¨è®¾å¤‡ä¸Šå®‰è£…å¹¶å¯åŠ¨åº”ç”¨äº†ã€‚</p>
<p>æ³¨æ„ï¼šåœ¨çœŸæœºä¸Šè¿è¡Œæ—¶å¯èƒ½ä¼šé‡åˆ°ç™½å±çš„æƒ…å†µï¼Œè¯·æ‰¾åˆ°å¹¶å¼€å¯<font color="#ff6559">æ‚¬æµ®çª—æƒé™ã€‚</font></p>
<h2 id="ä»è®¾å¤‡ä¸Šè®¿é—®å¼€å‘æœåŠ¡å™¨ã€‚"><a href="#ä»è®¾å¤‡ä¸Šè®¿é—®å¼€å‘æœåŠ¡å™¨ã€‚" class="headerlink" title="ä»è®¾å¤‡ä¸Šè®¿é—®å¼€å‘æœåŠ¡å™¨ã€‚"></a>ä»è®¾å¤‡ä¸Šè®¿é—®å¼€å‘æœåŠ¡å™¨ã€‚</h2><p>åœ¨å¯ç”¨å¼€å‘æœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å¿«é€Ÿçš„è¿­ä»£ä¿®æ”¹åº”ç”¨ï¼Œç„¶ååœ¨è®¾å¤‡ä¸ŠæŸ¥çœ‹ç»“æœã€‚æŒ‰ç…§ä¸‹é¢æè¿°çš„ä»»æ„ä¸€ç§æ–¹æ³•æ¥ä½¿ä½ çš„è¿è¡Œåœ¨ç”µè„‘ä¸Šçš„å¼€å‘æœåŠ¡å™¨å¯ä»¥ä»è®¾å¤‡ä¸Šè®¿é—®åˆ°ã€‚</p>
<p>æ³¨æ„ï¼šç°åœ¨å¾ˆå¤šå®‰å“è®¾å¤‡å·²ç»æ²¡æœ‰äº†ç¡¬ä»¶â€Menuâ€æŒ‰é”®ï¼Œè¿™æ˜¯æˆ‘ä»¬ç”¨æ¥è°ƒå‡ºå¼€å‘è€…èœå•çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä½ å¯ä»¥é€šè¿‡æ‘‡æ™ƒè®¾å¤‡æ¥æ‰“å¼€å¼€å‘è€…èœå•(é‡æ–°åŠ è½½ã€è°ƒè¯•ï¼Œç­‰ç­‰â€¦â€¦)  </p>
<h3 id="Android-5-0åŠä»¥ä¸Š-ä½¿ç”¨adb-reverseå‘½ä»¤"><a href="#Android-5-0åŠä»¥ä¸Š-ä½¿ç”¨adb-reverseå‘½ä»¤" class="headerlink" title="(Android 5.0åŠä»¥ä¸Š)ä½¿ç”¨adb reverseå‘½ä»¤"></a>(Android 5.0åŠä»¥ä¸Š)ä½¿ç”¨adb reverseå‘½ä»¤</h3><font color="#ff6559">æ³¨æ„ï¼Œè¿™ä¸ªé€‰é¡¹åªèƒ½åœ¨5.0ä»¥ä¸Šç‰ˆæœ¬(API 21+)çš„å®‰å“è®¾å¤‡ä¸Šä½¿ç”¨ã€‚</font>

<p>é¦–å…ˆæŠŠä½ çš„è®¾å¤‡é€šè¿‡USBæ•°æ®çº¿è¿æ¥åˆ°ç”µè„‘ä¸Šï¼Œå¹¶å¼€å¯USBè°ƒè¯•ï¼ˆè®¾ç½®â€“&gt;å¼€å‘è€…é€‰é¡¹â€“&gt;USBè°ƒè¯•ï¼‰ã€‚</p>
<blockquote>
<p>è¿è¡Œ<font color="#c7254e">adb reverse tcp:8081 tcp:8081</font><br>ä¸éœ€è¦æ›´å¤šé…ç½®ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨Reload JSå’Œå…¶å®ƒçš„å¼€å‘é€‰é¡¹äº†ã€‚  </p>
</blockquote>
<h3 id="Android-5-0ä»¥ä¸‹-é€šè¿‡Wi-Fiè¿æ¥ä½ çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨"><a href="#Android-5-0ä»¥ä¸‹-é€šè¿‡Wi-Fiè¿æ¥ä½ çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨" class="headerlink" title="(Android 5.0ä»¥ä¸‹)é€šè¿‡Wi-Fiè¿æ¥ä½ çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨"></a>(Android 5.0ä»¥ä¸‹)é€šè¿‡Wi-Fiè¿æ¥ä½ çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨</h3><ol>
<li>é¦–å…ˆç¡®ä¿ä½ çš„ç”µè„‘å’Œæ‰‹æœºè®¾å¤‡åœ¨åŒä¸€ä¸ªWi-Fiç¯å¢ƒä¸‹ã€‚</li>
<li>åœ¨è®¾å¤‡ä¸Šè¿è¡Œä½ çš„React Nativeåº”ç”¨ã€‚å’Œæ‰“å¼€å…¶å®ƒAppä¸€æ ·æ“ä½œã€‚</li>
<li>ä½ åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªâ€œçº¢å±â€é”™è¯¯æç¤ºã€‚è¿™æ˜¯æ­£å¸¸çš„ï¼Œä¸‹é¢çš„æ­¥éª¤ä¼šè§£å†³è¿™ä¸ªæŠ¥é”™ã€‚</li>
<li>æ‘‡æ™ƒè®¾å¤‡ï¼Œæˆ–è€…è¿è¡Œadb shell input keyevent 82ï¼Œå¯ä»¥æ‰“å¼€å¼€å‘è€…èœå•ã€‚</li>
<li>ç‚¹å‡»è¿›å…¥Dev Settingsã€‚</li>
<li>ç‚¹å‡»Debug server host for deviceã€‚</li>
<li>è¾“å…¥ä½ ç”µè„‘çš„IPåœ°å€å’Œç«¯å£å·ï¼ˆè­¬å¦‚10.0.1.1:8081ï¼‰ã€‚åœ¨Macä¸Šï¼Œä½ å¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®/ç½‘ç»œé‡Œæ‰¾æŸ¥è¯¢ä½ çš„IPåœ°å€ã€‚åœ¨Windowsä¸Šï¼Œæ‰“å¼€å‘½ä»¤æç¤ºç¬¦å¹¶è¾“å…¥ipconfigæ¥æŸ¥è¯¢ä½ çš„IPåœ°å€ã€‚åœ¨Linuxä¸Šä½ å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥ifconfigæ¥æŸ¥è¯¢ä½ çš„IPåœ°å€ã€‚</li>
<li>å›åˆ°å¼€å‘è€…èœå•ç„¶åé€‰æ‹©Reload JSã€‚  </li>
</ol>
<h2 id="å¼‚å¸¸-ï¼š"><a href="#å¼‚å¸¸-ï¼š" class="headerlink" title="å¼‚å¸¸ ï¼š"></a>å¼‚å¸¸ ï¼š</h2><p><img src="/images/Android/React_Native_Windows_Environment/1.png" alt="å¼‚å¸¸" title="å¼‚å¸¸">  </p>
<p>å¼‚å¸¸ ReferenceError:Canâ€™t find variable:_fbBatchedBridgeæˆ–è€…Unable to download JS bundleè§£å†³æ–¹æ³•<br>çœ‹åˆ°è¿™ä¸ªï¼Œä½¿åŠ²æ‘‡æ™ƒæ‰‹æœºæˆ–è€…ç›´æ¥ç‚¹å‡»èœå•æŒ‰é’®ï¼Œåœ¨å‡ºæ¥çš„èœå•é‡Œé€‰æ‹©â€œDev Settingsâ€ï¼Œç„¶åç‚¹å‡»æœ€ä¸‹é¢<br>çš„â€œDebug server host &amp; port for deviceâ€œï¼Œç„¶åå¡«å…¥ä½ ç”µè„‘çš„ip:8081ï¼Œä½ çš„æ‰‹æœºå’Œä½ çš„ç”µè„‘<br>å¿…é¡»åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ã€‚è®¾ç½®å®Œæˆä»¥åå†é‡å¯åº”ç”¨ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°React Nativeçš„æ¬¢è¿ç•Œé¢äº†ï¼Œ<br>å°±æ˜¯index.android.jsé¡µé¢çš„å†…å®¹<br><img src="/images/Android/React_Native_Windows_Environment/2.png" alt="æ•ˆæœ" title="æ•ˆæœ">  </p>
<h2 id="é‡åˆ°çš„å‘ï¼š"><a href="#é‡åˆ°çš„å‘ï¼š" class="headerlink" title="é‡åˆ°çš„å‘ï¼š"></a>é‡åˆ°çš„å‘ï¼š</h2><h3 id="å°ç±³MIUIç³»ç»Ÿå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ï¼š"><a href="#å°ç±³MIUIç³»ç»Ÿå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ï¼š" class="headerlink" title="å°ç±³MIUIç³»ç»Ÿå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ï¼š"></a>å°ç±³MIUIç³»ç»Ÿå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ï¼š</h3><p>react-native run-androidçš„æ—¶å€™å‡ºç°Failed to establish sessioné—®é¢˜ï¼š<br>è§£å†³æ–¹æ¡ˆï¼šå°ç±³æ‰‹æœºè®¾ç½®é‡Œâ€”â€”-å¼€å‘è€…é€‰é¡¹â€”â€”â€”å¯ç”¨MIUIä¼˜åŒ– å…³é—­<br><img src="/images/Android/React_Native_Windows_Environment/3.png" alt="å¼‚å¸¸" title="å¼‚å¸¸"><br><img src="/images/Android/React_Native_Windows_Environment/4.png" alt="å¼‚å¸¸" title="å¼‚å¸¸">  </p>
<h3 id="æ³¨æ„ï¼šä»¥ä¸‹æ˜¯ä½¿ç”¨Genymotionæ—¶çš„æƒ…å†µï¼Œä¸Šé¢çš„è§£å†³æ–¹æ³•æ— æ³•è§£å†³"><a href="#æ³¨æ„ï¼šä»¥ä¸‹æ˜¯ä½¿ç”¨Genymotionæ—¶çš„æƒ…å†µï¼Œä¸Šé¢çš„è§£å†³æ–¹æ³•æ— æ³•è§£å†³" class="headerlink" title="æ³¨æ„ï¼šä»¥ä¸‹æ˜¯ä½¿ç”¨Genymotionæ—¶çš„æƒ…å†µï¼Œä¸Šé¢çš„è§£å†³æ–¹æ³•æ— æ³•è§£å†³"></a>æ³¨æ„ï¼šä»¥ä¸‹æ˜¯ä½¿ç”¨Genymotionæ—¶çš„æƒ…å†µï¼Œä¸Šé¢çš„è§£å†³æ–¹æ³•æ— æ³•è§£å†³</h3><p>å¯ä»¥çœ‹åˆ°genymotionæ¨¡æ‹Ÿå™¨ä½¿ç”¨çš„ç½‘ç»œè¿æ¥æ–¹å¼æ˜¯Host-Onlyæ–¹å¼ï¼Œæ­¤æƒ…å†µä¸‹<br>Debug server host &amp; port for deviceä¸­å¡«å…¥çš„åº”è¯¥æ˜¯VirtualBox Host-Only Network<br>çš„IP:8081ï¼ˆ192.168.56.1:8081ï¼‰,ä¹‹åå†é‡å¯åº”ç”¨æˆ–è€…æ˜¯è¿”å›ä¸€ä¸‹å†ç‚¹å‡»èœå•é€‰æ‹©Reload JS,<br>ä½ å°±å¯ä»¥çœ‹åˆ°React Nativeçš„æ¬¢è¿ç•Œé¢äº†<br><img src="/images/Android/React_Native_Windows_Environment/5.png" alt="å¼‚å¸¸" title="å¼‚å¸¸"><br><img src="/images/Android/React_Native_Windows_Environment/6.png" alt="å¼‚å¸¸" title="å¼‚å¸¸"><br><img src="/images/Android/React_Native_Windows_Environment/10.png" alt="å¼‚å¸¸" title="å¼‚å¸¸"> </p>
<h3 id="é”™è¯¯Could-not-connect-to-development-serverï¼š"><a href="#é”™è¯¯Could-not-connect-to-development-serverï¼š" class="headerlink" title="é”™è¯¯Could not connect to development serverï¼š"></a>é”™è¯¯Could not connect to development serverï¼š</h3><p>å¦‚æœç¡®å®šIPåœ°å€è®¾ç½®æ­£ç¡®äº†è¿˜æç¤ºï¼šCould not connect to development serverï¼Œé‚£ä¹ˆä½ è¦ç¡®å®šä½ çš„React Native Serverå¯åŠ¨äº†ï¼Œæ²¡å¯åŠ¨çš„è¯å¯åŠ¨React Native Serverï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œï¼š</p>
<blockquote>
<p>react-native start  </p>
</blockquote>
<p><img src="/images/Android/React_Native_Windows_Environment/7.png" alt="å¼‚å¸¸" title="å¼‚å¸¸">   </p>
<h2 id="å®‰å“è°ƒè¯•"><a href="#å®‰å“è°ƒè¯•" class="headerlink" title="å®‰å“è°ƒè¯•"></a>å®‰å“è°ƒè¯•</h2><p>æ‰“å¼€Chromeï¼Œè®¿é—® <a href="http://localhost:8081/debugger-ui" target="_blank" rel="external">http://localhost:8081/debugger-ui</a>  ï¼Œåº”å½“èƒ½çœ‹åˆ°ä¸€ä¸ªé¡µé¢ã€‚æŒ‰F12æ‰“å¼€å¼€å‘è€…èœå•é€‰æ‹©Sourceså‹¾é€‰Pause On Caught Exceptionsï¼ˆå¦‚å›¾ï¼‰</p>
<p>åœ¨æ¨¡æ‹Ÿå™¨æˆ–çœŸæœºèœå•ä¸­é€‰æ‹©Debug JSï¼Œå³å¯å¼€å§‹è°ƒè¯•<br><img src="/images/Android/React_Native_Windows_Environment/8.png" alt="æ•ˆæœ" title="æ•ˆæœ"><br><img src="/images/Android/React_Native_Windows_Environment/9.png" alt="æ•ˆæœ" title="æ•ˆæœ">  </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;React Native for Android Windowsç¯å¢ƒæ­å»º&lt;br&gt;
    
    </summary>
    
      <category term="Android" scheme="http://cokernut.top/categories/Android/"/>
    
      <category term="React Native" scheme="http://cokernut.top/categories/Android/React-Native/"/>
    
    
      <category term="Android" scheme="http://cokernut.top/tags/Android/"/>
    
      <category term="React Native" scheme="http://cokernut.top/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>Androidè¾…åŠ©åŠŸèƒ½AccessibilityServiceçš„ä½¿ç”¨</title>
    <link href="http://cokernut.top/2016/11/17/Android/Android%E8%BE%85%E5%8A%A9%E5%8A%9F%E8%83%BDAccessibilityService%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://cokernut.top/2016/11/17/Android/Androidè¾…åŠ©åŠŸèƒ½AccessibilityServiceçš„ä½¿ç”¨/</id>
    <published>2016-11-16T16:00:00.000Z</published>
    <updated>2016-11-28T09:44:02.516Z</updated>
    
    <content type="html"><![CDATA[<p>Androidè¾…åŠ©åŠŸèƒ½AccessibilityServiceçš„ä½¿ç”¨<br><a id="more"></a></p>
<h2 id="AccessibilityServiceå®˜æ–¹ç®€ä»‹ï¼š"><a href="#AccessibilityServiceå®˜æ–¹ç®€ä»‹ï¼š" class="headerlink" title="AccessibilityServiceå®˜æ–¹ç®€ä»‹ï¼š"></a>AccessibilityServiceå®˜æ–¹ç®€ä»‹ï¼š</h2><blockquote>
<p>The classes in this package are used for development of accessibility service that provide alternative or augmented feedback to the user.<br>ä½¿ç”¨è¿™ä¸ªç±»å¯ä»¥å¼€å‘ç”¨äºç»™ç”¨æˆ·æä¾›æ›¿æ¢æˆ–è€…æ˜¯å¢å¼ºåé¦ˆçš„è¾…åŠ©åŠŸèƒ½æœåŠ¡ã€‚  </p>
<hr>
<p>An AccessibilityService runs in the background and receives callbacks by the system when AccessibilityEvents are fired. Such events denote some state transition in the user interface, for example, the focus has changed, a button has been clicked, etc. Such a service can optionally request the capability for querying the content of the active window. Development of an accessibility service requires extends this class and implements its abstract methods.<br>ä¸€ä¸ªAccessibilityServiceåœ¨åå°è¿è¡Œå¹¶æ¥æ”¶ç³»ç»ŸAccessibilityEventsäº‹ä»¶çš„å›è°ƒï¼Œå½“ç”¨æˆ·ç•Œé¢çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ä¼šè§¦å‘AccessibilityEventsäº‹ä»¶ï¼Œä¾‹å¦‚ç„¦ç‚¹çš„å˜åŒ–ï¼Œç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ã€‚<br>è¿™ä¸ªæœåŠ¡å¯ä»¥è·å–åˆ°æ´»åŠ¨çª—å£çš„å†…å®¹ï¼Œå¼€å‘ä¸€ä¸ªè¾…åŠ©åŠŸèƒ½æœåŠ¡éœ€è¦ç»§æ‰¿AccessibilityServiceå¹¶å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚  </p>
<hr>
<p>An AccessibilityServiceInfo describes an AccessibilityServiceInfo. The system notifies an AccessibilityService for AccessibilityEvents according to the information encapsulated in this class.<br>ä¸€ä¸ªAccessibilityServiceæœ‰ä¸€ä¸ªç”¨äºæè¿°AccessibilityServiceçš„AccessibilityServiceInfoå¯¹è±¡ï¼Œç³»ç»Ÿä¼šé€šçŸ¥AccessibilityServiceæ ¹æ®AccessibilityServiceInfoæŠŠä¿¡æ¯è£…è¿›AccessibilityEventsä¸­ã€‚</p>
</blockquote>
<h2 id="ç»§æ‰¿AccessibilityServiceå¹¶å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚"><a href="#ç»§æ‰¿AccessibilityServiceå¹¶å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚" class="headerlink" title="ç»§æ‰¿AccessibilityServiceå¹¶å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚"></a>ç»§æ‰¿AccessibilityServiceå¹¶å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚</h2><blockquote>
<p>ä¸‹é¢æ˜¯æˆ‘Serviceç±»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword">extends</span> <span class="title">AccessibilityService</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code = INSTALL;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> INSTALL = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NEXT = <span class="number">1</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> FINISH = <span class="number">2</span>;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * é¡µé¢å˜åŒ–å›è°ƒäº‹ä»¶</div><div class="line">     * <span class="doctag">@param</span> event event.getEventType() å½“å‰äº‹ä»¶çš„ç±»å‹;</div><div class="line">     *              event.getClassName() å½“å‰ç±»çš„åç§°;</div><div class="line">     *              event.getSource() å½“å‰é¡µé¢ä¸­çš„èŠ‚ç‚¹ä¿¡æ¯ï¼›</div><div class="line">     *              event.getPackageName() äº‹ä»¶æºæ‰€åœ¨çš„åŒ…å</div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAccessibilityEvent</span><span class="params">(AccessibilityEvent event)</span> </span>&#123;</div><div class="line">        <span class="comment">// äº‹ä»¶é¡µé¢èŠ‚ç‚¹ä¿¡æ¯ä¸ä¸ºç©º</span></div><div class="line">        <span class="keyword">if</span> (event.getSource() != <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="comment">// åˆ¤æ–­äº‹ä»¶é¡µé¢æ‰€åœ¨çš„åŒ…åï¼Œè¿™é‡Œæ˜¯è‡ªå·±</span></div><div class="line">            <span class="keyword">if</span> (event.getPackageName().equals(getApplicationContext().getPackageName())) &#123;</div><div class="line">                <span class="keyword">switch</span> (code) &#123;</div><div class="line">                    <span class="keyword">case</span> INSTALL:</div><div class="line">                        click(event, <span class="string">"å®‰è£…"</span>, TextView.class.getName());</div><div class="line">                        Log.d(<span class="string">"test======="</span>, <span class="string">"å®‰è£…"</span>);</div><div class="line">                        code = NEXT;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> NEXT:</div><div class="line">                        click(event, <span class="string">"ä¸‹ä¸€æ­¥"</span>, Button.class.getName());</div><div class="line">                        Log.d(<span class="string">"test======="</span>, <span class="string">"ä¸‹ä¸€æ­¥"</span>);</div><div class="line">                        code = FINISH;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> FINISH:</div><div class="line">                        click(event, <span class="string">"å®Œæˆ"</span>, TextView.class.getName());</div><div class="line">                        Log.d(<span class="string">"test======="</span>, <span class="string">"å®Œæˆ"</span>);</div><div class="line">                        code = INSTALL;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">default</span>:</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            Log.d(<span class="string">"test====="</span>, <span class="string">"the source = null"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * æ¨¡æ‹Ÿç‚¹å‡»</div><div class="line">     * <span class="doctag">@param</span> event äº‹ä»¶</div><div class="line">     * <span class="doctag">@param</span> text æŒ‰é’®æ–‡å­—</div><div class="line">     * <span class="doctag">@param</span> widgetType æŒ‰é’®ç±»å‹ï¼Œå¦‚android.widget.Buttonï¼Œandroid.widget.TextView</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">click</span><span class="params">(AccessibilityEvent event, String text, String widgetType)</span> </span>&#123;</div><div class="line">        <span class="comment">// äº‹ä»¶é¡µé¢èŠ‚ç‚¹ä¿¡æ¯ä¸ä¸ºç©º</span></div><div class="line">        <span class="keyword">if</span> (event.getSource() != <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="comment">// æ ¹æ®Textæœç´¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹, æ¨¡ç³Šæœç´¢æ–¹å¼; è¿˜å¯ä»¥é€šè¿‡IDæ¥ç²¾ç¡®æœç´¢findAccessibilityNodeInfosByViewId</span></div><div class="line">            List&lt;AccessibilityNodeInfo&gt; stop_nodes = event.getSource().findAccessibilityNodeInfosByText(text);</div><div class="line">            <span class="comment">// éå†èŠ‚ç‚¹</span></div><div class="line">            <span class="keyword">if</span> (stop_nodes != <span class="keyword">null</span> &amp;&amp; !stop_nodes.isEmpty()) &#123;</div><div class="line">                AccessibilityNodeInfo node;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; stop_nodes.size(); i++) &#123;</div><div class="line">                    node = stop_nodes.get(i);</div><div class="line">                    <span class="comment">// åˆ¤æ–­æŒ‰é’®ç±»å‹</span></div><div class="line">                    <span class="keyword">if</span> (node.getClassName().equals(widgetType)) &#123;</div><div class="line">                        <span class="comment">// å¯ç”¨åˆ™æ¨¡æ‹Ÿç‚¹å‡»</span></div><div class="line">                        <span class="keyword">if</span> (node.isEnabled()) &#123;</div><div class="line">                            node.performAction(AccessibilityNodeInfo.ACTION_CLICK);</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ä¸­æ–­AccessibilityServiceçš„åé¦ˆæ—¶è°ƒç”¨</div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onInterrupt</span><span class="params">()</span> </span>&#123;</div><div class="line">        Log.d(<span class="string">"test====="</span>, <span class="string">"Interrupt"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>AccessibilityServiceé‡Œå‡ ä¸ªé‡è¦çš„æ–¹æ³•ï¼š  </p>
</blockquote>
<ul>
<li>onServiceConnected() - å¯é€‰ã€‚ç³»ç»Ÿä¼šåœ¨æˆåŠŸè¿æ¥ä¸Šä½ çš„æœåŠ¡çš„æ—¶å€™è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•é‡Œä½ å¯ä»¥åšä¸€ä¸‹åˆå§‹åŒ–å·¥ä½œï¼Œä¾‹å¦‚è®¾å¤‡çš„å£°éŸ³éœ‡åŠ¨ç®¡ç†ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨setServiceInfo()è¿›è¡Œé…ç½®AccessibilityServiceInfoã€‚</li>
<li>onAccessibilityEvent() - å¿…é¡»ã€‚é€šè¿‡è¿™ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶ç³»ç»Ÿå‘é€æ¥çš„AccessibilityEventï¼Œæ¥æ”¶æ¥çš„AccessibilityEventæ˜¯ç»è¿‡è¿‡æ»¤çš„ï¼Œè¿‡æ»¤æ˜¯åœ¨é…ç½®å·¥ä½œæ—¶è®¾ç½®çš„ã€‚</li>
<li>onInterrupt() - å¿…é¡»ã€‚è¿™ä¸ªåœ¨ç³»ç»Ÿæƒ³è¦ä¸­æ–­AccessibilityServiceè¿”ç»™çš„å“åº”æ—¶ä¼šè°ƒç”¨ã€‚åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸé‡Œä¼šè¢«è°ƒç”¨å¤šæ¬¡ã€‚</li>
<li>onUnbind() - å¯é€‰ã€‚åœ¨ç³»ç»Ÿå°†è¦å…³é—­è¿™ä¸ªAccessibilityServiceä¼šè¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œä¸€äº›é‡Šæ”¾èµ„æºçš„å·¥ä½œã€‚</li>
</ul>
<blockquote>
<p>ä¹‹ååœ¨AndroidManifestæ–‡ä»¶é‡Œæ³¨å†Œå¹¶æ·»åŠ ç›¸åº”çš„æƒé™ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">service</span></span></div><div class="line">    <span class="attr">android:name</span>=<span class="string">".MyService"</span></div><div class="line">    <span class="attr">android:label</span>=<span class="string">"è¾…åŠ©åŠŸèƒ½"</span></div><div class="line">    <span class="attr">android:permission</span>=<span class="string">"android.permission.BIND_ACCESSIBILITY_SERVICE"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.accessibilityservice.AccessibilityService"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line">    ...</div><div class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="é…ç½®AccessibilityService"><a href="#é…ç½®AccessibilityService" class="headerlink" title="é…ç½®AccessibilityService"></a>é…ç½®AccessibilityService</h2><p>1.å¯ä»¥åœ¨onServiceConnected()æ–¹æ³•é‡Œè¿›è¡Œï¼Œå»ºç«‹ä¸€ä¸ªAccessibilityServiceInfoå¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡è®¾ç½®ç›‘å¬ç³»ç»Ÿäº‹ä»¶ç±»å‹ï¼ŒæœåŠ¡çš„åé¦ˆç±»å‹ï¼ˆéœ‡åŠ¨ï¼Œè¯­éŸ³ï¼Œå£°éŸ³ï¼‰ï¼Œäº‹ä»¶æ—¶é—´é—´éš”ï¼Œä½ æƒ³è¦ç›‘å¬çš„Appçš„åŒ…åã€‚æœ€åè°ƒç”¨setServiceInfo()è¿›è¡Œè®¾ç½®ï¼Œå¦‚ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onServiceConnected</span><span class="params">()</span> </span>&#123;</div><div class="line">       <span class="keyword">super</span>.onServiceConnected();</div><div class="line">       AccessibilityServiceInfo info = <span class="keyword">new</span> AccessibilityServiceInfo();</div><div class="line">       info.eventTypes = AccessibilityEvent.TYPES_ALL_MASK;</div><div class="line">       info.packageNames = PACKAGE_NAMES; </div><div class="line">       ...é…ç½®</div><div class="line">       setServiceInfo(info);</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>2.ä»Android4.0å¼€å§‹ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡åœ¨AndroidManifesté‡Œæ·»åŠ <meta-data>æ ‡ç­¾é…ç½®AccessibilityServiceï¼Œåœ¨æ ‡ç­¾é‡ŒæŒ‡å‡ºé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œå¦‚ï¼š  </meta-data></p>
<blockquote>
<p>res/xml/accessibility_service_info.xml<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">accessibility-service</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">android:description</span>=<span class="string">"@string/accessibility_service_description"</span></div><div class="line">    <span class="attr">android:accessibilityEventTypes</span>=<span class="string">"typeAllMask"</span></div><div class="line">    <span class="attr">android:accessibilityFeedbackType</span>=<span class="string">"feedbackGeneric"</span></div><div class="line">    <span class="attr">android:notificationTimeout</span>=<span class="string">"100"</span></div><div class="line">    <span class="attr">android:accessibilityFlags</span>=<span class="string">"flagDefault"</span></div><div class="line">    <span class="attr">android:canRetrieveWindowContent</span>=<span class="string">"true"</span></div><div class="line">    <span class="attr">android:packageNames</span>=<span class="string">"top.cokernut.sample"</span></div><div class="line">    <span class="attr">android:settingsActivity</span>=<span class="string">"com.example.android.accessibility.ServiceSettingsActivity"</span>  /&gt;</div><div class="line"></div><div class="line">    <span class="comment">&lt;!--</span></div><div class="line">         android:description="@string/accessibility_service_description" æè¿°</div><div class="line">         android:accessibilityEventTypes="typeAllMask"  äº‹ä»¶ç±»å‹</div><div class="line">         android:accessibilityFeedbackType="feedbackGeneric" åé¦ˆç±»å‹ï¼Œå£°éŸ³ã€éœ‡åŠ¨ç­‰</div><div class="line">         android:canRetrieveWindowContent="true", å…è®¸è·å–æ‰‹æœºé¡µé¢ä¸­çš„ä¿¡æ¯</div><div class="line">         android:packageNames="top.cokernut.sample" è¦ç›‘å¬çš„åŒ…åï¼Œè¿‡æ»¤ä½œç”¨</div><div class="line">         android:settingsActivity="packname.android.accessibility.ServiceSettingsActivity" packnameå†™è‡ªå·±Appçš„åŒ…å</div><div class="line">    --&gt;</div></pre></td></tr></table></figure></p>
<p>äº‹ä»¶ç±»å‹ï¼ˆEventTypeï¼‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">#TYPES_ALL_MASKï¼šæ‰€æœ‰ç±»å‹</div><div class="line">#TYPE_VIEW_CLICKED ï¼šå•å‡»</div><div class="line">#TYPE_VIEW_LONG_CLICKED ï¼šé•¿æŒ‰</div><div class="line">#TYPE_VIEW_SELECTED ï¼šé€‰ä¸­</div><div class="line">#TYPE_VIEW_FOCUSED ï¼šè·å–ç„¦ç‚¹</div><div class="line">#TYPE_VIEW_TEXT_CHANGED ï¼šæ–‡å­—æ”¹å˜</div><div class="line">#TYPE_WINDOW_STATE_CHANGED ï¼šçª—å£çŠ¶æ€æ”¹å˜</div><div class="line">#TYPE_NOTIFICATION_STATE_CHANGED ï¼šé€šçŸ¥çŠ¶æ€æ”¹å˜</div><div class="line">#TYPE_VIEW_HOVER_ENTER</div><div class="line">#TYPE_VIEW_HOVER_EXIT</div><div class="line">#TYPE_TOUCH_EXPLORATION_GESTURE_START</div><div class="line">#TYPE_TOUCH_EXPLORATION_GESTURE_END</div><div class="line">#TYPE_WINDOW_CONTENT_CHANGED</div><div class="line">#TYPE_VIEW_SCROLLED</div><div class="line">#TYPE_VIEW_TEXT_SELECTION_CHANGED</div><div class="line">#TYPE_ANNOUNCEMENT</div><div class="line">#TYPE_VIEW_TEXT_TRAVERSED_AT_MOVEMENT_GRANULARITY</div><div class="line">#TYPE_GESTURE_DETECTION_START</div><div class="line">#TYPE_GESTURE_DETECTION_END</div><div class="line">#TYPE_TOUCH_INTERACTION_START</div><div class="line">#TYPE_TOUCH_INTERACTION_END</div><div class="line">#TYPE_WINDOWS_CHANGED</div></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨AndroidManifestæ–‡ä»¶é‡ŒæŠŠé…ç½®æ–‡ä»¶é…ç½®åˆ°AccessibilityServiceä¸Šï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">service</span></span></div><div class="line">    <span class="attr">android:name</span>=<span class="string">".MyService"</span></div><div class="line">    <span class="attr">android:label</span>=<span class="string">"è¾…åŠ©åŠŸèƒ½"</span></div><div class="line">    <span class="attr">android:permission</span>=<span class="string">"android.permission.BIND_ACCESSIBILITY_SERVICE"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.accessibilityservice.AccessibilityService"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">meta-data</span></span></div><div class="line">        <span class="attr">android:name</span>=<span class="string">"android.accessibilityservice"</span></div><div class="line">        <span class="attr">android:resource</span>=<span class="string">"@xml/accessibility_service_info"</span> /&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></div></pre></td></tr></table></figure></p>
</blockquote>
<p>åˆ°æ­¤ä¸€ä¸ªAccessibilityServiceçš„å¼€å‘å°±å®Œæˆäº†ã€‚</p>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><blockquote>
<p>MainActivityï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> TextView mInstallTV;</div><div class="line">    <span class="keyword">private</span> TextView mFinishTV;</div><div class="line">    <span class="keyword">private</span> TextView mStartTV;</div><div class="line">    <span class="keyword">private</span> TextView mStopTV;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Button mInstallBT;</div><div class="line">    <span class="keyword">private</span> Button mNextBT;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        mInstallTV      = (TextView) findViewById(R.id.tv_install);</div><div class="line">        mStartTV        = (TextView) findViewById(R.id.tv_start);</div><div class="line">        mStopTV         = (TextView) findViewById(R.id.tv_stop);</div><div class="line">        mFinishTV       = (TextView) findViewById(R.id.tv_finish);</div><div class="line">        mInstallBT      = (Button) findViewById(R.id.bt_install);</div><div class="line">        mNextBT         = (Button) findViewById(R.id.bt_next);</div><div class="line">        mInstallTV      .setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        mFinishTV       .setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        mInstallBT      .setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        mNextBT         .setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        mStartTV        .setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        mStopTV         .setOnClickListener(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">        <span class="keyword">switch</span> (v.getId()) &#123;</div><div class="line">            <span class="keyword">case</span> R.id.tv_start:</div><div class="line">                <span class="keyword">if</span> (serviceIsRunning()) &#123;</div><div class="line">                    showToast(<span class="string">"æœåŠ¡å·²ç»åœ¨è¿è¡Œï¼"</span>);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    startAccessibilityService();</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.tv_stop:</div><div class="line">                startActivity(<span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, SecondActivity.class));</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.tv_install:</div><div class="line">                showToast(((TextView)v).getText().toString());</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.tv_finish:</div><div class="line">                showToast(((TextView)v).getText().toString());</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.bt_install:</div><div class="line">                showToast(((Button)v).getText().toString());</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.bt_next:</div><div class="line">                showToast(((Button)v).getText().toString());</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">default</span>:</div><div class="line">                showToast(<span class="string">"æœªçŸ¥æŒ‰é’®"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showToast</span><span class="params">(<span class="keyword">final</span> String text)</span> </span>&#123;</div><div class="line">        <span class="comment">//AccessibilityServiceè§¦å‘äº‹ä»¶æ˜¯å¼‚æ­¥çš„ï¼Œè¦å›åˆ°UIçº¿ç¨‹æ”¹å˜UI</span></div><div class="line">        runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"ç‚¹å‡»äº†"</span> + text, Toast.LENGTH_LONG).show();</div><div class="line">                Log.d(<span class="string">"text====="</span>, <span class="string">"====="</span> + text);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * åˆ¤æ–­è‡ªå·±çš„åº”ç”¨çš„AccessibilityServiceæ˜¯å¦åœ¨è¿è¡Œ</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">serviceIsRunning</span><span class="params">()</span> </span>&#123;</div><div class="line">        ActivityManager am = (ActivityManager) getApplicationContext().getSystemService(Context.ACTIVITY_SERVICE);</div><div class="line">        List&lt;ActivityManager.RunningServiceInfo&gt; services = am.getRunningServices(Short.MAX_VALUE);</div><div class="line">        <span class="keyword">for</span> (ActivityManager.RunningServiceInfo info : services) &#123;</div><div class="line">            <span class="keyword">if</span> (info.service.getClassName().equals(getPackageName() + <span class="string">".MyService"</span>)) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * å‰å¾€è®¾ç½®ç•Œé¢å¼€å¯æœåŠ¡</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startAccessibilityService</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</div><div class="line">                .setTitle(<span class="string">"å¼€å¯è¾…åŠ©åŠŸèƒ½"</span>)</div><div class="line">                .setIcon(R.mipmap.ic_launcher)</div><div class="line">                .setMessage(<span class="string">"ä½¿ç”¨æ­¤é¡¹åŠŸèƒ½éœ€è¦æ‚¨å¼€å¯è¾…åŠ©åŠŸèƒ½"</span>)</div><div class="line">                .setPositiveButton(<span class="string">"ç«‹å³å¼€å¯"</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</div><div class="line">                            <span class="meta">@Override</span></div><div class="line">                            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</div><div class="line">                                <span class="comment">// éšå¼è°ƒç”¨ç³»ç»Ÿè®¾ç½®ç•Œé¢</span></div><div class="line">                                Intent intent = <span class="keyword">new</span> Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);</div><div class="line">                                startActivity(intent);</div><div class="line">                            &#125;</div><div class="line">                        &#125;).create().show();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>activity_main.xml<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">ScrollView</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">tools:context</span>=<span class="string">"top.cokernut.sample.MainActivity"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/activity_main"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></div><div class="line">        <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span></div><div class="line">        <span class="attr">android:paddingBottom</span>=<span class="string">"@dimen/activity_vertical_margin"</span></div><div class="line">        <span class="attr">android:paddingLeft</span>=<span class="string">"@dimen/activity_horizontal_margin"</span></div><div class="line">        <span class="attr">android:paddingRight</span>=<span class="string">"@dimen/activity_horizontal_margin"</span></div><div class="line">        <span class="attr">android:paddingTop</span>=<span class="string">"@dimen/activity_vertical_margin"</span>&gt;</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_install"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:padding</span>=<span class="string">"30dp"</span></div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#00AA66"</span></div><div class="line">            <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span></div><div class="line">            <span class="attr">android:text</span>=<span class="string">"å®‰è£…TV"</span> /&gt;</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">Button</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/bt_install"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:padding</span>=<span class="string">"30dp"</span></div><div class="line">            <span class="attr">android:text</span>=<span class="string">"å®‰è£…Btn"</span> /&gt;</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">Button</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/bt_next"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:padding</span>=<span class="string">"30dp"</span></div><div class="line">            <span class="attr">android:text</span>=<span class="string">"ä¸‹ä¸€æ­¥Btn"</span> /&gt;</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_finish"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:padding</span>=<span class="string">"30dp"</span></div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#00AA66"</span></div><div class="line">            <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span></div><div class="line">            <span class="attr">android:text</span>=<span class="string">"å®Œæˆ"</span> /&gt;</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_start"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:gravity</span>=<span class="string">"center"</span></div><div class="line">            <span class="attr">android:padding</span>=<span class="string">"30dp"</span></div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#0088FF"</span></div><div class="line">            <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span></div><div class="line">            <span class="attr">android:text</span>=<span class="string">"å¼€å§‹"</span> /&gt;</div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_stop"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">            <span class="attr">android:gravity</span>=<span class="string">"center"</span></div><div class="line">            <span class="attr">android:padding</span>=<span class="string">"30dp"</span></div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#0088FF"</span></div><div class="line">            <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span></div><div class="line">            <span class="attr">android:text</span>=<span class="string">"åœæ­¢"</span> /&gt;</div><div class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ScrollView</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>SecondActivityå°±ä¸€ä¸ªTextViewæ˜¾ç¤ºä¿¡æ¯ï¼Œå°±ä¸è´´ä»£ç äº†ã€‚</p>
</blockquote>
<font size="5"><a href="https://github.com/cokernut/AccessibilityServiceSample" target="_blank" rel="external">æºä»£ç </a></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Androidè¾…åŠ©åŠŸèƒ½AccessibilityServiceçš„ä½¿ç”¨&lt;br&gt;
    
    </summary>
    
      <category term="Android" scheme="http://cokernut.top/categories/Android/"/>
    
    
      <category term="Android" scheme="http://cokernut.top/tags/Android/"/>
    
      <category term="AccessibilityService" scheme="http://cokernut.top/tags/AccessibilityService/"/>
    
  </entry>
  
  <entry>
    <title>RecyclerViewçš„ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•</title>
    <link href="http://cokernut.top/2016/10/25/Android/RecyclerView%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/"/>
    <id>http://cokernut.top/2016/10/25/Android/RecyclerViewåŸºæœ¬ç”¨æ³•/</id>
    <published>2016-10-24T16:00:00.000Z</published>
    <updated>2016-11-28T10:05:34.000Z</updated>
    
    <content type="html"><![CDATA[<p>RecyclerViewçš„ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•<br><a id="more"></a></p>
<p>RecyclerViewæ˜¯Googleåœ¨å‘å¸ƒAndroid Læ—¶åœ¨support-v7åŒ…ä¸­æ·»åŠ çš„ä¸€ä¸ªæ–°ç»„ä»¶ï¼Œæ—¨åœ¨ç”¨æ¥æ›¿ä»£ListViewã€‚RecyclerViewçš„çµæ´»æ€§è¦æ¯”ListViewæ›´å¥½ã€‚<br>RecyclerViewä¸ListViewåŸç†æ˜¯ç±»ä¼¼çš„ï¼šéƒ½æ˜¯ä»…ä»…ç»´æŠ¤å°‘é‡çš„Viewå¹¶ä¸”å¯ä»¥å±•ç¤ºå¤§é‡çš„æ•°æ®é›†ã€‚<br>RecyclerViewç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ç®€åŒ–äº†æ•°æ®çš„å±•ç¤ºå’Œå¤„ç†:  </p>
<ul>
<li>ä½¿ç”¨LayoutManageræ¥ç¡®å®šæ¯ä¸€ä¸ªitemçš„æ’åˆ—æ–¹å¼ã€‚</li>
<li>ä¸ºå¢åŠ å’Œåˆ é™¤é¡¹ç›®æä¾›é»˜è®¤çš„åŠ¨ç”»æ•ˆæœã€‚</li>
</ul>
<p>ä½ ä¹Ÿå¯ä»¥å®šä¹‰ä½ è‡ªå·±çš„LayoutManagerå’Œæ·»åŠ åˆ é™¤åŠ¨ç”»ï¼ŒRecyclerViewé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š   </p>
<ul>
<li>Adapterï¼šä½¿ç”¨RecyclerViewä¹‹å‰ï¼Œä½ éœ€è¦ä¸€ä¸ªç»§æ‰¿è‡ªRecyclerView.Adapterçš„é€‚é…å™¨ï¼Œä½œç”¨æ˜¯å°†æ•°æ®ä¸æ¯ä¸€ä¸ªitemçš„ç•Œé¢è¿›è¡Œç»‘å®šã€‚</li>
<li>LayoutManagerï¼šç”¨æ¥ç¡®å®šæ¯ä¸€ä¸ªitemå¦‚ä½•è¿›è¡Œæ’åˆ—æ‘†æ”¾ï¼Œä½•æ—¶å±•ç¤ºå’Œéšè—ã€‚å›æ”¶æˆ–é‡ç”¨ä¸€ä¸ªViewçš„æ—¶å€™ï¼ŒLayoutManagerä¼šå‘é€‚é…å™¨è¯·æ±‚æ–°çš„æ•°æ®æ¥æ›¿æ¢æ—§çš„æ•°æ®ï¼Œè¿™ç§æœºåˆ¶é¿å…äº†åˆ›å»ºè¿‡å¤šçš„Viewå’Œé¢‘ç¹çš„è°ƒç”¨findViewByIdæ–¹æ³•ï¼ˆä¸ListViewåŸç†ç±»ä¼¼ï¼‰ã€‚<br>  ç›®å‰SDKä¸­æä¾›äº†ä¸‰ç§è‡ªå¸¦çš„LayoutManager:    <ul>
<li>LinearLayoutManagerï¼šçº¿æ€§å¸ƒå±€ï¼Œå¯ä»¥å®ç°æ¨ªå‘æˆ–è€…çºµå‘çš„æ»‘åŠ¨åˆ—è¡¨ï¼ˆç±»å‹ListVIewï¼‰</li>
<li>GridLayoutManagerï¼šè¡¨æ ¼å¸ƒå±€ï¼Œå¯ä»¥å®ç°ç±»ä¼¼GridViewå¸ƒå±€</li>
<li>StaggeredGridLayoutManagerï¼šç€‘å¸ƒæµå¸ƒå±€ï¼Œå¯ä»¥å®ç°ç€‘å¸ƒæµæ•ˆæœ</li>
</ul>
</li>
</ul>
<p>å½“ç„¶é™¤äº†ä¸Šé¢çš„ä¸‰ç§å†…éƒ¨å¸ƒå±€ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»§æ‰¿RecyclerView.LayoutManageræ¥å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„LayoutManagerã€‚<br>Animations(åŠ¨ç”»)æ•ˆæœï¼šRecyclerViewå¯¹äºItemçš„æ·»åŠ å’Œåˆ é™¤æ˜¯é»˜è®¤å¼€å¯åŠ¨ç”»çš„ã€‚æˆ‘ä»¬å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡RecyclerView.ItemAnimatorç±»å®šåˆ¶åŠ¨ç”»ï¼Œç„¶åé€šè¿‡RecyclerView.setItemAnimator()æ–¹æ³•æ¥è¿›è¡Œä½¿ç”¨ã€‚<br>RecyclerViewç›¸å…³çš„ç±»ï¼š  </p>
<table>
<thead>
<tr>
<th>ç±»</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>RecyclerView.Adapter</td>
<td>æ‰˜ç®¡æ•°æ®é›†åˆï¼Œä¸ºæ¯ä¸ªItemåˆ›å»ºè§†å›¾</td>
</tr>
<tr>
<td>RecyclerView.ViewHolder</td>
<td>æ‰¿è½½Itemè§†å›¾çš„å­è§†å›¾</td>
</tr>
<tr>
<td>RecyclerView.LayoutManager</td>
<td>è´Ÿè´£Itemè§†å›¾çš„å¸ƒå±€</td>
</tr>
<tr>
<td>RecyclerView.ItemDecoration</td>
<td>ä¸ºæ¯ä¸ªItemè§†å›¾æ·»åŠ å­è§†å›¾ï¼Œåœ¨Demoä¸­è¢«ç”¨æ¥ç»˜åˆ¶Divider</td>
</tr>
<tr>
<td>RecyclerView.ItemAnimator</td>
<td>è´Ÿè´£æ·»åŠ ã€åˆ é™¤æ•°æ®æ—¶çš„åŠ¨ç”»æ•ˆæœ</td>
</tr>
</tbody>
</table>
<h2 id="RecyclerViewçš„åŸºæœ¬ç”¨æ³•"><a href="#RecyclerViewçš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="RecyclerViewçš„åŸºæœ¬ç”¨æ³•"></a>RecyclerViewçš„åŸºæœ¬ç”¨æ³•</h2><p>1ã€å› ä¸ºRecyclerViewæ˜¯support-v7ä¸­çš„æ§ä»¶ï¼Œè¦ä½¿ç”¨çš„è¯æˆ‘ä»¬é¦–å…ˆè¦åœ¨build.gradleæ–‡ä»¶ä¸­æ·»åŠ RecyclerViewçš„ä¾èµ–ï¼Œæ·»åŠ åæˆ‘ä»¬å°±èƒ½åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨RecyclerViewæ§ä»¶äº†ï¼š</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">dependencies</span> &#123;</div><div class="line">    ....</div><div class="line">    <span class="keyword">compile</span> <span class="string">'com.android.support:recyclerview-v7:23.2.1'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2ã€åœ¨xmlå¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨RecyclerViewï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/rv_view"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:scrollbars</span>=<span class="string">"none"</span>/&gt;</div></pre></td></tr></table></figure></p>
<p>3ã€å¯¹RecyclerViewè¿›è¡Œè·å–å¹¶è®¾ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> RecyclerView mRecyclerView;</div><div class="line">    <span class="keyword">private</span> MyAdapter mAdapter;</div><div class="line">    <span class="keyword">private</span> ArrayList&lt;String&gt; mDatas = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        mRecyclerView = (RecyclerView) findViewById(R.id.rv_view);</div><div class="line">        <span class="comment">//è®¾ç½®LayoutManagerç±»ä¼¼ListViewæ•ˆæœ</span></div><div class="line">        mRecyclerView.setLayoutManager(<span class="keyword">new</span> LinearLayoutManager(getActivity()));</div><div class="line">        <span class="comment">//ç±»ä¼¼æ¨ªå‘ListViewæ•ˆæœï¼Œä¸åè½¬</span></div><div class="line">        <span class="comment">//mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity(), LinearLayoutManager.HORIZONTAL, false));</span></div><div class="line">        <span class="comment">//ç±»ä¼¼GridViewæ•ˆæœï¼Œ2åˆ—</span></div><div class="line">        <span class="comment">//mRecyclerView.setLayoutManager(new GridLayoutManager(getActivity(), 2));</span></div><div class="line">        <span class="comment">//ç«–å‘ç€‘å¸ƒæµæ•ˆæœï¼Œ2åˆ—</span></div><div class="line">        <span class="comment">//mRecyclerView.setLayoutManager(new StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL));</span></div><div class="line">        mRecyclerView.setItemAnimator(<span class="keyword">new</span> DefaultItemAnimator()); <span class="comment">//è®¾ç½®é»˜è®¤åŠ¨ç”»</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</div><div class="line">            mDatas.add(<span class="string">"å¡ç‰‡ï¼š"</span> + i);</div><div class="line">        &#125;</div><div class="line">        mAdapter = <span class="keyword">new</span> MyAdapter(getActivity(), mDatas);</div><div class="line">        mRecyclerView.setAdapter(mAdapter);</div><div class="line">        mAdapter.setOnItemClickLitener(<span class="keyword">new</span> MyAdapter.OnItemClickLitener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(View view, <span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">                Toast.makeText(getActivity(), <span class="string">"å¡ç‰‡"</span> + position, Toast.LENGTH_SHORT).show();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Adapter:  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">RecyclerView</span>.<span class="title">ViewHolder</span>&gt; <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> LayoutInflater mInflater;</div><div class="line">    <span class="keyword">private</span> ArrayList&lt;String&gt; mDatas = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ZERO = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ONE = <span class="number">1</span>;</div><div class="line">    <span class="keyword">private</span> OnItemClickLitener mOnItemClickLitener;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(Context context, ArrayList&lt;String&gt; datas)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mDatas = datas;</div><div class="line">        <span class="keyword">this</span>.mInflater = LayoutInflater.from(context);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//æ·»åŠ æ•°æ®</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addItem</span><span class="params">(String model, <span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">        mDatas.add(position, model);</div><div class="line">        notifyItemInserted(position);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//æ›´æ–°æ•°æ®</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(ArrayList&lt;String&gt; data)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mDatas= data;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//åˆ é™¤æ•°æ®</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeItem</span><span class="params">(String model)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> position = mDatas.indexOf(model);</div><div class="line">        mDatas.remove(position);</div><div class="line">        notifyItemRemoved(position);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//åˆ é™¤æ•°æ®</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">        mDatas.remove(position);</div><div class="line">        notifyItemRemoved(position);</div><div class="line">    &#125;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (mOnItemClickLitener != <span class="keyword">null</span>) &#123;</div><div class="line">            mOnItemClickLitener.onItemClick(view, (<span class="keyword">int</span>)view.getTag());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OnItemClickLitener</span> </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(View view, <span class="keyword">int</span> position)</span></span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOnItemClickLitener</span><span class="params">(OnItemClickLitener mOnItemClickLitener)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mOnItemClickLitener = mOnItemClickLitener;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">public</span> RecyclerView.<span class="function">ViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (viewType == ONE) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> MyViewHolder(mInflater.inflate(R.layout.item_0, parent, <span class="keyword">false</span>));</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> MyViewHolderTwo(mInflater.inflate(R.layout.item_1, parent, <span class="keyword">false</span>));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(<span class="keyword">final</span> RecyclerView.ViewHolder holder, <span class="keyword">final</span> <span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (holder <span class="keyword">instanceof</span> MyViewHolder) &#123;</div><div class="line">            MyViewHolder holder1 = (MyViewHolder) holder;</div><div class="line">            holder1.txt.setText(mDatas.get(position));</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            MyViewHolderTwo holder1 = (MyViewHolderTwo) holder;</div><div class="line">            holder1.txt.setText(mDatas.get(position));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (mOnItemClickLitener != <span class="keyword">null</span>) &#123;</div><div class="line">            holder.itemView.setOnClickListener(<span class="keyword">this</span>);</div><div class="line">            holder.itemView.setTag(position);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemViewType</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (position % <span class="number">2</span> == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ZERO;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> ONE;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mDatas.size();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">MyViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</div><div class="line">        TextView txt;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</div><div class="line">            <span class="keyword">super</span>(itemView);</div><div class="line">            txt = (TextView) itemView.findViewById(R.id.tv_txt);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">MyViewHolderTwo</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</div><div class="line">        TextView txt;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyViewHolderTwo</span><span class="params">(View itemView)</span> </span>&#123;</div><div class="line">            <span class="keyword">super</span>(itemView);</div><div class="line">            txt = (TextView) itemView.findViewById(R.id.tv_txt);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å› ä¸ºRecyclerViewé»˜è®¤æ²¡æœ‰å®ç°Itemçš„ç‚¹å‡»äº‹ä»¶ï¼Œæ‰€ä»¥Itemçš„ç‚¹å‡»äº‹ä»¶éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥è®¾ç½®ï¼Œåœ¨ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> OnItemClickLitener mOnItemClickLitener;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OnItemClickLitener</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(View view, <span class="keyword">int</span> position)</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOnItemClickLitener</span><span class="params">(OnItemClickLitener mOnItemClickLitener)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>.mOnItemClickLitener = mOnItemClickLitener;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (mOnItemClickLitener != <span class="keyword">null</span>) &#123;</div><div class="line">        mOnItemClickLitener.onItemClick(view, (<span class="keyword">int</span>)view.getTag());</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(<span class="keyword">final</span> RecyclerView.ViewHolder holder, <span class="keyword">final</span> <span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (holder <span class="keyword">instanceof</span> MyViewHolder) &#123;</div><div class="line">        MyViewHolder holder1 = (MyViewHolder) holder;</div><div class="line">        holder1.txt.setText(mDatas.get(position));</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        MyViewHolderTwo holder1 = (MyViewHolderTwo) holder;</div><div class="line">        holder1.txt.setText(mDatas.get(position));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (mOnItemClickLitener != <span class="keyword">null</span>) &#123;</div><div class="line">        holder.itemView.setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        holder.itemView.setTag(position);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mAdapter.setOnItemClickLitener(<span class="keyword">new</span> MyAdapter.OnItemClickLitener() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(View view, <span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">        Toast.makeText(getActivity(), <span class="string">"å¡ç‰‡"</span> + position, Toast.LENGTH_SHORT).show();</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š<br>åœ¨ListViewå½“ä¸­ï¼Œä¿®æ”¹æ•°æ®åå¯ä»¥ç”¨Adapterçš„notifyDataSetChanged()æ›´æ–°ç•Œé¢ã€‚è€Œåœ¨RecyclerViewä¸­è¿˜æœ‰ä¸€äº›åˆ«çš„æ–¹æ³•å¯ä»¥æ›´æ–°æ•°æ®å’Œç•Œé¢ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ·»åŠ æ•°æ®</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addItem</span><span class="params">(String model, <span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">    mDatas.add(position, model);</div><div class="line">    notifyItemInserted(position);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//æ·»åŠ æ•°æ®é›†</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(ArrayList&lt;String&gt; data)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>.mDatas= data;</div><div class="line">    notifyDataSetChanged();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//åˆ é™¤æ•°æ®</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeItem</span><span class="params">(String model)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> position = mDatas.indexOf(model);</div><div class="line">    mDatas.remove(position);</div><div class="line">    notifyItemRemoved(position);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//åˆ é™¤æ•°æ®</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</div><div class="line">    mDatas.remove(position);</div><div class="line">    notifyItemRemoved(position);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä»¥ä¸Šå°±æ˜¯RecyclerViewçš„åŸºæœ¬ç”¨æ³•ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;RecyclerViewçš„ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•&lt;br&gt;
    
    </summary>
    
      <category term="Android" scheme="http://cokernut.top/categories/Android/"/>
    
    
      <category term="Android" scheme="http://cokernut.top/tags/Android/"/>
    
      <category term="Recyclerview" scheme="http://cokernut.top/tags/Recyclerview/"/>
    
  </entry>
  
  <entry>
    <title>Android WebViewå®ç°åŸç”Ÿä¸JavaScriptçš„äº¤äº’</title>
    <link href="http://cokernut.top/2016/10/12/Android/Android%20WebView%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%94%9F%E4%B8%8EJavaScript%E7%9A%84%E4%BA%A4%E4%BA%92/"/>
    <id>http://cokernut.top/2016/10/12/Android/Android WebViewå®ç°åŸç”Ÿä¸JavaScriptçš„äº¤äº’/</id>
    <published>2016-10-11T16:00:00.000Z</published>
    <updated>2016-11-28T10:06:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>Android WebViewå®ç°åŸç”Ÿä¸JavaScriptçš„äº¤äº’<br><a id="more"></a></p>
<p>åœ¨ç°åœ¨çš„Androidå¼€å‘ä¸­ï¼Œä¸ºäº†è¿½æ±‚å¼€å‘çš„æ•ˆç‡ä»¥åŠç§»æ¤çš„ä¾¿åˆ©æ€§ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…ä¼šåœ¨Appä¸­ä½¿ç”¨WebView<br>ä½œä¸ºéƒ¨åˆ†ä¸šåŠ¡å†…å®¹å±•ç¤ºä¸äº¤äº’çš„ä¸»è¦è½½ä½“ã€‚é‚£ä¹ˆåœ¨è¿™ç§Hybrid Appä¸­ï¼Œéš¾å…å°±ä¼šé‡åˆ°ç½‘é¡µä¸Java<br>åŸç”Ÿçš„äº¤äº’é—®é¢˜ï¼Œæ¯”å¦‚è¯´è°ƒç”¨Javaæ–¹æ³•å»åšé‚£éƒ¨åˆ†ç½‘é¡µä¸èƒ½å®Œæˆçš„åŠŸèƒ½æˆ–è€…æ˜¯é€šè¿‡JavaåŸç”Ÿä»£ç <br>æ¥è°ƒç”¨ç½‘é¡µå½“ä¸­å®ç°çš„ä¸€äº›åŠŸèƒ½ï¼Œå…¶ä¸­ä¸€ç§è§£å†³æ–¹æ¡ˆå°±æ˜¯åˆ©ç”¨Javaä¸ç½‘é¡µä¸­çš„JavaScriptè¿›è¡Œäº¤äº’ã€‚ </p>
<p>å®ç°æ€è·¯æ˜¯:  </p>
<ul>
<li>é€šè¿‡WebViewæ³¨å…¥å¸¦æœ‰Javaæ–¹æ³•çš„JavaScriptå¯¹è±¡ï¼Œç„¶åç½‘é¡µå½“ä¸­åˆ©ç”¨JavaScriptå¯¹æ³¨å…¥çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨è¿™æ ·å°±å®ç°äº†ç½‘é¡µè°ƒç”¨åŸç”ŸåŠŸèƒ½</li>
<li>é€šè¿‡WebViewæ³¨å…¥JavaScriptçš„æ–¹å¼æ¥å®ç°åŸç”Ÿè°ƒç”¨ç½‘é¡µä¸­çš„åŠŸèƒ½</li>
</ul>
<h2 id="å®ç°æ­¥éª¤ï¼š"><a href="#å®ç°æ­¥éª¤ï¼š" class="headerlink" title="å®ç°æ­¥éª¤ï¼š"></a>å®ç°æ­¥éª¤ï¼š</h2><p>1ã€ è‡ªå®šä¹‰WebView  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyWebView</span> <span class="keyword">extends</span> <span class="title">WebView</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> WebViewInterface mWebViewInterface;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyWebView</span><span class="params">(Context context)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context);</div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setWebViewInterface</span><span class="params">(WebViewInterface baseWebViewInterface)</span> </span>&#123;</div><div class="line">        mWebViewInterface = baseWebViewInterface;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//å›è°ƒæ–¹æ³•æ¥å£</span></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">WebViewInterface</span> </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">showToast</span><span class="params">(String msg)</span></span>;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">getTitle</span><span class="params">(String title)</span></span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">        WebSettings ws = getSettings();</div><div class="line">        setLayoutParams(<span class="keyword">new</span> ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));</div><div class="line">        setHorizontalScrollBarEnabled(<span class="keyword">false</span>);</div><div class="line">        setVerticalScrollBarEnabled(<span class="keyword">false</span>);</div><div class="line">        ws.setJavaScriptEnabled(<span class="keyword">true</span>);</div><div class="line">        ws.setDomStorageEnabled(<span class="keyword">true</span>);</div><div class="line">        ws.setSupportZoom(<span class="keyword">true</span>);</div><div class="line">        ws.setBuiltInZoomControls(<span class="keyword">true</span>);</div><div class="line">        ws.setBuiltInZoomControls(<span class="keyword">false</span>);</div><div class="line">        ws.setJavaScriptCanOpenWindowsAutomatically(<span class="keyword">true</span>);</div><div class="line">        <span class="comment">//æ³¨å…¥å¸¦æœ‰Javaæ–¹æ³•çš„JSå¯¹è±¡ï¼Œåå­—å¯ä»¥è‡ªå®šä¹‰ï¼ˆjs_objï¼‰</span></div><div class="line">        addJavascriptInterface(<span class="keyword">new</span> InJavaScriptObj(), <span class="string">"js_obj"</span>);</div><div class="line">        setWebViewClient(<span class="keyword">new</span> MyWebViewClient());</div><div class="line">        setWebChromeClient(<span class="keyword">new</span> MyWebChromeClient());</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">InJavaScriptObj</span> </span>&#123;</div><div class="line">        <span class="comment">//android 4.2 ä¹‹åç‰ˆæœ¬æä¾›ç»™jsè°ƒç”¨çš„å‡½æ•°å¿…é¡»å¸¦æœ‰æ³¨é‡Šè¯­å¥@JavascriptInterface</span></div><div class="line">        <span class="meta">@JavascriptInterface</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showToast</span><span class="params">(String msg)</span> </span>&#123;</div><div class="line">            mWebViewInterface.showToast(msg);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">MyWebViewClient</span> <span class="keyword">extends</span> <span class="title">WebViewClient</span> </span>&#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">shouldOverrideUrlLoading</span><span class="params">(WebView view, String url)</span> </span>&#123;</div><div class="line">            <span class="comment">//åŠ è½½ç½‘é¡µurlï¼Œæ­¤å¤„å¯ä»¥æ ¹æ®urlè¿›è¡Œç›¸åº”çš„å¤„ç†</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.shouldOverrideUrlLoading(view, url);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPageFinished</span><span class="params">(WebView view, String url)</span> </span>&#123;</div><div class="line">            <span class="comment">//å®ç°è‡ªå·±çš„é€»è¾‘</span></div><div class="line">            <span class="keyword">super</span>.onPageFinished(view, url);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPageStarted</span><span class="params">(WebView view, String url, Bitmap favicon)</span> </span>&#123;</div><div class="line">            <span class="keyword">super</span>.onPageStarted(view, url, favicon);</div><div class="line">            <span class="comment">//å®ç°è‡ªå·±çš„é€»è¾‘</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceivedError</span><span class="params">(WebView view, WebResourceRequest request, WebResourceError error)</span> </span>&#123;</div><div class="line">            <span class="comment">//é”™è¯¯å¤„ç†</span></div><div class="line">            <span class="keyword">super</span>.onReceivedError(view, request, error);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceivedHttpError</span><span class="params">(WebView view, WebResourceRequest request, WebResourceResponse errorResponse)</span> </span>&#123;</div><div class="line">            <span class="comment">//httpé”™è¯¯å¤„ç†</span></div><div class="line">            <span class="keyword">super</span>.onReceivedHttpError(view, request, errorResponse);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">MyWebChromeClient</span> <span class="keyword">extends</span> <span class="title">WebChromeClient</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceivedTitle</span><span class="params">(WebView view, String title)</span> </span>&#123;</div><div class="line">            <span class="keyword">super</span>.onReceivedTitle(view, title);</div><div class="line">            <span class="comment">//è¿™ä¸ªæ–¹æ³•æ˜¯æ”¶åˆ°ç½‘é¡µçš„titleçš„æ—¶å€™ä¼šè°ƒç”¨çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æ‹¿åˆ°ç½‘é¡µçš„titleæ˜¾ç¤ºå¤„ç†</span></div><div class="line">            mWebViewInterface.getTitle(title);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onJsAlert</span><span class="params">(WebView view, String url, String message, <span class="keyword">final</span> JsResult result)</span> </span>&#123;</div><div class="line">            <span class="comment">// åœ¨è¿™é‡Œä½ å¯ä»¥æ‹¦æˆªç½‘é¡µçš„Alertæ¥å®ç°è‡ªå·±çš„é€»è¾‘ï¼Œreturn trueåœæ­¢äº‹ä»¶çš„ç»§ç»­ä¼ æ’­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å®ç°</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.onJsAlert(view, url, message, result);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onJsConfirm</span><span class="params">(WebView view, String url, String message, JsResult result)</span> </span>&#123;</div><div class="line">            <span class="comment">// åœ¨è¿™é‡Œä½ å¯ä»¥å®ç°æ‹¦æˆªç½‘é¡µçš„Confirmæ¥å®ç°è‡ªå·±çš„é€»è¾‘ï¼Œreturn trueåœæ­¢äº‹ä»¶çš„ç»§ç»­ä¼ æ’­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å®ç°</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.onJsConfirm(view, url, message, result);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(WebView view, <span class="keyword">int</span> newProgress)</span> </span>&#123;</div><div class="line">            <span class="keyword">super</span>.onProgressChanged(view, newProgress);</div><div class="line">            <span class="comment">//åœ¨è¿™é‡Œä½ å¯ä»¥è¿›åº¦çš„å˜åŒ–å®ç°è‡ªå·±çš„é€»è¾‘</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onJsPrompt</span><span class="params">(WebView view, String url, String message, String defaultValue, JsPromptResult result)</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.onJsPrompt(view, url, message, defaultValue, result);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2ã€ä½¿ç”¨è‡ªå®šä¹‰WebViewæ¥å®ç°åŠŸèƒ½</p>
<blockquote>
<p>å¸ƒå±€æ–‡ä»¶ï¼š  </p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>  </span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;  </div><div class="line">  </div><div class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/rl_top"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">        <span class="attr">android:padding</span>=<span class="string">"10dp"</span>  </div><div class="line">        <span class="attr">android:background</span>=<span class="string">"#7DD13F"</span>  </div><div class="line">        <span class="attr">android:minHeight</span>=<span class="string">"?attr/actionBarSize"</span>&gt;  </div><div class="line">  </div><div class="line">        <span class="tag">&lt;<span class="name">ImageView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/iv_back"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:gravity</span>=<span class="string">"center"</span>  </div><div class="line">            <span class="attr">android:paddingBottom</span>=<span class="string">"12dp"</span>  </div><div class="line">            <span class="attr">android:paddingRight</span>=<span class="string">"12dp"</span>  </div><div class="line">            <span class="attr">android:paddingTop</span>=<span class="string">"12dp"</span>  </div><div class="line">            <span class="attr">android:src</span>=<span class="string">"@mipmap/icon_back"</span> /&gt;  </div><div class="line">  </div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_title"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:ellipsize</span>=<span class="string">"end"</span>  </div><div class="line">            <span class="attr">android:gravity</span>=<span class="string">"center"</span>  </div><div class="line">            <span class="attr">android:maxEms</span>=<span class="string">"8"</span>  </div><div class="line">            <span class="attr">android:textColor</span>=<span class="string">"#AF0000"</span>  </div><div class="line">            <span class="attr">android:singleLine</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:textSize</span>=<span class="string">"20sp"</span> /&gt;  </div><div class="line">  </div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_menu"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:gravity</span>=<span class="string">"center_vertical|right"</span>  </div><div class="line">            <span class="attr">android:text</span>=<span class="string">"ç½‘é¡µå¼¹çª—"</span>  </div><div class="line">            <span class="attr">android:textSize</span>=<span class="string">"20sp"</span>/&gt;  </div><div class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line">  </div><div class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/ll_webview"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_below</span>=<span class="string">"@+id/rl_top"</span>  </div><div class="line">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;  </div><div class="line">  </div><div class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line">  </div><div class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>WebViewActivity:  </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebViewActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">MyWebView</span>.<span class="title">WebViewInterface</span>, <span class="title">View</span>.<span class="title">OnClickListener</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> LinearLayout    mWebViewLl;</div><div class="line">    <span class="keyword">private</span> MyWebView       mWebView;</div><div class="line">    <span class="keyword">private</span> ImageView       mBackIv;</div><div class="line">    <span class="keyword">private</span> TextView        mTitleTv;</div><div class="line">    <span class="keyword">private</span> TextView        mMenuTv;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> String          url;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SET_TITLE = <span class="number">0x101</span>;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Handler mHandler = <span class="keyword">new</span> Handler() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (msg.what == SET_TITLE) &#123;</div><div class="line">                setMyTitle((String) msg.obj);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_webview);</div><div class="line">        initView();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</div><div class="line">        url = getIntent().getStringExtra(<span class="string">"url"</span>);</div><div class="line">        mMenuTv     = (TextView) findViewById(R.id.tv_menu);</div><div class="line">        mBackIv     = (ImageView) findViewById(R.id.iv_back);</div><div class="line">        mWebViewLl  = (LinearLayout) findViewById(R.id.ll_webview);</div><div class="line">        mTitleTv    = (TextView) findViewById(R.id.tv_title);</div><div class="line">        mMenuTv.setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        mBackIv.setOnClickListener(<span class="keyword">this</span>);</div><div class="line">        mWebView    = <span class="keyword">new</span> MyWebView(<span class="keyword">this</span>);</div><div class="line">        mWebViewLl.addView(mWebView);</div><div class="line">        mWebView.setWebViewInterface(<span class="keyword">this</span>);</div><div class="line">        mWebView.loadUrl(url);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">//å›è°ƒæ–¹æ³•çš„å®ç°</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showToast</span><span class="params">(String msg)</span> </span>&#123;</div><div class="line">        Toast.makeText(<span class="keyword">this</span>, msg, Toast.LENGTH_SHORT).show();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//å›è°ƒæ–¹æ³•çš„å®ç°</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getTitle</span><span class="params">(String title)</span> </span>&#123;</div><div class="line">        Message message = <span class="keyword">new</span> Message();</div><div class="line">        message.what = SET_TITLE;</div><div class="line">        message.obj = title;</div><div class="line">        mHandler.sendMessage(message);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setMyTitle</span><span class="params">(String title)</span> </span>&#123;</div><div class="line">        mTitleTv.setText(title);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBackPressed</span><span class="params">()</span> </span>&#123;</div><div class="line">        back();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">back</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (mWebView.canGoBack()) &#123;</div><div class="line">            mWebView.goBack();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">this</span>.finish();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">        <span class="keyword">switch</span> (v.getId()) &#123;</div><div class="line">            <span class="keyword">case</span> R.id.iv_back:</div><div class="line">                back();</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.tv_menu:</div><div class="line">                <span class="comment">//æ³¨å…¥JSä»£ç ,Javaè°ƒç”¨JS</span></div><div class="line">                mWebView.loadUrl(<span class="string">"javascript:alert('ç½‘é¡µå¼¹çª—alert');"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>ç½‘é¡µä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æµ‹è¯•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line">        a&#123;</div><div class="line">            color:green;</div><div class="line">            font-weight:900;</div><div class="line">            font-size:80px;</div><div class="line">            height:400;</div><div class="line">            width:500;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        button&#123;</div><div class="line">            color:green;</div><div class="line">            font-size:50px;</div><div class="line">            height:300;</div><div class="line">            width:400;</div><div class="line">        &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">        //JSè°ƒç”¨Javaæ–¹æ³•ï¼Œjs_objä¸ºç½‘é¡µä¸­å¸¦æœ‰Javaæ–¹æ³•çš„å¯¹è±¡ï¼Œå¯ä»¥è‡ªå®šä¹‰ä½†æ˜¯è¦å’Œæ³¨å…¥çš„åå­—ä¸€æ ·</div><div class="line">        function myFunction() &#123;</div><div class="line">            js_obj.showToast("æ˜¾ç¤ºToast");</div><div class="line">        &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"file:///android_asset/test_1.html"</span>&gt;</span> é“¾ æ¥ <span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span> &gt;</span>æ˜¾ç¤ºToast<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
</blockquote>
<p>æ•ˆæœå›¾:<br><img src="/images/Android/Webview_native_javascript_interaction/1.png" alt="æ•ˆæœå›¾" title="æ•ˆæœå›¾">  </p>
<font size="5"><a href="https://github.com/cokernut/CustomWebView" target="_blank" rel="external">æºä»£ç </a></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Android WebViewå®ç°åŸç”Ÿä¸JavaScriptçš„äº¤äº’&lt;br&gt;
    
    </summary>
    
      <category term="Android" scheme="http://cokernut.top/categories/Android/"/>
    
    
      <category term="Android" scheme="http://cokernut.top/tags/Android/"/>
    
      <category term="WebView" scheme="http://cokernut.top/tags/WebView/"/>
    
  </entry>
  
  <entry>
    <title>Python3å­¦ä¹ ç¬”è®°--åŸºç¡€çŸ¥è¯†</title>
    <link href="http://cokernut.top/2016/10/04/Python/Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0--%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>http://cokernut.top/2016/10/04/Python/Python3å­¦ä¹ ç¬”è®°--åŸºç¡€çŸ¥è¯†/</id>
    <published>2016-10-03T16:00:00.000Z</published>
    <updated>2016-11-28T09:51:51.896Z</updated>
    
    <content type="html"><![CDATA[<p>Python3å­¦ä¹ ç¬”è®°â€“åŸºç¡€çŸ¥è¯†<br><a id="more"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div></pre></td><td class="code"><pre><div class="line"><span class="string">''' </span></div><div class="line">Python3 åŸºæœ¬æ•°æ®ç±»å‹ </div><div class="line">Numbersï¼ˆæ•°å­—ï¼‰ </div><div class="line">Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ </div><div class="line">Listï¼ˆåˆ—è¡¨ï¼‰ </div><div class="line">Tupleï¼ˆå…ƒç»„ï¼‰ </div><div class="line">Setsï¼ˆé›†åˆï¼‰ </div><div class="line">Dictionariesï¼ˆå­—å…¸ï¼‰ </div><div class="line">ç©ºå€¼æ˜¯Pythoné‡Œä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œç”¨Noneè¡¨ç¤ºã€‚Noneä¸èƒ½ç†è§£ä¸º0ï¼Œå› ä¸º0æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè€ŒNoneæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç©ºå€¼ã€‚ </div><div class="line">å¸ƒå°”å€¼å’Œå¸ƒå°”ä»£æ•°çš„è¡¨ç¤ºå®Œå…¨ä¸€è‡´ï¼Œä¸€ä¸ªå¸ƒå°”å€¼åªæœ‰Trueã€Falseä¸¤ç§å€¼ï¼Œè¦ä¹ˆæ˜¯Trueï¼Œè¦ä¹ˆæ˜¯Falseï¼Œåœ¨Pythonä¸­ï¼Œå¯ä»¥ç›´æ¥ç”¨Trueã€Falseè¡¨ç¤ºå¸ƒå°”å€¼ï¼ˆè¯·æ³¨æ„å¤§å°å†™ï¼‰ </div><div class="line">'''  </div><div class="line">  </div><div class="line"><span class="string">""" </span></div><div class="line">Numbersï¼ˆæ•°å­—ï¼‰ </div><div class="line">Python 3æ”¯æŒintã€floatã€boolã€complexï¼ˆå¤æ•°ï¼‰ã€‚ </div><div class="line">æ•°å€¼ç±»å‹çš„èµ‹å€¼å’Œè®¡ç®—éƒ½æ˜¯å¾ˆç›´è§‚çš„ï¼Œå°±åƒå¤§å¤šæ•°è¯­è¨€ä¸€æ ·ã€‚å†…ç½®çš„type()å‡½æ•°å¯ä»¥ç”¨æ¥æŸ¥è¯¢å˜é‡æ‰€æŒ‡çš„å¯¹è±¡ç±»å‹ã€‚ </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, c, d = 20, 5.5, True, 4+3j </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(type(a), type(b), type(c), type(d)) </div><div class="line">&lt;class 'int'&gt; &lt;class 'float'&gt; &lt;class 'bool'&gt; &lt;class 'complex'&gt; </div><div class="line">æ•°å€¼è¿ç®—ï¼š </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>5 + 4  # åŠ æ³• </div><div class="line">9 </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>4.3 - 2 # å‡æ³• </div><div class="line">2.3 </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>3 * 7  # ä¹˜æ³• </div><div class="line">21 </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>2 / 4  # é™¤æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªæµ®ç‚¹æ•° </div><div class="line">0.5 </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>2 // 4 # é™¤æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªæ•´æ•° </div><div class="line">0 </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>17 % 3 # å–ä½™ </div><div class="line">2 </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>2 ** 5 # ä¹˜æ–¹ </div><div class="line">32 </div><div class="line">æ³¨æ„ï¼š </div><div class="line">1ã€Pythonå¯ä»¥åŒæ—¶ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ï¼Œå¦‚a, b = 1, 2ã€‚ </div><div class="line">2ã€ä¸€ä¸ªå˜é‡å¯ä»¥é€šè¿‡èµ‹å€¼æŒ‡å‘ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚ </div><div class="line">3ã€æ•°å€¼çš„é™¤æ³•ï¼ˆ/ï¼‰æ€»æ˜¯è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¦è·å–æ•´æ•°ä½¿ç”¨//æ“ä½œç¬¦ã€‚ </div><div class="line">4ã€åœ¨æ··åˆè®¡ç®—æ—¶ï¼ŒPythonä¼šæŠŠæ•´å‹è½¬æ¢æˆä¸ºæµ®ç‚¹æ•°ã€‚ </div><div class="line"> </div><div class="line">Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ </div><div class="line">Pythonä¸­çš„å­—ç¬¦ä¸²strç”¨å•å¼•å·(' ')æˆ–åŒå¼•å·(" ")æ‹¬èµ·æ¥ï¼ŒåŒæ—¶ä½¿ç”¨åæ–œæ (\)è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ã€‚ </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = 'Yes,he doesn\'t' </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(s, type(s), len(s)) </div><div class="line">Yes,he doesn't &lt;class 'str'&gt; 14 </div><div class="line">å¦‚æœä½ ä¸æƒ³è®©åæ–œæ å‘ç”Ÿè½¬ä¹‰ï¼Œå¯ä»¥åœ¨å­—ç¬¦ä¸²å‰é¢æ·»åŠ ä¸€ä¸ªrï¼Œè¡¨ç¤ºåŸå§‹å­—ç¬¦ä¸²ï¼š </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print('C:\some\name') </div><div class="line">C:\some </div><div class="line">ame </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(r'C:\some\name') </div><div class="line">C:\some\name </div><div class="line">å¦å¤–ï¼Œåæ–œæ å¯ä»¥ä½œä¸ºç»­è¡Œç¬¦ï¼Œè¡¨ç¤ºä¸‹ä¸€è¡Œæ˜¯ä¸Šä¸€è¡Œçš„å»¶ç»­ã€‚è¿˜å¯ä»¥ä½¿ç”¨"""<span class="comment">#"""æˆ–è€…'''...'''è·¨è¶Šå¤šè¡Œã€‚  </span></div><div class="line"><span class="string">"""å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨ + è¿ç®—ç¬¦ä¸²è¿æ¥åœ¨ä¸€èµ·ï¼Œæˆ–è€…ç”¨ * è¿ç®—ç¬¦é‡å¤ï¼š  </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print('str'+'ing', 'my'*3)  </div><div class="line">string mymymy  </div><div class="line">Pythonä¸­çš„å­—ç¬¦ä¸²æœ‰ä¸¤ç§ç´¢å¼•æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯ä»å·¦å¾€å³ï¼Œä»0å¼€å§‹ä¾æ¬¡å¢åŠ ï¼›ç¬¬äºŒç§æ˜¯ä»å³å¾€å·¦ï¼Œä»-1å¼€å§‹ä¾æ¬¡å‡å°‘ã€‚  </div><div class="line">æ³¨æ„ï¼Œæ²¡æœ‰å•ç‹¬çš„å­—ç¬¦ç±»å‹ï¼Œä¸€ä¸ªå­—ç¬¦å°±æ˜¯é•¿åº¦ä¸º1çš„å­—ç¬¦ä¸²ã€‚  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word = 'Python'  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(word[0], word[5])  </div><div class="line">P n  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(word[-1], word[-6])  </div><div class="line">n P  </div><div class="line">è¿˜å¯ä»¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡ï¼Œè·å–ä¸€æ®µå­ä¸²ã€‚ç”¨å†’å·åˆ†éš”ä¸¤ä¸ªç´¢å¼•ï¼Œå½¢å¼ä¸ºå˜é‡[å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡]ã€‚  </div><div class="line">æˆªå–çš„èŒƒå›´æ˜¯å‰é—­åå¼€çš„ï¼Œå¹¶ä¸”ä¸¤ä¸ªç´¢å¼•éƒ½å¯ä»¥çœç•¥ï¼š  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word = 'ilovepython'  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[1:5]  </div><div class="line">'love'  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[:]  </div><div class="line">'ilovepython'  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[5:]  </div><div class="line">'python'  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[-10:-6]  </div><div class="line">'love'  </div><div class="line">ä¸Cå­—ç¬¦ä¸²ä¸åŒçš„æ˜¯ï¼ŒPythonå­—ç¬¦ä¸²ä¸èƒ½è¢«æ”¹å˜ã€‚å‘ä¸€ä¸ªç´¢å¼•ä½ç½®èµ‹å€¼ï¼Œæ¯”å¦‚word[0] = 'm'ä¼šå¯¼è‡´é”™è¯¯ã€‚  </div><div class="line">æ³¨æ„ï¼š  </div><div class="line">1ã€åæ–œæ å¯ä»¥ç”¨æ¥è½¬ä¹‰ï¼Œä½¿ç”¨rå¯ä»¥è®©åæ–œæ ä¸å‘ç”Ÿè½¬ä¹‰ã€‚  </div><div class="line">2ã€å­—ç¬¦ä¸²å¯ä»¥ç”¨+è¿ç®—ç¬¦è¿æ¥åœ¨ä¸€èµ·ï¼Œç”¨*è¿ç®—ç¬¦é‡å¤ã€‚  </div><div class="line">3ã€Pythonä¸­çš„å­—ç¬¦ä¸²æœ‰ä¸¤ç§ç´¢å¼•æ–¹å¼ï¼Œä»å·¦å¾€å³ä»¥0å¼€å§‹ï¼Œä»å³å¾€å·¦ä»¥-1å¼€å§‹ã€‚  </div><div class="line">4ã€Pythonä¸­çš„å­—ç¬¦ä¸²ä¸èƒ½æ”¹å˜ã€‚  </div><div class="line">  </div><div class="line">Listï¼ˆåˆ—è¡¨ï¼‰  </div><div class="line">Listï¼ˆåˆ—è¡¨ï¼‰ æ˜¯ Python ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„æ•°æ®ç±»å‹ã€‚  </div><div class="line">åˆ—è¡¨æ˜¯å†™åœ¨æ–¹æ‹¬å·ä¹‹é—´ã€ç”¨é€—å·åˆ†éš”å¼€çš„å…ƒç´ åˆ—è¡¨ã€‚åˆ—è¡¨ä¸­å…ƒç´ çš„ç±»å‹å¯ä»¥ä¸ç›¸åŒï¼š  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = ['him', 25, 100, 'her']  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(a)  </div><div class="line">['him', 25, 100, 'her']  </div><div class="line">å’Œå­—ç¬¦ä¸²ä¸€æ ·ï¼Œåˆ—è¡¨åŒæ ·å¯ä»¥è¢«ç´¢å¼•å’Œåˆ‡ç‰‡ï¼Œåˆ—è¡¨è¢«åˆ‡ç‰‡åè¿”å›ä¸€ä¸ªåŒ…å«æ‰€éœ€å…ƒç´ çš„æ–°åˆ—è¡¨ã€‚è¯¦ç»†çš„åœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚  </div><div class="line">åˆ—è¡¨è¿˜æ”¯æŒä¸²è”æ“ä½œï¼Œä½¿ç”¨+æ“ä½œç¬¦ï¼š  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = [1, 2, 3, 4, 5]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a + [6, 7, 8]  </div><div class="line">[1, 2, 3, 4, 5, 6, 7, 8]  </div><div class="line">ä¸Pythonå­—ç¬¦ä¸²ä¸ä¸€æ ·çš„æ˜¯ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯å¯ä»¥æ”¹å˜çš„ï¼š  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = [1, 2, 3, 4, 5, 6]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a[0] = 9  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a[2:5] = [13, 14, 15]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a  </div><div class="line">[9, 2, 13, 14, 15, 6]  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a[2:5] = []   # åˆ é™¤  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a  </div><div class="line">[9, 2, 6]  </div><div class="line">Listå†…ç½®äº†æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œä¾‹å¦‚append()ã€pop()ç­‰ç­‰ã€‚  </div><div class="line">list.append(x)  æŠŠä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„ç»“å°¾ï¼Œç›¸å½“äº a[len(a):] = [x]ã€‚  </div><div class="line">list.extend(L)  é€šè¿‡æ·»åŠ æŒ‡å®šåˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ æ¥æ‰©å……åˆ—è¡¨ï¼Œç›¸å½“äº a[len(a):] = Lã€‚  </div><div class="line">list.insert(i, x)   åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡†å¤‡æ’å…¥åˆ°å…¶å‰é¢çš„é‚£ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œä¾‹å¦‚ a.insert(0, x) ä¼šæ’å…¥åˆ°æ•´ä¸ªåˆ—è¡¨ä¹‹å‰ï¼Œè€Œ a.insert(len(a), x) ç›¸å½“äº a.append(x) ã€‚  </div><div class="line">list.remove(x)  åˆ é™¤åˆ—è¡¨ä¸­å€¼ä¸º x çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚  </div><div class="line">list.pop([i])   ä»åˆ—è¡¨çš„æŒ‡å®šä½ç½®åˆ é™¤å…ƒç´ ï¼Œå¹¶å°†å…¶è¿”å›ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šç´¢å¼•ï¼Œa.pop()è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚å…ƒç´ éšå³ä»åˆ—è¡¨ä¸­è¢«åˆ é™¤ã€‚ï¼ˆæ–¹æ³•ä¸­ i ä¸¤è¾¹çš„æ–¹æ‹¬å·è¡¨ç¤ºè¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè€Œä¸æ˜¯è¦æ±‚ä½ è¾“å…¥ä¸€å¯¹æ–¹æ‹¬å·ï¼Œä½ ä¼šç»å¸¸åœ¨ Python åº“å‚è€ƒæ‰‹å†Œä¸­é‡åˆ°è¿™æ ·çš„æ ‡è®°ã€‚ï¼‰  </div><div class="line">list.clear()    ç§»é™¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰é¡¹ï¼Œç­‰äºdel a[:]ã€‚  </div><div class="line">list.index(x)   è¿”å›åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå€¼ä¸º x çš„å…ƒç´ çš„ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„å…ƒç´ å°±ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚  </div><div class="line">list.count(x)   è¿”å› x åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚  </div><div class="line">list.sort() å¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚  </div><div class="line">list.reverse()  å€’æ’åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚  </div><div class="line">list.copy() è¿”å›åˆ—è¡¨çš„æµ…å¤åˆ¶ï¼Œç­‰äºa[:]ã€‚  </div><div class="line">æ³¨æ„ï¼š  </div><div class="line">1ã€Listå†™åœ¨æ–¹æ‹¬å·ä¹‹é—´ï¼Œå…ƒç´ ç”¨é€—å·éš”å¼€ã€‚  </div><div class="line">2ã€å’Œå­—ç¬¦ä¸²ä¸€æ ·ï¼Œlistå¯ä»¥è¢«ç´¢å¼•å’Œåˆ‡ç‰‡ã€‚  </div><div class="line">3ã€Listå¯ä»¥ä½¿ç”¨+æ“ä½œç¬¦è¿›è¡Œæ‹¼æ¥ã€‚  </div><div class="line">4ã€Listä¸­çš„å…ƒç´ æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚  </div><div class="line">  </div><div class="line">Tupleï¼ˆå…ƒç»„ï¼‰  </div><div class="line">å…ƒç»„ï¼ˆtupleï¼‰ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå…ƒç»„çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹ã€‚å…ƒç»„å†™åœ¨å°æ‹¬å·é‡Œï¼Œå…ƒç´ ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚  </div><div class="line">å…ƒç»„ä¸­çš„å…ƒç´ ç±»å‹ä¹Ÿå¯ä»¥ä¸ç›¸åŒï¼š  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = (1991, 2014, 'physics', 'math')  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(a, type(a), len(a))  </div><div class="line">(1991, 2014, 'physics', 'math') &lt;class 'tuple'&gt; 4  </div><div class="line">å…ƒç»„ä¸å­—ç¬¦ä¸²ç±»ä¼¼ï¼Œå¯ä»¥è¢«ç´¢å¼•ä¸”ä¸‹æ ‡ç´¢å¼•ä»0å¼€å§‹ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæˆªå–/åˆ‡ç‰‡ï¼ˆçœ‹ä¸Šé¢ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ã€‚  </div><div class="line">å…¶å®ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²çœ‹ä½œä¸€ç§ç‰¹æ®Šçš„å…ƒç»„ã€‚  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tup = (1, 2, 3, 4, 5, 6)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(tup[0], tup[1:5])  </div><div class="line">1 (2, 3, 4, 5)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tup[0] = 11  # ä¿®æ”¹å…ƒç»„å…ƒç´ çš„æ“ä½œæ˜¯éæ³•çš„  </div><div class="line">è™½ç„¶tupleçš„å…ƒç´ ä¸å¯æ”¹å˜ï¼Œä½†å®ƒå¯ä»¥åŒ…å«å¯å˜çš„å¯¹è±¡ï¼Œæ¯”å¦‚liståˆ—è¡¨ã€‚  </div><div class="line">æ„é€ åŒ…å«0ä¸ªæˆ–1ä¸ªå…ƒç´ çš„tupleæ˜¯ä¸ªç‰¹æ®Šçš„é—®é¢˜ï¼Œæ‰€ä»¥æœ‰ä¸€äº›é¢å¤–çš„è¯­æ³•è§„åˆ™ï¼š  </div><div class="line">tup1 = () # ç©ºå…ƒç»„  </div><div class="line">tup2 = (20,) # ä¸€ä¸ªå…ƒç´ ï¼Œéœ€è¦åœ¨å…ƒç´ åæ·»åŠ é€—å·  </div><div class="line">å¦å¤–ï¼Œå…ƒç»„ä¹Ÿæ”¯æŒç”¨+æ“ä½œç¬¦ï¼š  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tup1, tup2 = (1, 2, 3), (4, 5, 6)  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(tup1+tup2)  </div><div class="line">(1, 2, 3, 4, 5, 6)  </div><div class="line">stringã€listå’Œtupleéƒ½å±äºsequenceï¼ˆåºåˆ—ï¼‰ã€‚  </div><div class="line">æ³¨æ„ï¼š  </div><div class="line">1ã€ä¸å­—ç¬¦ä¸²ä¸€æ ·ï¼Œå…ƒç»„çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹ã€‚  </div><div class="line">2ã€å…ƒç»„ä¹Ÿå¯ä»¥è¢«ç´¢å¼•å’Œåˆ‡ç‰‡ï¼Œæ–¹æ³•ä¸€æ ·ã€‚  </div><div class="line">3ã€æ³¨æ„æ„é€ åŒ…å«0æˆ–1ä¸ªå…ƒç´ çš„å…ƒç»„çš„ç‰¹æ®Šè¯­æ³•è§„åˆ™ã€‚  </div><div class="line">4ã€å…ƒç»„ä¹Ÿå¯ä»¥ä½¿ç”¨+æ“ä½œç¬¦è¿›è¡Œæ‹¼æ¥ã€‚  </div><div class="line">  </div><div class="line">Setsï¼ˆé›†åˆï¼‰  </div><div class="line">é›†åˆï¼ˆsetï¼‰æ˜¯ä¸€ä¸ªæ— åºä¸é‡å¤å…ƒç´ çš„é›†ã€‚  </div><div class="line">åŸºæœ¬åŠŸèƒ½æ˜¯è¿›è¡Œæˆå‘˜å…³ç³»æµ‹è¯•å’Œæ¶ˆé™¤é‡å¤å…ƒç´ ã€‚  </div><div class="line">å¯ä»¥ä½¿ç”¨å¤§æ‹¬å· æˆ–è€… set()å‡½æ•°åˆ›å»ºseté›†åˆï¼Œæ³¨æ„ï¼šåˆ›å»ºä¸€ä¸ªç©ºé›†åˆå¿…é¡»ç”¨ set() è€Œä¸æ˜¯ &#123; &#125;ï¼Œå› ä¸º&#123; &#125;æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ã€‚  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>student = &#123;'Tom', 'Jim', 'Mary', 'Tom', 'Jack', 'Rose'&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(student)   # é‡å¤çš„å…ƒç´ è¢«è‡ªåŠ¨å»æ‰  </div><div class="line">&#123;'Jim', 'Jack', 'Mary', 'Tom', 'Rose'&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>'Rose' in student  # membership testingï¼ˆæˆå‘˜æµ‹è¯•ï¼‰  </div><div class="line">True  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span># setå¯ä»¥è¿›è¡Œé›†åˆè¿ç®—  </div><div class="line"><span class="meta">... </span> </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = set('abracadabra')  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>b = set('alacazam')  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a  </div><div class="line">&#123;'a', 'b', 'c', 'd', 'r'&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a - b     # aå’Œbçš„å·®é›†  </div><div class="line">&#123;'b', 'd', 'r'&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a | b     # aå’Œbçš„å¹¶é›†  </div><div class="line">&#123;'l', 'm', 'a', 'b', 'c', 'd', 'z', 'r'&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a &amp; b     # aå’Œbçš„äº¤é›†  </div><div class="line">&#123;'a', 'c'&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a ^ b     # aå’Œbä¸­ä¸åŒæ—¶å­˜åœ¨çš„å…ƒç´   </div><div class="line">&#123;'l', 'm', 'b', 'd', 'z', 'r'&#125;  </div><div class="line">  </div><div class="line">Dictionariesï¼ˆå­—å…¸ï¼‰  </div><div class="line">å­—å…¸ï¼ˆdictionaryï¼‰æ˜¯Pythonä¸­å¦ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å†…ç½®æ•°æ®ç±»å‹ã€‚  </div><div class="line">å­—å…¸æ˜¯ä¸€ç§æ˜ å°„ç±»å‹ï¼ˆmapping typeï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ— åºçš„é”® : å€¼å¯¹é›†åˆã€‚  </div><div class="line">å…³é”®å­—å¿…é¡»ä½¿ç”¨ä¸å¯å˜ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´listå’ŒåŒ…å«å¯å˜ç±»å‹çš„tupleä¸èƒ½åšå…³é”®å­—ã€‚  </div><div class="line">åœ¨åŒä¸€ä¸ªå­—å…¸ä¸­ï¼Œå…³é”®å­—è¿˜å¿…é¡»äº’ä¸ç›¸åŒã€‚  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>dic = &#123;&#125;  # åˆ›å»ºç©ºå­—å…¸  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tel = &#123;'Jack':1557, 'Tom':1320, 'Rose':1886&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tel  </div><div class="line">&#123;'Tom': 1320, 'Jack': 1557, 'Rose': 1886&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tel['Jack']   # ä¸»è¦çš„æ“ä½œï¼šé€šè¿‡keyæŸ¥è¯¢  </div><div class="line">1557  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>del tel['Rose']  # åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tel['Mary'] = 4127  # æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tel  </div><div class="line">&#123;'Tom': 1320, 'Jack': 1557, 'Mary': 4127&#125;  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>list(tel.keys())  # è¿”å›æ‰€æœ‰keyç»„æˆçš„list  </div><div class="line">['Tom', 'Jack', 'Mary']  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(tel.keys()) # æŒ‰keyæ’åº  </div><div class="line">['Jack', 'Mary', 'Tom']  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>'Tom' in tel       # æˆå‘˜æµ‹è¯•  </div><div class="line">True  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>'Mary' not in tel  # æˆå‘˜æµ‹è¯•  </div><div class="line">False  </div><div class="line">æ„é€ å‡½æ•° dict() ç›´æ¥ä»é”®å€¼å¯¹sequenceä¸­æ„å»ºå­—å…¸ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œæ¨å¯¼ï¼Œå¦‚ä¸‹ï¼š  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>dict([('sape', 4139), ('guido', 4127), ('jack', 4098)])  </div><div class="line">&#123;'jack': 4098, 'sape': 4139, 'guido': 4127&#125;  </div><div class="line">  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;x: x**2 for x in (2, 4, 6)&#125;  </div><div class="line">&#123;2: 4, 4: 16, 6: 36&#125;  </div><div class="line">  </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>dict(sape=4139, guido=4127, jack=4098)  </div><div class="line">&#123;'jack': 4098, 'sape': 4139, 'guido': 4127&#125;  </div><div class="line">å¦å¤–ï¼Œå­—å…¸ç±»å‹ä¹Ÿæœ‰ä¸€äº›å†…ç½®çš„å‡½æ•°ï¼Œä¾‹å¦‚clear()ã€keys()ã€values()ç­‰ã€‚  </div><div class="line">æ³¨æ„ï¼š  </div><div class="line">1ã€å­—å…¸æ˜¯ä¸€ç§æ˜ å°„ç±»å‹ï¼Œå®ƒçš„å…ƒç´ æ˜¯é”®å€¼å¯¹ã€‚  </div><div class="line">2ã€å­—å…¸çš„å…³é”®å­—å¿…é¡»ä¸ºä¸å¯å˜ç±»å‹ï¼Œä¸”ä¸èƒ½é‡å¤ã€‚  </div><div class="line">3ã€åˆ›å»ºç©ºå­—å…¸ä½¿ç”¨&#123; &#125;ã€‚  </div><div class="line">"""  </div><div class="line">  </div><div class="line"><span class="comment">#è¾“å‡º  </span></div><div class="line">print(<span class="string">'hello, world'</span>)  </div><div class="line">  </div><div class="line"><span class="comment">#è¾“å…¥  </span></div><div class="line">name = input()  </div><div class="line">  </div><div class="line"><span class="comment"># è·å–ç”¨æˆ·è¾“å…¥çš„æ•°å­—  </span></div><div class="line">num = int(input(<span class="string">"è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: "</span>))  </div><div class="line">a = float(input(<span class="string">'è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—:'</span>))  </div><div class="line">  </div><div class="line"><span class="comment">#æ¡ä»¶åˆ¤æ–­if..else  </span></div><div class="line">a = <span class="number">1</span>  </div><div class="line"><span class="keyword">if</span> a &gt;= <span class="number">0</span>:  </div><div class="line">    <span class="keyword">if</span> a == <span class="number">0</span>:  </div><div class="line">        print(<span class="string">'a=0'</span>)  </div><div class="line">    <span class="keyword">else</span>:  </div><div class="line">        print(<span class="string">'aæ˜¯æ­£æ•°'</span>)  </div><div class="line"><span class="keyword">else</span>:  </div><div class="line">    print(<span class="string">'aæ˜¯è´Ÿæ•°'</span>)  </div><div class="line"><span class="comment">#if..elif..else  </span></div><div class="line"><span class="keyword">if</span> a == <span class="number">0</span>:  </div><div class="line">    print(<span class="string">'a=0'</span>)  </div><div class="line"><span class="keyword">elif</span> a &gt; <span class="number">0</span>:  </div><div class="line">    print(<span class="string">'aæ˜¯æ­£æ•°'</span>)  </div><div class="line"><span class="keyword">else</span>:  </div><div class="line">    print(<span class="string">'aæ˜¯è´Ÿæ•°'</span>)  </div><div class="line">  </div><div class="line"><span class="comment">#å¾ªç¯  </span></div><div class="line"><span class="comment">#for...inå¾ªç¯  </span></div><div class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]  </div><div class="line"><span class="keyword">for</span> num <span class="keyword">in</span> nums:  </div><div class="line">    print(num)  </div><div class="line"><span class="comment">#whileå¾ªç¯  </span></div><div class="line">i = <span class="number">0</span>  </div><div class="line"><span class="keyword">while</span> i &lt; len(nums):  </div><div class="line">    print(nums[i])  </div><div class="line">    i += <span class="number">1</span>  </div><div class="line">  </div><div class="line"><span class="comment">#passè¯­å¥ä»€ä¹ˆéƒ½ä¸åšã€‚å®ƒåªåœ¨è¯­æ³•ä¸Šéœ€è¦ä¸€æ¡è¯­å¥ä½†ç¨‹åºä¸éœ€è¦ä»»ä½•æ“ä½œæ—¶ä½¿ç”¨  </span></div><div class="line"><span class="comment">#breakè¯­å¥å¯ä»¥è·³å‡ºforå’Œwhileçš„å¾ªç¯ä½“ã€‚å¦‚æœä½ ä»foræˆ–whileå¾ªç¯ä¸­ç»ˆæ­¢ï¼Œä»»ä½•å¯¹åº”çš„å¾ªç¯elseå—å°†ä¸æ‰§è¡Œã€‚  </span></div><div class="line"><span class="comment">#continueè¯­å¥è¢«ç”¨æ¥å‘Šè¯‰Pythonè·³è¿‡å½“å‰å¾ªç¯å—ä¸­çš„å‰©ä½™è¯­å¥ï¼Œç„¶åç»§ç»­è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ã€‚  </span></div><div class="line">  </div><div class="line"><span class="comment">#äº¤æ¢å˜é‡  </span></div><div class="line">x = input(<span class="string">'è¾“å…¥ x å€¼: '</span>)  </div><div class="line">y = input(<span class="string">'è¾“å…¥ y å€¼: '</span>)  </div><div class="line"><span class="comment"># ä¸ä½¿ç”¨ä¸´æ—¶å˜é‡  </span></div><div class="line">x,y = y,x  </div><div class="line">  </div><div class="line"><span class="comment">#æ–‡ä»¶çš„è¯»å†™  </span></div><div class="line"><span class="comment">#ç”±äºæ–‡ä»¶è¯»å†™æ—¶éƒ½æœ‰å¯èƒ½äº§ç”ŸIOErrorï¼Œä¸€æ—¦å‡ºé”™ï¼Œåé¢çš„f.close()å°±ä¸ä¼šè°ƒç”¨ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯æ— è®ºæ˜¯å¦å‡ºé”™éƒ½èƒ½æ­£ç¡®åœ°å…³é—­æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨try ... finallyæ¥å®ç°ï¼š  </span></div><div class="line"><span class="string">'''''rã€wã€aä¸ºæ‰“å¼€æ–‡ä»¶çš„åŸºæœ¬æ¨¡å¼ï¼Œå¯¹åº”ç€åªè¯»ã€åªå†™ã€è¿½åŠ æ¨¡å¼ï¼› </span></div><div class="line">bã€tã€+ã€Uè¿™å››ä¸ªå­—ç¬¦ï¼Œä¸ä»¥ä¸Šçš„æ–‡ä»¶æ‰“å¼€æ¨¡å¼ç»„åˆä½¿ç”¨ï¼ŒäºŒè¿›åˆ¶æ¨¡å¼ï¼Œæ–‡æœ¬æ¨¡å¼ï¼Œè¯»å†™æ¨¡å¼ã€é€šç”¨æ¢è¡Œç¬¦ï¼Œæ ¹æ®å®é™…æƒ…å†µç»„åˆä½¿ç”¨'''  </div><div class="line"><span class="keyword">try</span>:  </div><div class="line">    f = open(<span class="string">'test.txt'</span>, <span class="string">'r'</span>)  </div><div class="line">    print(f.read())  </div><div class="line"><span class="keyword">finally</span>:  </div><div class="line">    <span class="keyword">if</span> f:  </div><div class="line">        f.close()  </div><div class="line"><span class="comment">#Pythonå¼•å…¥äº†withè¯­å¥æ¥è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨close()æ–¹æ³•  </span></div><div class="line"><span class="comment"># å†™æ–‡ä»¶  </span></div><div class="line"><span class="keyword">with</span> open(<span class="string">"test.txt"</span>, <span class="string">"wt"</span>) <span class="keyword">as</span> out_file:  </div><div class="line">    out_file.write(<span class="string">"å†™å…¥åˆ°æ–‡ä»¶ä¸­\næ¢è¡Œäº†"</span>)  </div><div class="line">  </div><div class="line"><span class="comment"># è¯»æ–‡ä»¶  </span></div><div class="line"><span class="keyword">with</span> open(<span class="string">"test.txt"</span>, <span class="string">"rt"</span>) <span class="keyword">as</span> in_file:  </div><div class="line">    text = in_file.read()</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Python3å­¦ä¹ ç¬”è®°â€“åŸºç¡€çŸ¥è¯†&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://cokernut.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://cokernut.top/tags/Python/"/>
    
      <category term="Python3" scheme="http://cokernut.top/tags/Python3/"/>
    
  </entry>
  
  <entry>
    <title>Gitå‘½ä»¤</title>
    <link href="http://cokernut.top/2016/09/29/Note/Git%E5%91%BD%E4%BB%A4/"/>
    <id>http://cokernut.top/2016/09/29/Note/Gitå‘½ä»¤/</id>
    <published>2016-09-28T16:00:00.000Z</published>
    <updated>2016-11-30T06:33:32.708Z</updated>
    
    <content type="html"><![CDATA[<p>Gitå‘½ä»¤<br><a id="more"></a></p>
<h1 id="gitçŸ¥è¯†ç‚¹"><a href="#gitçŸ¥è¯†ç‚¹" class="headerlink" title="gitçŸ¥è¯†ç‚¹"></a>gitçŸ¥è¯†ç‚¹</h1><h2 id="ç”¨å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨åº“"><a href="#ç”¨å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨åº“" class="headerlink" title="ç”¨å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨åº“"></a>ç”¨å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">echo &quot;# Documents&quot; &gt;&gt; README.md</div><div class="line">git init</div><div class="line">git add README.md</div><div class="line">git commit -m &quot;first commit&quot;</div><div class="line">git remote add origin https://github.com/cokernut/Documents.git</div><div class="line">git push -u origin master</div><div class="line">â€¦or push an existing repository from the command line</div><div class="line"></div><div class="line">git remote add origin https://github.com/cokernut/Documents.git</div><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
<h2 id="Gitå¸¸ç”¨å‘½ä»¤å¤‡å¿˜"><a href="#Gitå¸¸ç”¨å‘½ä»¤å¤‡å¿˜" class="headerlink" title="Gitå¸¸ç”¨å‘½ä»¤å¤‡å¿˜"></a>Gitå¸¸ç”¨å‘½ä»¤å¤‡å¿˜</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Gité…ç½®</div><div class="line">git config --global user.name &quot;robbin&quot;   </div><div class="line">git config --global user.email &quot;fankai@gmail.com&quot;</div><div class="line">git config --global color.ui true</div><div class="line">git config --global alias.co checkout</div><div class="line">git config --global alias.ci commit</div><div class="line">git config --global alias.st status</div><div class="line">git config --global alias.br branch</div><div class="line">git config --global core.editor &quot;mate -w&quot;    # è®¾ç½®Editorä½¿ç”¨textmate</div><div class="line">git config -l  # åˆ—ä¸¾æ‰€æœ‰é…ç½®</div><div class="line">ç”¨æˆ·çš„gité…ç½®æ–‡ä»¶~/.gitconfig</div></pre></td></tr></table></figure>
<h2 id="Gitå¸¸ç”¨å‘½ä»¤"><a href="#Gitå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Gitå¸¸ç”¨å‘½ä»¤"></a>Gitå¸¸ç”¨å‘½ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div></pre></td><td class="code"><pre><div class="line">æŸ¥çœ‹ã€æ·»åŠ ã€æäº¤ã€åˆ é™¤ã€æ‰¾å›ï¼Œé‡ç½®ä¿®æ”¹æ–‡ä»¶</div><div class="line"></div><div class="line">git help &lt;command&gt;  # æ˜¾ç¤ºcommandçš„help</div><div class="line">git show            # æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å†…å®¹</div><div class="line">git show $id</div><div class="line"></div><div class="line">git co  -- &lt;file&gt;   # æŠ›å¼ƒå·¥ä½œåŒºä¿®æ”¹</div><div class="line">git co  .           # æŠ›å¼ƒå·¥ä½œåŒºä¿®æ”¹</div><div class="line"></div><div class="line">git add &lt;file&gt;      # å°†å·¥ä½œæ–‡ä»¶ä¿®æ”¹æäº¤åˆ°æœ¬åœ°æš‚å­˜åŒº</div><div class="line">git add .           # å°†æ‰€æœ‰ä¿®æ”¹è¿‡çš„å·¥ä½œæ–‡ä»¶æäº¤æš‚å­˜åŒº</div><div class="line"></div><div class="line">git rm &lt;file&gt;       # ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤æ–‡ä»¶</div><div class="line">git rm &lt;file&gt; --cached  # ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤æ–‡ä»¶ï¼Œä½†ä¸åˆ é™¤æ–‡ä»¶</div><div class="line"></div><div class="line">git reset &lt;file&gt;    # ä»æš‚å­˜åŒºæ¢å¤åˆ°å·¥ä½œæ–‡ä»¶</div><div class="line">git reset -- .      # ä»æš‚å­˜åŒºæ¢å¤åˆ°å·¥ä½œæ–‡ä»¶</div><div class="line">git reset --hard    # æ¢å¤æœ€è¿‘ä¸€æ¬¡æäº¤è¿‡çš„çŠ¶æ€ï¼Œå³æ”¾å¼ƒä¸Šæ¬¡æäº¤åçš„æ‰€æœ‰æœ¬æ¬¡ä¿®æ”¹</div><div class="line"></div><div class="line">git ci &lt;file&gt;</div><div class="line">git ci .</div><div class="line">git ci -a           # å°†git add, git rmå’Œgit ciç­‰æ“ä½œéƒ½åˆå¹¶åœ¨ä¸€èµ·åš</div><div class="line">git ci -am &quot;some comments&quot;</div><div class="line">git ci --amend      # ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤è®°å½•</div><div class="line"></div><div class="line">git revert &lt;$id&gt;    # æ¢å¤æŸæ¬¡æäº¤çš„çŠ¶æ€ï¼Œæ¢å¤åŠ¨ä½œæœ¬èº«ä¹Ÿåˆ›å»ºäº†ä¸€æ¬¡æäº¤å¯¹è±¡</div><div class="line">git revert HEAD     # æ¢å¤æœ€åä¸€æ¬¡æäº¤çš„çŠ¶æ€</div><div class="line">æŸ¥çœ‹æ–‡ä»¶diff</div><div class="line"></div><div class="line">git diff &lt;file&gt;     # æ¯”è¾ƒå½“å‰æ–‡ä»¶å’Œæš‚å­˜åŒºæ–‡ä»¶å·®å¼‚</div><div class="line">git diff</div><div class="line">git diff &lt;$id1&gt; &lt;$id2&gt;   # æ¯”è¾ƒä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</div><div class="line">git diff &lt;branch1&gt;..&lt;branch2&gt; # åœ¨ä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´æ¯”è¾ƒ </div><div class="line">git diff --staged   # æ¯”è¾ƒæš‚å­˜åŒºå’Œç‰ˆæœ¬åº“å·®å¼‚</div><div class="line">git diff --cached   # æ¯”è¾ƒæš‚å­˜åŒºå’Œç‰ˆæœ¬åº“å·®å¼‚</div><div class="line">git diff --stat     # ä»…ä»…æ¯”è¾ƒç»Ÿè®¡ä¿¡æ¯</div><div class="line">æŸ¥çœ‹æäº¤è®°å½•</div><div class="line"></div><div class="line">git log</div><div class="line">git log &lt;file&gt;      # æŸ¥çœ‹è¯¥æ–‡ä»¶æ¯æ¬¡æäº¤è®°å½•</div><div class="line">git log -p &lt;file&gt;   # æŸ¥çœ‹æ¯æ¬¡è¯¦ç»†ä¿®æ”¹å†…å®¹çš„diff</div><div class="line">git log -p -2       # æŸ¥çœ‹æœ€è¿‘ä¸¤æ¬¡è¯¦ç»†ä¿®æ”¹å†…å®¹çš„diff</div><div class="line">git log --stat      # æŸ¥çœ‹æäº¤ç»Ÿè®¡ä¿¡æ¯</div><div class="line">tig</div><div class="line"></div><div class="line">Macä¸Šå¯ä»¥ä½¿ç”¨tigä»£æ›¿diffå’Œlogï¼Œbrew install tig</div><div class="line"></div><div class="line">Git æœ¬åœ°åˆ†æ”¯ç®¡ç†</div><div class="line">æŸ¥çœ‹ã€åˆ‡æ¢ã€åˆ›å»ºå’Œåˆ é™¤åˆ†æ”¯</div><div class="line"></div><div class="line">git br -r           # æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</div><div class="line">git br &lt;new_branch&gt; # åˆ›å»ºæ–°çš„åˆ†æ”¯</div><div class="line">git br -v           # æŸ¥çœ‹å„ä¸ªåˆ†æ”¯æœ€åæäº¤ä¿¡æ¯</div><div class="line">git br --merged     # æŸ¥çœ‹å·²ç»è¢«åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</div><div class="line">git br --no-merged  # æŸ¥çœ‹å°šæœªè¢«åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</div><div class="line"></div><div class="line">git co &lt;branch&gt;     # åˆ‡æ¢åˆ°æŸä¸ªåˆ†æ”¯</div><div class="line">git co -b &lt;new_branch&gt; # åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼Œå¹¶ä¸”åˆ‡æ¢è¿‡å»</div><div class="line">git co -b &lt;new_branch&gt; &lt;branch&gt;  # åŸºäºbranchåˆ›å»ºæ–°çš„new_branch</div><div class="line"></div><div class="line">git co $id          # æŠŠæŸæ¬¡å†å²æäº¤è®°å½•checkoutå‡ºæ¥ï¼Œä½†æ— åˆ†æ”¯ä¿¡æ¯ï¼Œåˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ä¼šè‡ªåŠ¨åˆ é™¤</div><div class="line">git co $id -b &lt;new_branch&gt;  # æŠŠæŸæ¬¡å†å²æäº¤è®°å½•checkoutå‡ºæ¥ï¼Œåˆ›å»ºæˆä¸€ä¸ªåˆ†æ”¯</div><div class="line"></div><div class="line">git br -d &lt;branch&gt;  # åˆ é™¤æŸä¸ªåˆ†æ”¯</div><div class="line">git br -D &lt;branch&gt;  # å¼ºåˆ¶åˆ é™¤æŸä¸ªåˆ†æ”¯ (æœªè¢«åˆå¹¶çš„åˆ†æ”¯è¢«åˆ é™¤çš„æ—¶å€™éœ€è¦å¼ºåˆ¶)</div><div class="line">åˆ†æ”¯åˆå¹¶å’Œrebase</div><div class="line"></div><div class="line">git merge &lt;branch&gt;               # å°†branchåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</div><div class="line">git merge origin/master --no-ff  # ä¸è¦Fast-Fowardåˆå¹¶ï¼Œè¿™æ ·å¯ä»¥ç”Ÿæˆmergeæäº¤</div><div class="line"></div><div class="line">git rebase master &lt;branch&gt;       # å°†master rebaseåˆ°branchï¼Œç›¸å½“äºï¼š</div><div class="line">git co &lt;branch&gt; &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge &lt;branch&gt;</div><div class="line">Gitè¡¥ä¸ç®¡ç†(æ–¹ä¾¿åœ¨å¤šå°æœºå™¨ä¸Šå¼€å‘åŒæ­¥æ—¶ç”¨)</div><div class="line">git diff &gt; ../sync.patch         # ç”Ÿæˆè¡¥ä¸</div><div class="line">git apply ../sync.patch          # æ‰“è¡¥ä¸</div><div class="line">git apply --check ../sync.patch  # æµ‹è¯•è¡¥ä¸èƒ½å¦æˆåŠŸ</div><div class="line">Gitæš‚å­˜ç®¡ç†</div><div class="line">git stash                        # æš‚å­˜</div><div class="line">git stash list                   # åˆ—æ‰€æœ‰stash</div><div class="line">git stash apply                  # æ¢å¤æš‚å­˜çš„å†…å®¹</div><div class="line">git stash drop                   # åˆ é™¤æš‚å­˜åŒº</div><div class="line">Gitè¿œç¨‹åˆ†æ”¯ç®¡ç†</div><div class="line">git pull                         # æŠ“å–è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯æ›´æ–°å¹¶åˆå¹¶åˆ°æœ¬åœ°</div><div class="line">git pull --no-ff                 # æŠ“å–è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯æ›´æ–°å¹¶åˆå¹¶åˆ°æœ¬åœ°ï¼Œä¸è¦å¿«è¿›åˆå¹¶</div><div class="line">git fetch origin                 # æŠ“å–è¿œç¨‹ä»“åº“æ›´æ–°</div><div class="line">git merge origin/master          # å°†è¿œç¨‹ä¸»åˆ†æ”¯åˆå¹¶åˆ°æœ¬åœ°å½“å‰åˆ†æ”¯</div><div class="line">git co --track origin/branch     # è·Ÿè¸ªæŸä¸ªè¿œç¨‹åˆ†æ”¯åˆ›å»ºç›¸åº”çš„æœ¬åœ°åˆ†æ”¯</div><div class="line">git co -b &lt;local_branch&gt; origin/&lt;remote_branch&gt;  # åŸºäºè¿œç¨‹åˆ†æ”¯åˆ›å»ºæœ¬åœ°åˆ†æ”¯ï¼ŒåŠŸèƒ½åŒä¸Š</div><div class="line"></div><div class="line">git push                         # pushæ‰€æœ‰åˆ†æ”¯</div><div class="line">git push origin master           # å°†æœ¬åœ°ä¸»åˆ†æ”¯æ¨åˆ°è¿œç¨‹ä¸»åˆ†æ”¯</div><div class="line">git push -u origin master        # å°†æœ¬åœ°ä¸»åˆ†æ”¯æ¨åˆ°è¿œç¨‹(å¦‚æ— è¿œç¨‹ä¸»åˆ†æ”¯åˆ™åˆ›å»ºï¼Œç”¨äºåˆå§‹åŒ–è¿œç¨‹ä»“åº“)</div><div class="line">git push origin &lt;local_branch&gt;   # åˆ›å»ºè¿œç¨‹åˆ†æ”¯ï¼Œ originæ˜¯è¿œç¨‹ä»“åº“å</div><div class="line">git push origin &lt;local_branch&gt;:&lt;remote_branch&gt;  # åˆ›å»ºè¿œç¨‹åˆ†æ”¯</div><div class="line">git push origin :&lt;remote_branch&gt;  #å…ˆåˆ é™¤æœ¬åœ°åˆ†æ”¯(git br -d &lt;branch&gt;)ï¼Œç„¶åå†pushåˆ é™¤è¿œç¨‹åˆ†æ”¯</div><div class="line">Gitè¿œç¨‹ä»“åº“ç®¡ç†</div><div class="line">git remote -v                    # æŸ¥çœ‹è¿œç¨‹æœåŠ¡å™¨åœ°å€å’Œä»“åº“åç§°</div><div class="line">git remote show origin           # æŸ¥çœ‹è¿œç¨‹æœåŠ¡å™¨ä»“åº“çŠ¶æ€</div><div class="line">git remote add origin git@github:robbin/robbin_site.git         # æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€</div><div class="line">git remote set-url origin git@github.com:robbin/robbin_site.git # è®¾ç½®è¿œç¨‹ä»“åº“åœ°å€(ç”¨äºä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€)</div><div class="line">git remote rm &lt;repository&gt;       # åˆ é™¤è¿œç¨‹ä»“åº“</div><div class="line">åˆ›å»ºè¿œç¨‹ä»“åº“</div><div class="line"></div><div class="line">git clone --bare robbin_site robbin_site.git  # ç”¨å¸¦ç‰ˆæœ¬çš„é¡¹ç›®åˆ›å»ºçº¯ç‰ˆæœ¬ä»“åº“</div><div class="line">scp -r my_project.git git@git.csdn.net:~      # å°†çº¯ä»“åº“ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š</div><div class="line"></div><div class="line">mkdir robbin_site.git &amp;&amp; cd robbin_site.git &amp;&amp; git --bare init # åœ¨æœåŠ¡å™¨åˆ›å»ºçº¯ä»“åº“</div><div class="line">git remote add origin git@github.com:robbin/robbin_site.git    # è®¾ç½®è¿œç¨‹ä»“åº“åœ°å€</div><div class="line">git push -u origin master                                      # å®¢æˆ·ç«¯é¦–æ¬¡æäº¤</div><div class="line">git push -u origin develop  # é¦–æ¬¡å°†æœ¬åœ°developåˆ†æ”¯æäº¤åˆ°è¿œç¨‹developåˆ†æ”¯ï¼Œå¹¶ä¸”track</div><div class="line"></div><div class="line">git remote set-head origin master   # è®¾ç½®è¿œç¨‹ä»“åº“çš„HEADæŒ‡å‘masteråˆ†æ”¯</div><div class="line">ä¹Ÿå¯ä»¥å‘½ä»¤è®¾ç½®è·Ÿè¸ªè¿œç¨‹åº“å’Œæœ¬åœ°åº“</div><div class="line"></div><div class="line">git branch --set-upstream master origin/master</div><div class="line">git branch --set-upstream develop origin/develop</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Gitå‘½ä»¤&lt;br&gt;
    
    </summary>
    
      <category term="Git" scheme="http://cokernut.top/categories/Git/"/>
    
    
      <category term="Git" scheme="http://cokernut.top/tags/Git/"/>
    
      <category term="GitHub" scheme="http://cokernut.top/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>MarkDownåŸºç¡€è¯­æ³•å­¦ä¹ ä¸ç»ƒä¹ </title>
    <link href="http://cokernut.top/2016/09/18/Note/MarkDown%E8%AF%AD%E6%B3%95/"/>
    <id>http://cokernut.top/2016/09/18/Note/MarkDownè¯­æ³•/</id>
    <published>2016-09-17T16:00:00.000Z</published>
    <updated>2016-11-30T06:31:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>MarkDownåŸºç¡€è¯­æ³•å­¦ä¹ ä¸ç»ƒä¹ <br><a id="more"></a></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>å¦‚æœä½ åªæƒ³é«˜äº®è¯­å¥ä¸­çš„æŸä¸ªå‡½æ•°åæˆ–å…³é”®å­—ï¼Œå¯ä»¥ä½¿ç”¨ <code>function_name()</code> å®ç°</p>
<p>é€šå¸¸ç¼–è¾‘å™¨æ ¹æ®ä»£ç ç‰‡æ®µé€‚é…åˆé€‚çš„é«˜äº®æ–¹æ³•ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ç”¨ ``` åŒ…è£¹ä¸€æ®µä»£ç ï¼Œå¹¶æŒ‡å®šä¸€ç§è¯­è¨€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">```javascript</div><div class="line">$(document).ready(function () &#123;</div><div class="line">    alert(&apos;hello world&apos;);</div><div class="line">&#125;); </div><div class="line">```</div></pre></td></tr></table></figure>
<p>æ”¯æŒçš„è¯­è¨€ï¼šactionscript, apache, bash, clojure, cmake, coffeescript, cpp, cs, css, d, delphi, django, erlang, go, haskell, html, http, ini, java, javascript, json, lisp, lua, markdown, matlab, nginx, objectivec, perl, php, python, r, ruby, scala, smalltalk, sql, tex, vbscript, xml</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ 4 ç©ºæ ¼ç¼©è¿›ï¼Œå†è´´ä¸Šä»£ç ï¼Œå®ç°ç›¸åŒçš„çš„æ•ˆæœ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">def g(x):</div><div class="line">    yield from range(x, 0, -1)</div><div class="line">yield from range(x)</div></pre></td></tr></table></figure></p>
<h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><p>æ–‡ç« å†…å®¹è¾ƒå¤šæ—¶ï¼Œå¯ä»¥ç”¨æ ‡é¢˜åˆ†æ®µï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">æ ‡é¢˜1</div><div class="line">======</div><div class="line"></div><div class="line">æ ‡é¢˜2</div><div class="line">-----</div><div class="line"></div><div class="line">## å¤§æ ‡é¢˜ ##</div><div class="line">### å°æ ‡é¢˜ ###</div></pre></td></tr></table></figure></p>
<h2 id="ç²—æ–œä½“"><a href="#ç²—æ–œä½“" class="headerlink" title="ç²—æ–œä½“"></a>ç²—æ–œä½“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">*æ–œä½“æ–‡æœ¬*    _æ–œä½“æ–‡æœ¬_</div><div class="line">**ç²—ä½“æ–‡æœ¬**    __ç²—ä½“æ–‡æœ¬__</div><div class="line">***ç²—æ–œä½“æ–‡æœ¬***    ___ç²—æ–œä½“æ–‡æœ¬___</div></pre></td></tr></table></figure>
<h2 id="å­—ä½“å¤§å°ã€é¢œè‰²"><a href="#å­—ä½“å¤§å°ã€é¢œè‰²" class="headerlink" title="å­—ä½“å¤§å°ã€é¢œè‰²"></a>å­—ä½“å¤§å°ã€é¢œè‰²</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;font face=&quot;é»‘ä½“&quot;&gt;æˆ‘æ˜¯é»‘ä½“å­—&lt;/font&gt;</div><div class="line">&lt;font face=&quot;å¾®è½¯é›…é»‘&quot;&gt;æˆ‘æ˜¯å¾®è½¯é›…é»‘&lt;/font&gt;</div><div class="line">&lt;font face=&quot;STCAIYUN&quot;&gt;æˆ‘æ˜¯åæ–‡å½©äº‘&lt;/font&gt;</div><div class="line">&lt;font color=#0099ff size=7 face=&quot;é»‘ä½“&quot;&gt;color=#0099ff size=72 face=&quot;é»‘ä½“&quot;&lt;/font&gt;</div><div class="line">&lt;font color=#00ffff size=72&gt;color=#00ffff&lt;/font&gt;</div><div class="line">&lt;font color=gray size=72&gt;color=gray&lt;/font&gt;</div><div class="line"></div><div class="line">&lt;small&gt;å­—ä½“å˜å°&lt;/small&gt;</div><div class="line">&lt;big&gt;å­—ä½“å˜å¤§&lt;/big&gt;</div></pre></td></tr></table></figure>
<h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p>å¸¸ç”¨é“¾æ¥æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">æ–‡å­—é“¾æ¥ [é“¾æ¥åç§°](http://é“¾æ¥ç½‘å€)</div><div class="line">ç½‘å€é“¾æ¥ &lt;http://é“¾æ¥ç½‘å€&gt;</div></pre></td></tr></table></figure></p>
<p>é«˜çº§é“¾æ¥æŠ€å·§<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">è¿™ä¸ªé“¾æ¥ç”¨ 1 ä½œä¸ºç½‘å€å˜é‡ [Google][1].</div><div class="line">è¿™ä¸ªé“¾æ¥ç”¨ yahoo ä½œä¸ºç½‘å€å˜é‡ [Yahoo!][yahoo].</div><div class="line">ç„¶ååœ¨æ–‡æ¡£çš„ç»“å°¾ä¸ºå˜é‡èµ‹å€¼ï¼ˆç½‘å€ï¼‰</div><div class="line"></div><div class="line">  [1]: http://www.google.com/</div><div class="line">  [yahoo]: http://www.yahoo.com/</div></pre></td></tr></table></figure></p>
<h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><p>æ™®é€šæ— åºåˆ—è¡¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- åˆ—è¡¨æ–‡æœ¬å‰ä½¿ç”¨ [å‡å·+ç©ºæ ¼]</div><div class="line">+ åˆ—è¡¨æ–‡æœ¬å‰ä½¿ç”¨ [åŠ å·+ç©ºæ ¼]</div><div class="line">* åˆ—è¡¨æ–‡æœ¬å‰ä½¿ç”¨ [æ˜Ÿå·+ç©ºæ ¼]</div></pre></td></tr></table></figure></p>
<p>æ™®é€šæœ‰åºåˆ—è¡¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1. åˆ—è¡¨å‰ä½¿ç”¨ [æ•°å­—+ç©ºæ ¼]</div><div class="line">2. æˆ‘ä»¬ä¼šè‡ªåŠ¨å¸®ä½ æ·»åŠ æ•°å­—</div><div class="line">7. ä¸ç”¨æ‹…å¿ƒæ•°å­—ä¸å¯¹ï¼Œæ˜¾ç¤ºçš„æ—¶å€™æˆ‘ä»¬ä¼šè‡ªåŠ¨æŠŠè¿™è¡Œçš„ 7 çº æ­£ä¸º 3</div></pre></td></tr></table></figure></p>
<p>åˆ—è¡¨åµŒå¥—<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">1. åˆ—å‡ºæ‰€æœ‰å…ƒç´ ï¼š</div><div class="line">    - æ— åºåˆ—è¡¨å…ƒç´  A</div><div class="line">        1. å…ƒç´  A çš„æœ‰åºå­åˆ—è¡¨</div><div class="line">    - å‰é¢åŠ å››ä¸ªç©ºæ ¼</div><div class="line">2. åˆ—è¡¨é‡Œçš„å¤šæ®µæ¢è¡Œï¼š</div><div class="line">    å‰é¢å¿…é¡»åŠ å››ä¸ªç©ºæ ¼ï¼Œ</div><div class="line">    è¿™æ ·æ¢è¡Œï¼Œæ•´ä½“çš„æ ¼å¼ä¸ä¼šä¹±</div><div class="line">3. åˆ—è¡¨é‡Œå¼•ç”¨ï¼š</div><div class="line"></div><div class="line">    &gt; å‰é¢ç©ºä¸€è¡Œ</div><div class="line">    &gt; ä»ç„¶éœ€è¦åœ¨ &gt;  å‰é¢åŠ å››ä¸ªç©ºæ ¼</div><div class="line"></div><div class="line">4. åˆ—è¡¨é‡Œä»£ç æ®µï¼š</div><div class="line"></div><div class="line">    å‰é¢å››ä¸ªç©ºæ ¼ï¼Œä¹‹åæŒ‰ä»£ç è¯­æ³• ``` ä¹¦å†™</div><div class="line">    æˆ–è€…ç›´æ¥ç©ºå…«ä¸ªï¼Œå¼•å…¥ä»£ç å—</div></pre></td></tr></table></figure></p>
<h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><p>ä½¿ç”¨ â€” æˆ–è€… <em>** æˆ–è€… </em> <em> </em> è¡¨ç¤ºæ°´å¹³åˆ†å‰²çº¿ã€‚</p>
<h2 id="æ¬¡å¸¸ç”¨æ ‡è®°"><a href="#æ¬¡å¸¸ç”¨æ ‡è®°" class="headerlink" title="æ¬¡å¸¸ç”¨æ ‡è®°"></a>æ¬¡å¸¸ç”¨æ ‡è®°</h2><p>ä½¿ç”¨ æ ‡ç­¾: æˆ–è€… Tags: è¡¨ç¤ºæ ‡ç­¾æ ‡è®°ã€‚</p>
<h3 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h3><p>ä½¿ç”¨ ~~ è¡¨ç¤ºåˆ é™¤çº¿ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">~~è¿™æ˜¯ä¸€æ¡åˆ é™¤çº¿~~</div></pre></td></tr></table></figure>
<p>1.æ³¨æ„ ~~ å’Œ è¦æ·»åŠ åˆ é™¤çº¿çš„æ–‡å­—ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚<br>2.æˆ‘å¸¸ä½¿ç”¨åœ¨æ˜¾ç¤ºçš„å‘Šè¯‰è‡ªå·±è¿™è¡Œæ–‡å­—æ˜¯è¦åˆ é™¤çš„ã€‚</p>
<h3 id="æ³¨è„š"><a href="#æ³¨è„š" class="headerlink" title="æ³¨è„š"></a>æ³¨è„š</h3><p>ä½¿ç”¨ [^footer] è¡¨ç¤ºæ³¨è„šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">è¿™æ˜¯ä¸€ä¸ªæ³¨è„šæµ‹è¯•[^footer1]ã€‚</div><div class="line">[^footer1]: è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ï¼Œç”¨æ¥é˜é‡Šæ³¨è„šã€‚</div></pre></td></tr></table></figure>
<h2 id="ä¸å¸¸ç”¨æ ‡è®°"><a href="#ä¸å¸¸ç”¨æ ‡è®°" class="headerlink" title="ä¸å¸¸ç”¨æ ‡è®°"></a>ä¸å¸¸ç”¨æ ‡è®°</h2><h3 id="å®ç°é¡µå†…è·³è½¬"><a href="#å®ç°é¡µå†…è·³è½¬" class="headerlink" title="å®ç°é¡µå†…è·³è½¬"></a>å®ç°é¡µå†…è·³è½¬</h3><p>ä½¿ç”¨htmlä»£ç å®ç°é¡µå†…è·³è½¬ã€‚åœ¨è¦è·³è½¬åˆ°çš„ä½ç½®å®šä¹‰ä¸ªé”š <span id="jump">hehe</span> ï¼Œç„¶åä½¿ç”¨ <a href="#jump">ä½ å¥½</a> å°† ä½ å¥½ è®¾ç½®ä¸ºä¸€å•å‡»å³è·³è½¬åˆ° hehe æ‰€åœ¨ä½ç½®çš„æ•ˆæœã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[ä½ å¥½](#jump)</div><div class="line">&lt;span id = &quot;jump&quot;&gt;hehe&lt;/span&gt;</div></pre></td></tr></table></figure></p>
<h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p>å…·ä½“ä½¿ç”¨æ–¹å¼è¯·çœ‹ç¤ºä¾‹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">------: ä¸ºå³å¯¹é½ã€‚</div><div class="line">:------ ä¸ºå·¦å¯¹é½ã€‚</div><div class="line">:------: ä¸ºå±…ä¸­å¯¹é½ã€‚</div><div class="line">------- ä¸ºä½¿ç”¨é»˜è®¤å±…ä¸­å¯¹é½ã€‚</div></pre></td></tr></table></figure></p>
<p>ç¤ºä¾‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">|  åºå·   |  äº¤æ˜“å |     äº¤æ˜“è¯´æ˜    |   å¤‡æ³¨    |</div><div class="line">|--------:|:------:|:---------------|-----------|</div><div class="line">|    1    | prfcfg | èœå•é…ç½®        |    æ—      |</div><div class="line">|    2    | gentmo | ç¼–è¯‘æ‰€æœ‰äº¤æ˜“    |    æ—      |</div><div class="line">| 100000  | sysdba | æ•°æ®åº“è¡¨æ¨¡å‹æ±‡æ€» |    æ—      |</div></pre></td></tr></table></figure></p>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>æ¯ä¸ªMarkdownè§£æå™¨éƒ½ä¸ä¸€æ ·ï¼Œå¯èƒ½å·¦å³å±…ä¸­å¯¹é½æ–¹å¼çš„è¡¨ç¤ºæ–¹å¼ä¸ä¸€æ ·ã€‚</p>
<h2 id="åæ–œæ è½¬ä¹‰"><a href="#åæ–œæ è½¬ä¹‰" class="headerlink" title="åæ–œæ è½¬ä¹‰"></a>åæ–œæ è½¬ä¹‰</h2><p>*literal asterisks*<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Markdown æ”¯æŒä»¥ä¸‹è¿™äº›ç¬¦å·å‰é¢åŠ ä¸Šåæ–œæ æ¥å¸®åŠ©æ’å…¥æ™®é€šçš„ç¬¦å·ï¼š</div><div class="line">\   åæ–œçº¿</div><div class="line">`   åå¼•å·</div><div class="line">*   æ˜Ÿå·</div><div class="line">_   åº•çº¿</div><div class="line">&#123;&#125;  èŠ±æ‹¬å·</div><div class="line">[]  æ–¹æ‹¬å·</div><div class="line">()  æ‹¬å¼§</div><div class="line">#   äº•å­—å·</div><div class="line">+   åŠ å·</div><div class="line">-   å‡å·</div><div class="line">.   è‹±æ–‡å¥ç‚¹</div><div class="line">!   æƒŠå¹å·</div></pre></td></tr></table></figure></p>
<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>æ™®é€šå¼•ç”¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; å¼•ç”¨æ–‡æœ¬å‰ä½¿ç”¨ [å¤§äºå·+ç©ºæ ¼]</div><div class="line">&gt; æŠ˜è¡Œå¯ä»¥ä¸åŠ ï¼Œæ–°èµ·ä¸€è¡Œéƒ½è¦åŠ ä¸Šå“¦</div></pre></td></tr></table></figure></p>
<p>å¼•ç”¨é‡ŒåµŒå¥—å¼•ç”¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; æœ€å¤–å±‚å¼•ç”¨</div><div class="line">&gt; &gt; å¤šä¸€ä¸ª &gt; åµŒå¥—ä¸€å±‚å¼•ç”¨</div><div class="line">&gt; &gt; &gt; å¯ä»¥åµŒå¥—å¾ˆå¤šå±‚</div></pre></td></tr></table></figure></p>
<p>å¼•ç”¨é‡ŒåµŒå¥—åˆ—è¡¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; - è¿™æ˜¯å¼•ç”¨é‡ŒåµŒå¥—çš„ä¸€ä¸ªåˆ—è¡¨</div><div class="line">&gt; - è¿˜å¯ä»¥æœ‰å­åˆ—è¡¨</div><div class="line">&gt;     * å­åˆ—è¡¨éœ€è¦ä» - ä¹‹åå»¶åå››ä¸ªç©ºæ ¼å¼€å§‹</div></pre></td></tr></table></figure></p>
<p>å¼•ç”¨é‡ŒåµŒå¥—ä»£ç å—<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;     åŒæ ·çš„ï¼Œåœ¨å‰é¢åŠ å››ä¸ªç©ºæ ¼å½¢æˆä»£ç å—</div><div class="line">&gt;     æˆ–è€…ä½¿ç”¨ ``` å½¢æˆä»£ç å—</div></pre></td></tr></table></figure></p>
<h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><p>è·Ÿé“¾æ¥çš„æ–¹æ³•åŒºåˆ«åœ¨äºå‰é¢åŠ äº†ä¸ªæ„Ÿå¹å· !ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯è§‰å¾—å¥½è®°å¤šäº†å‘¢ï¼Ÿ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">![å›¾ç‰‡åç§°](http://å›¾ç‰‡ç½‘å€)</div></pre></td></tr></table></figure></p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åƒç½‘å€é‚£æ ·å¯¹å›¾ç‰‡ç½‘å€ä½¿ç”¨å˜é‡<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">è¿™ä¸ªé“¾æ¥ç”¨ 1 ä½œä¸ºç½‘å€å˜é‡ [Google][1].</div><div class="line">ç„¶ååœ¨æ–‡æ¡£çš„ç»“å°¾ä½å˜é‡èµ‹å€¼ï¼ˆç½‘å€ï¼‰</div><div class="line"></div><div class="line"> [1]: http://www.google.com/logo.png</div></pre></td></tr></table></figure></p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ HTML çš„å›¾ç‰‡è¯­æ³•æ¥è‡ªå®šä¹‰å›¾ç‰‡çš„å®½é«˜å¤§å°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=&quot;htt://example.com/sample.png&quot; alt=&quot;alt&quot; Title=&quot;title&quot; width=&quot;400&quot; height=&quot;100&quot;&gt;</div></pre></td></tr></table></figure></p>
<h2 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="æ¢è¡Œ"></a>æ¢è¡Œ</h2><p>å¦‚æœå¦èµ·ä¸€è¡Œï¼Œåªéœ€åœ¨å½“å‰è¡Œç»“å°¾åŠ  2 ä¸ªç©ºæ ¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">åœ¨å½“å‰è¡Œçš„ç»“å°¾åŠ  2 ä¸ªç©ºæ ¼  </div><div class="line">è¿™è¡Œå°±ä¼šæ–°èµ·ä¸€è¡Œ</div></pre></td></tr></table></figure></p>
<p>å¦‚æœæ˜¯è¦èµ·ä¸€ä¸ªæ–°æ®µè½ï¼Œåªéœ€è¦ç©ºå‡ºä¸€è¡Œå³å¯ã€‚</p>
<h2 id="åˆ†éš”ç¬¦"><a href="#åˆ†éš”ç¬¦" class="headerlink" title="åˆ†éš”ç¬¦"></a>åˆ†éš”ç¬¦</h2><p>å¦‚æœä½ æœ‰å†™åˆ†å‰²çº¿çš„ä¹ æƒ¯ï¼Œå¯ä»¥æ–°èµ·ä¸€è¡Œè¾“å…¥ä¸‰ä¸ªå‡å·-ã€‚å½“å‰åéƒ½æœ‰æ®µè½æ—¶ï¼Œè¯·ç©ºå‡ºä¸€è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">å‰é¢çš„æ®µè½</div><div class="line"></div><div class="line">---</div><div class="line"></div><div class="line">åé¢çš„æ®µè½</div></pre></td></tr></table></figure></p>
<h2 id="é«˜çº§æŠ€å·§"><a href="#é«˜çº§æŠ€å·§" class="headerlink" title="é«˜çº§æŠ€å·§"></a>é«˜çº§æŠ€å·§</h2><p>è¡Œå†… HTML å…ƒç´ </p>
<p>ç›®å‰åªæ”¯æŒéƒ¨åˆ†æ®µå†… HTML å…ƒç´ æ•ˆæœï¼ŒåŒ…æ‹¬:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;kdb&gt; &lt;b&gt; &lt;i&gt; &lt;em&gt; &lt;sup&gt; &lt;sub&gt; &lt;br&gt;</div></pre></td></tr></table></figure></p>
<p>å¦‚ : é”®ä½æ˜¾ç¤º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ä½¿ç”¨ &lt;kbd&gt;Ctrl&lt;kbd&gt;+&lt;kbd&gt;Alt&lt;kbd&gt;+&lt;kbd&gt;Del&lt;kbd&gt; é‡å¯ç”µè„‘</div></pre></td></tr></table></figure></p>
<p>ä»£ç å—<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ä½¿ç”¨ &lt;pre&gt;&lt;/pre&gt; å…ƒç´ åŒæ ·å¯ä»¥å½¢æˆä»£ç å—</div></pre></td></tr></table></figure></p>
<p>ç²—æ–œä½“<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;b&gt; Markdown åœ¨æ­¤å¤„åŒæ ·é€‚ç”¨ï¼Œå¦‚ *åŠ ç²—* &lt;/b&gt;</div></pre></td></tr></table></figure></p>
<h2 id="ç¬¦å·è½¬ä¹‰"><a href="#ç¬¦å·è½¬ä¹‰" class="headerlink" title="ç¬¦å·è½¬ä¹‰"></a>ç¬¦å·è½¬ä¹‰</h2><p>å¦‚æœä½ çš„æè¿°ä¸­éœ€è¦ç”¨åˆ° markdown çš„ç¬¦å·ï¼Œæ¯”å¦‚ <em> # * ç­‰ï¼Œä½†åˆä¸æƒ³å®ƒè¢«è½¬ä¹‰ï¼Œè¿™æ—¶å€™å¯ä»¥åœ¨è¿™äº›ç¬¦å·å‰åŠ åæ–œæ ï¼Œå¦‚ \</em> # * è¿›è¡Œé¿å…ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">\_ä¸æƒ³è¿™é‡Œçš„æ–‡æœ¬å˜æ–œä½“\_</div><div class="line">\*\*ä¸æƒ³è¿™é‡Œçš„æ–‡æœ¬è¢«åŠ ç²—\*\*</div></pre></td></tr></table></figure></p>
<h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><p>æ”¯æŒ jsfiddleã€gistã€runjsã€ä¼˜é…·è§†é¢‘ï¼Œç›´æ¥å¡«å†™ urlï¼Œåœ¨å…¶ä¹‹åä¼šè‡ªåŠ¨æ·»åŠ é¢„è§ˆç‚¹å‡»ä¼šå±•å¼€ç›¸å…³å†…å®¹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">http://&#123;url_of_the_fiddle&#125;/embedded/[&#123;tabs&#125;/[&#123;style&#125;]]/</div><div class="line">https://gist.github.com/&#123;gist_id&#125;</div><div class="line">http://runjs.cn/detail/&#123;id&#125;</div><div class="line">http://v.youku.com/v_show/id_&#123;video_id&#125;.html</div></pre></td></tr></table></figure></p>
<h2 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h2><p>å½“ä½ éœ€è¦åœ¨ç¼–è¾‘å™¨ä¸­æ’å…¥æ•°å­¦å…¬å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç¾å…ƒç¬¦ $$ åŒ…è£¹ TeX æˆ– LaTeX æ ¼å¼çš„æ•°å­¦å…¬å¼æ¥å®ç°ã€‚æäº¤åï¼Œé—®ç­”å’Œæ–‡ç« é¡µä¼šæ ¹æ®éœ€è¦åŠ è½½ Mathjax å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ã€‚å¦‚ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$$ x = &#123;-b \pm \sqrt&#123;b^2-4ac&#125; \over 2a&#125;. $$</div><div class="line"></div><div class="line">$$</div><div class="line">x \href&#123;why-equal.html&#125;&#123;=&#125; y^2 + 1</div><div class="line">$$</div></pre></td></tr></table></figure></p>
<p>åŒæ—¶ä¹Ÿæ”¯æŒ HTML å±æ€§ï¼Œå¦‚ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$$ (x+1)^2 = \class&#123;hidden&#125;&#123;(x+1)(x+1)&#125; $$</div><div class="line"></div><div class="line">$$</div><div class="line">(x+1)^2 = \cssId&#123;step1&#125;&#123;\style&#123;visibility:hidden&#125;&#123;(x+1)(x+1)&#125;&#125;</div><div class="line">$$</div></pre></td></tr></table></figure></p>
<h1 id="MarkDownç»ƒä¹ "><a href="#MarkDownç»ƒä¹ " class="headerlink" title="MarkDownç»ƒä¹ "></a>MarkDownç»ƒä¹ </h1><h1 id="å¤´éƒ¨"><a href="#å¤´éƒ¨" class="headerlink" title="å¤´éƒ¨"></a>å¤´éƒ¨</h1><h2 id="å¤´éƒ¨-1"><a href="#å¤´éƒ¨-1" class="headerlink" title="å¤´éƒ¨"></a>å¤´éƒ¨</h2><h2 id="åˆ—è¡¨-1"><a href="#åˆ—è¡¨-1" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><ul>
<li>Candy.</li>
<li>Gum.</li>
<li>Booze.</li>
</ul>
<ul>
<li>Candy.</li>
<li>Gum.</li>
<li>Booze</li>
</ul>
<ul>
<li>Candy.</li>
<li>Gum.</li>
<li>Booze.</li>
</ul>
<ol>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ol>
<ol>
<li>Bird</li>
<li>McHale</li>
<li>Parish</li>
</ol>
<h2 id="ä»£ç ç‰‡æ®µ"><a href="#ä»£ç ç‰‡æ®µ" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h2><h3 id="ä¸æŒ‡å®šè¯­è¨€"><a href="#ä¸æŒ‡å®šè¯­è¨€" class="headerlink" title="ä¸æŒ‡å®šè¯­è¨€"></a>ä¸æŒ‡å®šè¯­è¨€</h3><p><code>java code</code></p>
<h3 id="æŒ‡å®šè¯­è¨€"><a href="#æŒ‡å®šè¯­è¨€" class="headerlink" title="æŒ‡å®šè¯­è¨€"></a>æŒ‡å®šè¯­è¨€</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    alert(<span class="string">'hello world'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="é“¾æ¥-1"><a href="#é“¾æ¥-1" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p><a href="&quot;www.baidu.com&quot;">baidu</a></p>
<p><a href="http://www.baidu.com/" target="_blank" rel="external">http://www.baidu.com/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">å¸¸ç”¨é“¾æ¥æ–¹æ³•</div><div class="line"></div><div class="line">æ–‡å­—é“¾æ¥ [é“¾æ¥åç§°](http://é“¾æ¥ç½‘å€)</div><div class="line">ç½‘å€é“¾æ¥ &lt;http://é“¾æ¥ç½‘å€&gt;</div><div class="line">é«˜çº§é“¾æ¥æŠ€å·§</div><div class="line"></div><div class="line">è¿™ä¸ªé“¾æ¥ç”¨ 1 ä½œä¸ºç½‘å€å˜é‡ [Google][1].</div><div class="line">è¿™ä¸ªé“¾æ¥ç”¨ yahoo ä½œä¸ºç½‘å€å˜é‡ [Yahoo!][yahoo].</div><div class="line">ç„¶ååœ¨æ–‡æ¡£çš„ç»“å°¾ä¸ºå˜é‡èµ‹å€¼ï¼ˆç½‘å€ï¼‰</div><div class="line"></div><div class="line">[1]: http://www.google.com/</div><div class="line">[yahoo]: http://www.yahoo.com/</div></pre></td></tr></table></figure></p>
<h2 id="å›¾ç‰‡-1"><a href="#å›¾ç‰‡-1" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><p><img src="http://www.86ps.com/uploadfiles/jpg/2011-11/2011111414003220188.jpg" alt="alt text" title="Title"><br><img src="http://www.86ps.com/uploadfiles/jpg/2011-11/2011111414003220188.jpg" width="40%"><br><img src="http://img2.3lian.com/2014/c7/12/d/77.jpg" alt="å›¾ç‰‡åç§°" title="é£æ™¯" width="256" height="256"></p>
<blockquote>
<p>å¼•ç”¨</p>
</blockquote>
<h2 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h2><p><em>æ–œä½“æ–‡æœ¬</em>    <em>æ–œä½“æ–‡æœ¬</em></p>
<p><strong>ç²—ä½“æ–‡æœ¬</strong>    <strong>ç²—ä½“æ–‡æœ¬</strong></p>
<p><strong><em>ç²—æ–œä½“æ–‡æœ¬</em></strong>    <strong><em>ç²—æ–œä½“æ–‡æœ¬</em></strong></p>
<h2 id="è¡¨æ ¼-1"><a href="#è¡¨æ ¼-1" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><table>
<thead>
<tr>
<th>Tables</th>
<th style="text-align:center">Are</th>
<th style="text-align:right">Cool</th>
</tr>
</thead>
<tbody>
<tr>
<td>col 3 is</td>
<td style="text-align:center">right-aligned</td>
<td style="text-align:right">$1600</td>
</tr>
<tr>
<td>col 2 is</td>
<td style="text-align:center">centered</td>
<td style="text-align:right">$12</td>
</tr>
<tr>
<td>zebra stripes</td>
<td style="text-align:center">are neat</td>
<td style="text-align:right">$1</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>dog</th>
<th>bird</th>
<th>cat</th>
</tr>
</thead>
<tbody>
<tr>
<td>foo</td>
<td>foo</td>
<td>foo</td>
</tr>
<tr>
<td>bar</td>
<td>bar</td>
<td>bar</td>
</tr>
<tr>
<td>baz</td>
<td>baz</td>
<td>baz</td>
</tr>
</tbody>
</table>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MarkDownåŸºç¡€è¯­æ³•å­¦ä¹ ä¸ç»ƒä¹ &lt;br&gt;
    
    </summary>
    
      <category term="MarkDown" scheme="http://cokernut.top/categories/MarkDown/"/>
    
    
      <category term="MarkDown" scheme="http://cokernut.top/tags/MarkDown/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Pelican+GitHub Pagesæ­å»ºé™æ€åšå®¢</title>
    <link href="http://cokernut.top/2016/09/09/Note/%E4%BD%BF%E7%94%A8Pelican+GitHub%20Pages%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    <id>http://cokernut.top/2016/09/09/Note/ä½¿ç”¨Pelican+GitHub Pagesæ­å»ºé™æ€åšå®¢/</id>
    <published>2016-09-08T16:00:00.000Z</published>
    <updated>2016-11-28T09:59:34.363Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨Pelican+GitHub Pagesæ­å»ºé™æ€åšå®¢<br><a id="more"></a></p>
<h2 id="Pelicanä»‹ç»"><a href="#Pelicanä»‹ç»" class="headerlink" title="Pelicanä»‹ç»"></a>Pelicanä»‹ç»</h2><p>ä»€ä¹ˆæ˜¯Pelican</p>
<p>Perlican æ˜¯ç”¨Pythonå®ç°çš„ä¸€ä¸ªé™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œæ”¯æŒ reStructuredText æˆ– Markdown ã€‚å®ƒæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>åšå®¢æ–‡ç« å’Œé™æ€ç½‘é¡µ</li>
<li>æ”¯æŒè¯„è®ºã€‚è¯„è®ºæ˜¯é€šè¿‡ç¬¬ä¸‰æ–¹æœåŠ¡ Disqus æ”¯æŒçš„ã€‚å³è¯„è®ºæ•°æ®ä¿å­˜åœ¨ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ä¸Š</li>
<li>ä¸»é¢˜æ”¯æŒ</li>
<li>æŠŠåšå®¢æ–‡ç« ç”ŸæˆPDFæ ¼å¼æ–‡æ¡£</li>
<li>å¤šè¯­è¨€åšå®¢æ”¯æŒï¼Œå¦‚å¯ä»¥ç”¨è‹±æ–‡å’Œä¸­æ–‡å†™åŒä¸€ç¯‡åšå®¢ã€‚ä¸åŒè¯­è¨€è®¿é—®è€…è®¿é—®ç›¸åº”è¯­è¨€çš„åšæ–‡</li>
<li>æ”¯æŒAtom/RSSè®¢é˜…</li>
<li>åšæ–‡ä¸­ä»£ç é«˜äº®æ”¯æŒ</li>
<li>åšå®¢æ¬å®¶æ”¯æŒ(WordPress, Dotclear, æˆ–RSS feeds)</li>
<li>æ”¯æŒæ’ä»¶ï¼Œå¦‚Twiter, Google Analyticsç­‰</li>
</ul>
<h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©Pelican"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©Pelican" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©Pelican"></a>ä¸ºä»€ä¹ˆé€‰æ‹©Pelican</h2><p>é¦–å…ˆæ’é™¤æ‰WordPressä¹‹ç±»çš„CMSç³»ç»Ÿã€‚å› ä¸ºæˆ‘ä¸æƒ³è¦æ•°æ®åº“ï¼Œæˆ‘åªéœ€è¦ä¸€ä¸ªè½»é‡çº§çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ã€‚æˆ‘çš„åšå®¢ä½¿ç”¨Markdownç¼–å†™ï¼Œä¸”ä¿å­˜åœ¨GitHubä¸Šã€‚æˆ‘æƒ³è¦çš„ï¼Œåªæ˜¯ç”¨Markdownå†™å®Œåšå®¢ä¹‹åï¼Œgit commit + git pushå³å¯ç›´æ¥å‘å¸ƒåˆ°åšå®¢ç½‘ç«™ä¸Šã€‚</p>
<p>é€‰æ‹©Pelicanæ˜¯åŸºäºå¦‚ä¸‹åŸå› ï¼š<br>ä½¿ç”¨Pythonå®ç°ã€‚ç”±äºæœ€è¿‘åœ¨å­¦ä¹ Pythonï¼Œæˆ‘å¯ä»¥é˜…è¯»æºç å¹¶æŒ‰ç…§æˆ‘çš„éœ€æ±‚æ¥æ”¹é€ Pelicanä½¿ä¹‹å®Œå…¨ç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚ä¸‹æ¬¡å­¦ä¹ Rubyï¼Œç”¨ jekyll å†æŠ˜è…¾ä¸€éã€‚å› ä¸ºJekyllæ˜¯ç”¨Rubyå®ç°çš„ã€‚ä¸”GitHub Pagesçš„åå°å°±æ˜¯ç”¨Jekyllï¼Œåˆ°æ—¶å¯ç›´æ¥ç”¨GitHub Pageså®ç°ä¸ªäººåšå®¢ã€‚<br>è¶³å¤Ÿè½»é‡çº§ã€‚æ€»çš„ä»£ç é‡æ‰1MBå¤šã€‚å®‰è£…ä¹Ÿæ–¹ä¾¿ã€‚<br>æœ‰ä¸€å †ç°æˆçš„ä¸»é¢˜å¯ä»¥ä½¿ç”¨ã€‚è¿™å¯¹æˆ‘è¿™ç§éä¸“ä¸šå‰ç«¯çš„å¼€å‘è€…æ¥è¯´ï¼Œçœäº†ä¸å°‘äº‹ã€‚<br>æ–‡æ¡£é½å…¨ã€‚<br>å¼€å‘æ´»åŠ¨æ´»è·ƒã€‚GitHubä¸Šä»£ç æäº¤æ´»è·ƒã€‚ä¸Šé¢æ–‡ç« é‡Œä»‹ç»çš„å¾ˆå¤šåšå®¢ç³»ç»ŸåŸºæœ¬ä¸Šéƒ½2+å¹´å‰å°±åœæ­¢æ›´æ–°äº†ã€‚<br>æœ€åä¸¤ç‚¹å¯¹ä½¿ç”¨ä»»ä½•å¼€æºå·¥å…·æ¥è¯´éƒ½æ˜¯å¾ˆé‡è¦çš„ï¼Œåªæœ‰å¼€å‘æ´»è·ƒï¼Œç¤¾åŒºèµ„æºå¤šï¼Œæ–‡æ¡£é½å…¨ï¼Œé‡åˆ°é—®é¢˜çš„æ—¶å€™æ‰èƒ½è¾ƒå¿«åœ°å¾—åˆ°è§£å†³ã€‚</p>
<h2 id="Pelicanå®‰è£…ä¸é…ç½®"><a href="#Pelicanå®‰è£…ä¸é…ç½®" class="headerlink" title="Pelicanå®‰è£…ä¸é…ç½®"></a>Pelicanå®‰è£…ä¸é…ç½®</h2><p>å®‰è£…Pelicanå¹¶åˆ›å»ºé¡¹ç›®</p>
<p>è¯¦ç»†çš„ä¿¡æ¯å¯ä»¥å‚é˜… Pelicanå®˜æ–¹æ–‡æ¡£ ã€‚å‡è®¾ç”µè„‘ä¸Šå·²ç»å®‰è£…Pythonå’Œpipã€‚é¦–å…ˆï¼Œé€šè¿‡pipå®‰è£…pelicanå’Œmarkdownï¼š</p>
<p>pip install pelican markdown<br>ç„¶ååˆ›å»ºä½ çš„åšå®¢é¡¹ç›®ï¼š</p>
<p>mkdir ~/blogs<br>cd ~/blogs<br>pelican-quickstart<br>åœ¨è¿è¡Œpelican-quickstartæ—¶ï¼Œç³»ç»Ÿä¼šé—®ä¸€ç³»åˆ—é—®é¢˜ï¼Œæ¯”å¦‚ä½ çš„åšå®¢ç½‘å€å•Šï¼Œä½œè€…åå­—å•Šä¹‹ç±»çš„ï¼Œæ ¹æ®çœŸå®æƒ…å†µå¡«å†™å³å¯ï¼Œè¿™äº›é—®é¢˜åªæ˜¯ç”¨æ¥ç”Ÿæˆé…ç½®æ–‡ä»¶çš„ï¼Œæˆ‘ä»¬åé¢éƒ½å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥æ‰‹åŠ¨ä¿®æ”¹è¿™äº›è®¾ç½®ã€‚æˆ‘å¡«å†™çš„å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">Cokernut@Cokernut-laptop:~/lab/blogs$ pelican-quickstart</div><div class="line">Welcome to pelican-quickstart v3.4.0.</div><div class="line"></div><div class="line">This script will help you create a new Pelican-based website.</div><div class="line"></div><div class="line">Please answer the following questions so this script can generate the files</div><div class="line">needed by Pelican.</div><div class="line"></div><div class="line">&gt; Where do you want to create your new web site? [.]</div><div class="line">&gt; What will be the title of this web site? Cokernut</div><div class="line">&gt; Who will be the author of this web site? Cokernut</div><div class="line">&gt; What will be the default language of this web site? [en]</div><div class="line">&gt; Do you want to specify a URL prefix? e.g., http://example.com   (Y/n)</div><div class="line">&gt; What is your URL prefix? (see above example; no trailing slash) http://cokernut.top</div><div class="line">&gt; Do you want to enable article pagination? (Y/n) Y</div><div class="line">&gt; How many articles per page do you want? [10]</div><div class="line">&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n) Y</div><div class="line">&gt; Do you want an auto-reload &amp; simpleHTTP script to assist with theme and site development? (Y/n)</div><div class="line">&gt; Do you want to upload your website using FTP? (y/N) N</div><div class="line">&gt; Do you want to upload your website using SSH? (y/N) y</div><div class="line">&gt; What is the hostname of your SSH server? [localhost]/cokernut.top</div><div class="line">&gt; What is the port of your SSH server? [22]</div><div class="line">&gt; What is your username on that server? [root] file</div><div class="line">&gt; Where do you want to put your web site on that server? [/var/www] /home/file/blogs</div><div class="line">&gt; Do you want to upload your website using Dropbox? (y/N) N</div><div class="line">&gt; Do you want to upload your website using S3? (y/N) N</div><div class="line">&gt; Do you want to upload your website using Rackspace Cloud Files? (y/N) N</div><div class="line">&gt; Do you want to upload your website using GitHub Pages? (y/N) N</div><div class="line">Done. Your new project is available at /home/Cokernut/blogs</div></pre></td></tr></table></figure></p>
<p>å…¶ä¸­ç¬¬14è¡Œçš„ <a href="http://cokernut.top">http://cokernut.top</a> ä»¥åŠç¬¬21è¡Œçš„cokernut.top æ˜¯æˆ‘çš„åŸŸåï¼Œå¦‚æœä½ åªæ˜¯åœ¨æœ¬æœºè¯•éªŒï¼Œå¯ä»¥å¡«localhostã€‚åˆ›å»ºå®Œé¡¹ç›®åï¼Œç›®å½•ä¸‹çœ‹èµ·æ¥è±¡è¿™æ ·ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Cokernut@Cokernut-laptop:~/lab/blogs$ tree</div><div class="line">.</div><div class="line">â”œâ”€â”€ content     # è¿™ä¸ªå°±æ˜¯æ”¾åšå®¢å†…å®¹ç›®å½•ï¼Œè¿™ä¸ªç›®å½•åŠå­ç›®å½•ä¸‹çš„æ‰€æœ‰mdå’Œrstæ–‡ä»¶å°†ä¼šè¢«è½¬æˆhtmlæ–‡ä»¶</div><div class="line">â”œâ”€â”€ develop_server.sh   #è¿™ä¸ªæ˜¯ç”¨æ¥åœ¨æœ¬åœ°è¿è¡Œä¸€ä¸ªæœåŠ¡å™¨æ¥å®æ—¶æŸ¥çœ‹ç”Ÿæˆçš„htmlæ–‡æ¡£çš„è„šæœ¬</div><div class="line">â”œâ”€â”€ fabfile.py  # è¿™ä¸ªæ˜¯ä½¿ç”¨Pythonçš„fabricæ¥å®ç°æ–‡ä»¶ä¸Šä¼ çš„å·¥å…·ï¼Œå³Deployå·¥å…·</div><div class="line">â”œâ”€â”€ Makefile    # è¿™ä¸ªæ˜¯ä½¿ç”¨æ˜¯ç”¨æ¥ç”Ÿæˆç½‘ç«™å†…å®¹å¹¶ä¸Šä¼ çš„å·¥å…·ã€‚åæ–‡è¯¦ç»†è§£é‡Š</div><div class="line">â”œâ”€â”€ output      # è¿™ä¸ªæ˜¯ä»contentç›®å½•ç”Ÿæˆçš„htmlç›®æ ‡æ–‡ä»¶çš„å­˜æ”¾ç›®å½•</div><div class="line">â”œâ”€â”€ pelicanconf.py      # è¿™ä¸ªæ˜¯æœ¬åœ°å¼€å‘æ—¶çš„é…ç½®æ–‡ä»¶</div><div class="line">â””â”€â”€ publishconf.py      # è¿™ä¸ªæ˜¯å‘å¸ƒæ—¶çš„é…ç½®æ–‡ä»¶</div></pre></td></tr></table></figure></p>
<p>2 directories, 5 files<br>é…ç½®pelicanconf.pyå’Œpublishconf.py</p>
<p>Pelicançš„é…ç½®æ–‡ä»¶æ˜¯ç›´æ¥ç”¨Pythonå†™çš„ï¼Œæˆ‘æœ¬åœ°å¼€å‘é…ç½®æ–‡ä»¶ pelicanconf.py å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*- #</span></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</div><div class="line">AUTHOR = <span class="string">u'Cokernut'</span></div><div class="line">SITENAME = <span class="string">u"cokernut.top"</span></div><div class="line">SITEURL = <span class="string">'http://localhost'</span></div><div class="line">DISQUS_SITENAME = <span class="string">'Cokernut'</span></div><div class="line">PATH = <span class="string">'content'</span></div><div class="line">TIMEZONE = <span class="string">'Asia/Shanghai'</span></div><div class="line">DEFAULT_LANG = <span class="string">u'zh_CN'</span></div><div class="line">DEFAULT_DATE_FORMAT = (<span class="string">'%Y-%m-%d(%A) %H:%M'</span>)</div><div class="line">USE_FOLDER_AS_CATEGORY = <span class="keyword">True</span></div><div class="line">DEFAULT_CATEGORY = <span class="string">'hide'</span></div><div class="line"><span class="comment"># Feed generation is usually not desired when developing</span></div><div class="line">FEED_ATOM = <span class="string">'feeds/atom.xml'</span></div><div class="line">FEED_RSS = <span class="string">'feeds/rss.xml'</span></div><div class="line">FEED_ALL_ATOM = <span class="keyword">None</span></div><div class="line">FEED_ALL_RSS = <span class="keyword">None</span></div><div class="line">CATEGORY_FEED_ATOM = <span class="keyword">None</span></div><div class="line">TRANSLATION_FEED_ATOM = <span class="keyword">None</span></div><div class="line"><span class="comment"># menu items</span></div><div class="line">MENUITEMS = [(<span class="string">'Home'</span>, SITEURL),</div><div class="line">      (<span class="string">'About'</span>, <span class="string">'about.html'</span>),]</div><div class="line">DEFAULT_PAGINATION = <span class="number">10</span></div><div class="line">MD_EXTENSIONS = [</div><div class="line">  <span class="string">"extra"</span>,</div><div class="line">  <span class="string">"toc"</span>,</div><div class="line">  <span class="string">"headerid"</span>,</div><div class="line">  <span class="string">"meta"</span>,</div><div class="line">  <span class="string">"sane_lists"</span>,</div><div class="line">  <span class="string">"smarty"</span>,</div><div class="line">  <span class="string">"wikilinks"</span>,</div><div class="line">  <span class="string">"admonition"</span>,</div><div class="line">  <span class="string">"codehilite(guess_lang=False,pygments_style=emacs,noclasses=True)"</span>]</div><div class="line">CNZZ_ANALYTICS = <span class="keyword">True</span></div><div class="line">MONTH_ARCHIVE_SAVE_AS = <span class="string">'posts/&#123;date:%Y&#125;/&#123;date:%m&#125;/index.html'</span></div><div class="line">THEME = <span class="string">"themes/foundation-default-colours"</span></div></pre></td></tr></table></figure></p>
<p>ç¬¬6è¡Œçš„SITENAMEæ˜¯åšå®¢ç½‘ç«™çš„åç§°ï¼Œå¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦ï¼›ç¬¬7è¡Œæ˜¯åšå®¢ç½‘ç«™çš„ç½‘å€ï¼Œè¿™ä¸ªå­—æ®µåœ¨æœ¬åœ°å¼€å‘å’Œå‘å¸ƒç‰ˆæœ¬æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ¬åœ°ç›´æ¥å¡«localhostå³å¯ï¼Œå‘å¸ƒç‰ˆæœ¬é‡Œéœ€è¦å¡«åšå®¢ç½‘å€ã€‚<br>ç¬¬8è¡Œï¼šæˆ‘ä½¿ç”¨äº†Disqusä½œä¸ºæˆ‘çš„è¯„è®ºç³»ç»Ÿï¼ŒDisqusä¹Ÿæ˜¯ YC æ¯•ä¸šç”Ÿã€‚å¯ç”¨Disqusè¯„è®ºç³»ç»Ÿéå¸¸ç®€å•ï¼Œåœ¨å®˜ç½‘ä¸Šæ³¨å†Œä¸€ä¸ªDisquså¸æˆ·ï¼Œç„¶åæŠŠå¸æˆ·åå¡«åœ¨ DISQUS_SITENAME å€¼é‡Œå³å¯å¯ç”¨ã€‚æˆ‘çš„Disquså¸å·åˆšå¥½ä¹Ÿæ˜¯ Cokernut ã€‚<br>ç¬¬33ï¼42è¡Œï¼šè¿™é‡Œæ˜¯é…ç½®Markdownæ‰©å±•ï¼Œç”¨æ¥æ”¯æŒä»£ç é«˜äº®ã€‚å¹¶ä¸”ä½¿ç”¨Emacsé£æ ¼çš„ä»£ç é«˜äº®ã€‚<br>ç¬¬44è¡Œï¼šç”±äºGFWçš„å­˜åœ¨ï¼Œæˆ‘æŠŠGoogle Analizeæ¢æˆäº†å›½å†…çš„CNZZç»Ÿè®¡ã€‚<br>ç¬¬46è¡Œï¼šæˆ‘çš„åšå®¢ä½¿ç”¨äº† foundation-default-colours è¿™å¥—ä¸»é¢˜ã€‚å…³äºä¸»é¢˜ï¼Œåæ–‡è¯¦è§£ã€‚<br>å¼€å‘ç¯å¢ƒå’Œå‘å¸ƒç¯å¢ƒçš„é…ç½®å·®ä¸å¤šï¼Œé™¤SITEURLä¸ä¸€æ ·å¤–ï¼Œè¿˜å¤šäº†ä¸¤ä¸ªé…ç½®ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SITEURL = &apos;http://cokernut.top&apos;</div><div class="line"># usful setting for publish</div><div class="line">RELATIVE_URLS = False   # ç¦ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨</div><div class="line">DELETE_OUTPUT_DIRECTORY = True      # ç¼–è¯‘ä¹‹å‰åˆ é™¤outputç›®å½•ï¼Œè¿™æ ·ä¿è¯outputä¸‹ç”Ÿæˆçš„å†…å®¹æ˜¯å¹²å‡€çš„</div><div class="line">å…¶å®ƒçš„é…ç½®é¡¹ï¼Œå¯ä»¥å‚é˜… Pelicanè®¾ç½®æ–‡æ¡£ ã€‚</div></pre></td></tr></table></figure></p>
<h3 id="é…ç½®Makefile"><a href="#é…ç½®Makefile" class="headerlink" title="é…ç½®Makefile"></a>é…ç½®Makefile</h3><p>æ’°å†™å®Œåšå®¢ï¼Œå¹¶åœ¨æœ¬åœ°é¢„è§ˆåï¼Œéœ€è¦å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šã€‚æˆ‘ä½¿ç”¨Makefileçš„å½¢å¼æ¥ç”Ÿæˆæ–‡æ¡£å¹¶å‘å¸ƒã€‚æˆ‘çš„Makefileæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">#!/makefile</div><div class="line">SSH_HOST/cokernut.top</div><div class="line">SSH_PORT=22</div><div class="line">SSH_USER=ubuntu</div><div class="line">SSH_TARGET_DIR=/home/ubuntu/blogs/</div><div class="line">SSH_KEY=/home/Cokernut/work/aws/Cokernut-key-tokyo.pem</div><div class="line"></div><div class="line">rsync_upload: publish</div><div class="line">    rsync -e &quot;ssh -p $(SSH_PORT) -i $(SSH_KEY)&quot; -P -rvzc --delete $(OUTPUTDIR)/ $(SSH_USER)@$(SSH_HOST):$(SSH_TARGET_DIR) --cvs-exclude</div></pre></td></tr></table></figure></p>
<p>ç¬¬2ï¼4è¡Œï¼šæŒ‡å®šäº†è¦ä¸Šä¼ å†…å®¹çš„ç›®çš„æœåŠ¡å™¨çš„åœ°å€ï¼Œç«¯å£ä»¥åŠç”¨æˆ·å<br>ç¬¬5è¡Œï¼šæŒ‡å®šäº†è¿œç¨‹æœåŠ¡å™¨ä¸Šä¿å­˜åšå®¢å†…å®¹çš„ç›®å½•<br>ç¬¬6è¡Œï¼šæˆ‘æ·»åŠ çš„SSH Identityæ–‡ä»¶è·¯å¾„ã€‚è¿™æ˜¯å› ä¸ºAmazon EC2ç™»å½•æ—¶æˆ‘æ˜¯ç”¨SSH Identityæ–‡ä»¶ç™»å½•çš„ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç <br>ç¬¬8-9è¡Œï¼šæˆ‘ä½¿ç”¨rsyncæ¥è¿›è¡Œä¸Šä¼ æ“ä½œã€‚rsyncå¯ä»¥åœ¨æœ¬åœ°å’Œè¿œç¨‹æœåŠ¡å™¨ä¹‹é—´åŒæ­¥æ–‡ä»¶ã€‚åŒæ­¥è¿‡ç¨‹ä¸­åªåŒæ­¥é‚£äº›æ”¹å˜äº†çš„æ–‡ä»¶ï¼Œä¸”ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šå‹ç¼©æ•°æ®ï¼Œå®ƒæ¯”scpè¦æ‰€éœ€è¦çš„å¸¦å®½è¦å°ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨é»˜è®¤ç”Ÿæˆçš„Makefileä¸Šå¢åŠ äº† -i $(SSH_KEY) ï¼Œè¿™ä¸ªå°±æ˜¯æŒ‡å®šSSH Identityæ–‡ä»¶ç™»å½•è¿œç¨‹SSHçš„æ–¹æ³•ã€‚</p>
<h3 id="é…ç½®ä¸»é¢˜"><a href="#é…ç½®ä¸»é¢˜" class="headerlink" title="é…ç½®ä¸»é¢˜"></a>é…ç½®ä¸»é¢˜</h3><p>Pelicanæ”¯æŒå¤§é‡çš„å¼€æºä¸»é¢˜ï¼ŒGitHubä¸Šçš„ pelican-themes é¡¹ç›®æœ‰å‡ åå¥—ä¸»é¢˜ï¼Œå¤§éƒ¨åˆ†éƒ½å¸¦äº†æ•ˆæœé¢„è§ˆå›¾ã€‚å¯ä»¥ä»é‡Œé¢æŒ‘ä¸€ä¸ªä½ å–œæ¬¢çš„ä¸»é¢˜æ ·å¼æ¥ä½¿ç”¨ã€‚è¿˜æœ‰ä¸€ä¸ªæ›´æ–¹ä¾¿çš„æŒ‘é€‰ä¸»é¢˜çš„æ–¹å¼ï¼Œç›´æ¥æ‰“å¼€ www.pelicanthemes.com æŒ‘é€‰å§ã€‚ä¸€ä¸ªç½‘é¡µé‡Œå°±åˆ—å‡ºäº†å‡ ä¹æ‰€æœ‰çš„ä¸»é¢˜ã€‚æˆ‘çš„åšå®¢æ˜¯ä½¿ç”¨ foundation-default-colours ä¸»é¢˜ï¼Œå¹¶åœ¨è¿™å¥—ä¸»é¢˜çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸€äº›å®šåˆ¶ã€‚é€‰å®šå¥½å–œæ¬¢çš„ä¸»é¢˜åï¼Œä»GitHubä¸Šä¸‹è½½ä¸‹æ¥æ‰€æœ‰çš„ä¸»é¢˜ï¼š</p>
<p>mkdir ~/pelican<br>cd ~/pelican<br>git clone <a href="https://github.com/getpelican/pelican-themes.git" target="_blank" rel="external">https://github.com/getpelican/pelican-themes.git</a><br>ä»é‡Œé¢æ‹·è´ä¸€ä»½ä½ é€‰ä¸­çš„ä¸»é¢˜åˆ°é¡¹ç›®æ ¹ç›®å½•çš„ themes ç›®å½•ä¸‹ï¼Œåœ¨æœ¬æ–‡çš„ä¾‹å­ä¸­æ˜¯ ~/lab/blogs/themes ã€‚ç„¶ååœ¨ pelicanconf.py å’Œ publishconf.py é‡Œé€šè¿‡ä¸‹é¢ä»£ç æŒ‡å®šåšå®¢ä¸»é¢˜ï¼š</p>
<p>THEME = â€œthemes/foundation-default-coloursâ€<br>é€šå¸¸çš„åšæ³•æ˜¯ï¼Œé€‰ä¸­ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜åï¼Œä¼šè¿›è¡Œä¸€äº›å®šåˆ¶ã€‚Pelicanä½¿ç”¨ Jinja2 æ¥é…ç½®ä¸»é¢˜ã€‚ä¸€ä¸ªä¸»é¢˜çš„å…¸å‹ç»“æ„å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">â”œâ”€â”€ static</div><div class="line">â”‚   â”œâ”€â”€ css</div><div class="line">â”‚   â””â”€â”€ images</div><div class="line">â””â”€â”€ templates</div><div class="line">  â”œâ”€â”€ analytics_cnzz.html // è¿™ä¸ªæ˜¯æˆ‘æ·»åŠ çš„ä½¿ç”¨cnzzçš„ç»Ÿè®¡æœåŠ¡çš„ä»£ç </div><div class="line">  â”œâ”€â”€ analytics.html    // è¿™æ˜¯Google Analyticsçš„ä»£ç </div><div class="line">  â”œâ”€â”€ archives.html      // è¿™ä¸ªæ˜¯åšå®¢å½’æ¡£é¡µé¢çš„æ¨¡æ¿</div><div class="line">  â”œâ”€â”€ article.html        // è¿™ä¸ªæ˜¯åšå®¢æ­£æ–‡çš„æ˜¾ç¤ºæ¨¡æ¿</div><div class="line">  â”œâ”€â”€ base.html          // è¿™ä¸ªæ˜¯æ‰€æœ‰é¡µé¢çš„çˆ¶ç±»æ¨¡æ¿ï¼Œå³æ‰€æœ‰é¡µé¢éƒ½å¼•ç”¨è¿™ä¸ªé¡µé¢ã€‚æ¯”å¦‚ç½‘é¡µå¯¼èˆªæ å•Šä¹‹ç±»çš„ï¼Œéƒ½å®šä¹‰åœ¨è¿™é‡Œ</div><div class="line">  â”œâ”€â”€ categories.html  // æ‰€æœ‰åšå®¢æ–‡ç« çš„åˆ†ç±»åˆ—è¡¨</div><div class="line">  â”œâ”€â”€ category.html      // æŸä¸ªåšå®¢åˆ†ç±»çš„æ–‡ç« åˆ—è¡¨æ¨¡æ¿</div><div class="line">  â”œâ”€â”€ index.html        // ä¸»é¡µ</div><div class="line">  â”œâ”€â”€ page.html          // åˆ†é¡µæ˜¾ç¤ºçš„æ¨¡æ¿</div><div class="line">  â”œâ”€â”€ tag.html            // æŸç±»æ ‡ç­¾ä¸‹çš„æ–‡ç« åˆ—è¡¨</div><div class="line">  â””â”€â”€ tags.html          // æ‰€æœ‰çš„æ ‡ç­¾åˆ—è¡¨é¡µé¢æ¨¡æ¿</div></pre></td></tr></table></figure></p>
<p>ç¨å¾®æœ‰ç‚¹Jinjaçš„çŸ¥è¯†åŠ ä¸Šä¸€äº›HTMLå’ŒCSSçš„çŸ¥è¯†ï¼Œå°±å¯ä»¥è‡ªå·±å®šä¹‰ä¸»é¢˜äº†ã€‚</p>
<p>ä¸ºä»€ä¹ˆåšå®¢ä¸»é¡µæ‰“å¼€åŠå¤©éƒ½ä¸æ˜¾ç¤ºå‡ºæ¥</p>
<p>å› ä¸ºGFWå°é”äº†å‡ ä¹æ‰€æœ‰å’ŒGoogleç›¸å…³çš„ç½‘ç«™ï¼Œè¿™äº›ä¸»é¢˜é‡Œåˆç”¨äº†Googleçš„å­—ä½“ï¼Œæ‰€ä»¥ä¸‹è½½è¿™äº›å­—ä½“æ—¶ä¼šå¯¼è‡´æ— æ³•ä¸‹è½½æˆåŠŸè€ŒåŠå¤©ä¸æ˜¾ç¤ºç½‘é¡µã€‚è§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼Œç›´æ¥ä¿®æ”¹cssæ–‡ä»¶ï¼Œä¸å»ä¸‹è½½Googleå­—ä½“å³å¯ã€‚æ¯”å¦‚é’ˆå¯¹ foundation-default-colours ä¸»é¢˜ï¼Œæ‰“å¼€ä¸»é¢˜æ ¹ç›®å½•ä¸‹çš„ static/css/foundation.css å’Œ static/css/foundation.min.css æ–‡ä»¶ï¼Œåˆ é™¤æ‰ @import url(â€œ//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,700â€); å†…å®¹å³å¯ã€‚å½“ç„¶ï¼Œå¦‚æœä½ å’Œä½ çš„è¯»è€…éƒ½æ˜¯ç¿»å¢™é«˜æ‰‹ï¼Œé‚£å°±ä¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜äº†ã€‚</p>
<p>ä¸‹è½½é£æ ¼åŒ…pelican-themesä¸æ’ä»¶åŒ…pelican-plugins</p>
<blockquote>
<p>git clone git://github.com/getpelican/pelican-themes.git</p>
<p>git clone git://github.com/getpelican/pelican-plugins.git</p>
</blockquote>
<ol>
<li><p>é…ç½®pelicanconf.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*- #</span></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</div><div class="line"></div><div class="line"><span class="comment"># Site settings</span></div><div class="line">AUTHOR = <span class="string">u'Cokernut'</span></div><div class="line">AUTHOR_EMAIL = <span class="string">u'Cokernut@foxmail.com'</span></div><div class="line">SITENAME = <span class="string">u'Cokernut'</span></div><div class="line">TAGLINE = <span class="string">'Whatever is worth doing is worth doing well.'</span></div><div class="line">SITEURL = <span class="string">'http://Cokernut.github.io'</span></div><div class="line">DEFAULT_DATE_FORMAT = (<span class="string">'%Y-%m-%d'</span>)</div><div class="line"></div><div class="line">TIMEZONE = <span class="string">'Asia/Shanghai'</span></div><div class="line"></div><div class="line">DEFAULT_LANG = <span class="string">u'zh'</span></div><div class="line">DEFAULT_METADATA = (</div><div class="line">)</div><div class="line"></div><div class="line">DELETE_OUTPUT_DIRECTORY = <span class="keyword">False</span></div><div class="line"></div><div class="line"><span class="comment"># Blogroll</span></div><div class="line">LINKS = (</div><div class="line">  (<span class="string">'HeyLinux'</span>, <span class="string">'http://heylinux.com'</span>),</div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment"># Social widget</span></div><div class="line">SOCIAL = (</div><div class="line">  (<span class="string">'Github'</span>, <span class="string">'http://github.com/Cokernut/...'</span>),</div><div class="line">  (<span class="string">'Twitter'</span>, <span class="string">'http://twitter.com/...'</span>),</div><div class="line">)</div><div class="line"></div><div class="line">MENUITEMS = (</div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment"># Disqus</span></div><div class="line">DISQUS_SITENAME = <span class="string">u"Cokernut"</span></div><div class="line"></div><div class="line"><span class="comment"># Content path</span></div><div class="line">PATH = <span class="string">'content'</span></div><div class="line">PAGE_PATHS = [<span class="string">'pages'</span>]</div><div class="line">ARTICLE_PATHS = [<span class="string">'articles'</span>]</div><div class="line">STATIC_PATHS = [<span class="string">'images'</span>, <span class="string">'files'</span>]</div><div class="line">EXTRA_PATH_METADATA = &#123;</div><div class="line">  <span class="string">'files/robots.txt'</span>: &#123;<span class="string">'path'</span>: <span class="string">'robots.txt'</span>&#125;,</div><div class="line">  <span class="string">'images/favicon.ico'</span>: &#123;<span class="string">'path'</span>: <span class="string">'favicon.ico'</span>&#125;,</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># URL settings</span></div><div class="line">PAGINATION_PATTERNS = (</div><div class="line">  (<span class="number">1</span>, <span class="string">'&#123;base_name&#125;/'</span>, <span class="string">'&#123;base_name&#125;/index.html'</span>),</div><div class="line">  (<span class="number">2</span>, <span class="string">'&#123;base_name&#125;/page/'</span>, <span class="string">'&#123;base_name&#125;/page/&#123;number&#125;.html'</span>),</div><div class="line">)</div><div class="line">ARTICLE_URL = (<span class="string">'articles/&#123;slug&#125;.html'</span>)</div><div class="line">ARTICLE_SAVE_AS = (<span class="string">'articles/&#123;slug&#125;.html'</span>)</div><div class="line">PAGE_LANG_SAVE_AS = <span class="keyword">False</span></div><div class="line"></div><div class="line"><span class="comment"># Feed</span></div><div class="line">FEED_DOMAIN = SITEURL</div><div class="line">FEED_ALL_ATOM = <span class="string">'feeds/all.atom.xml'</span></div><div class="line">CATEGORY_FEED_ATOM = <span class="string">'feeds/%s.atom.xml'</span></div><div class="line">TRANSLATION_FEED_ATOM = <span class="keyword">None</span></div><div class="line"></div><div class="line"><span class="comment"># Theme</span></div><div class="line">THEME = <span class="string">'pelican-themes/zurb-F5-basic'</span></div><div class="line">COVER_BG_COLOR = <span class="string">'#375152'</span></div><div class="line">DEFAULT_PAGINATION = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="comment"># Plugin</span></div><div class="line">PLUGIN_PATHS = [<span class="string">'pelican-plugins'</span>]</div><div class="line">PLUGINS = [ <span class="string">'sitemap'</span>, <span class="string">'gravatar'</span> ]</div><div class="line"></div><div class="line"><span class="comment"># Sitemap</span></div><div class="line">SITEMAP = &#123;</div><div class="line">  <span class="string">'format'</span>: <span class="string">'xml'</span>,</div><div class="line">  <span class="string">'priorities'</span>: &#123;</div><div class="line">    <span class="string">'articles'</span>: <span class="number">1</span>,</div><div class="line">    <span class="string">'pages'</span>: <span class="number">0.9</span>,</div><div class="line">    <span class="string">'indexes'</span>: <span class="number">0.8</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="string">'changefreqs'</span>: &#123;</div><div class="line">    <span class="string">'indexes'</span>: <span class="string">'daily'</span>,</div><div class="line">    <span class="string">'articles'</span>: <span class="string">'daily'</span>,</div><div class="line">    <span class="string">'pages'</span>: <span class="string">'weekly'</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># Can be useful in development, but set to False when you're ready to publish</span></div><div class="line">RELATIVE_URLS = <span class="keyword">False</span></div></pre></td></tr></table></figure>
</li>
<li><p>é…ç½® publishconf.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*- #</span></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</div><div class="line"></div><div class="line"><span class="comment"># This file is only used if you use `make publish` or</span></div><div class="line"><span class="comment"># explicitly specify it as your config file.</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> sys</div><div class="line">sys.path.append(os.curdir)</div><div class="line"><span class="keyword">from</span> pelicanconf <span class="keyword">import</span> *</div><div class="line"></div><div class="line">SITEURL = <span class="string">'http://Cokernut.github.io'</span></div><div class="line">RELATIVE_URLS = <span class="keyword">False</span></div><div class="line"></div><div class="line">FEED_ALL_ATOM = <span class="string">'feeds/all.atom.xml'</span></div><div class="line">CATEGORY_FEED_ATOM = <span class="string">'feeds/%s.atom.xml'</span></div><div class="line"></div><div class="line">DELETE_OUTPUT_DIRECTORY = <span class="keyword">True</span></div><div class="line"></div><div class="line"><span class="comment"># Following items are often useful when publishing</span></div><div class="line"></div><div class="line">DISQUS_SITENAME = <span class="string">u"Cokernut"</span></div><div class="line"><span class="comment">#GOOGLE_ANALYTICS = ""</span></div></pre></td></tr></table></figure>
</li>
<li><p>æ’°å†™ç¬¬ä¸€ç¯‡æ–‡ç« </p>
</li>
</ol>
<blockquote>
<p>cd content</p>
<p>mkdir articles files images pages</p>
<p>vim articles/hello.md<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">Title: Hello</div><div class="line">Date: 2014-09-24 02:06</div><div class="line">Category: Uncategorized</div><div class="line">Tags: Pelican, Markdown</div><div class="line">Slug: hello</div><div class="line">Author: Cokernut</div><div class="line">Summary: Hello Pelican, Markdown and GitHub Pages.</div><div class="line">Status: draft</div><div class="line"></div><div class="line"><span class="section">## è¯´æ˜</span></div><div class="line">ç¬¬5è¡Œï¼šSlugæ˜¯æ–‡æ¡£çš„å”¯ä¸€æ ‡è¯†ï¼Œç”Ÿæˆhtmlæ—¶ï¼Œä¼šç›´æ¥ä½¿ç”¨è¿™ä¸ªå€¼å½“htmlçš„æ–‡ä»¶åã€‚</div><div class="line">æ‰€ä»¥ï¼Œä¸åŒåšå®¢æ–‡ç« è¿™ä¸ªå€¼éœ€è¦ä¿è¯å”¯ä¸€æ€§ï¼Œå¦åˆ™ç”Ÿæˆhtmlæ—¶ä¼šæŠ¥é”™ã€‚</div><div class="line">ç¬¬8è¡Œï¼šè¿™ä¸ªè¡¨ç¤ºæœ¬æ–‡æ˜¯è‰ç¨¿ã€‚æ¯”å¦‚æˆ‘ä»¬ä¸€ç¯‡åšå®¢ç»å¸¸ä¸æ˜¯ä¸€æ¬¡æ€§å†™å®Œçš„ï¼Œ</div><div class="line">å†™äº†ä¸€åŠæš‚ä¸æƒ³è®©è¯»è€…çœ‹åˆ°ï¼Œæˆ–è€…å†™å®Œæƒ³è®©åˆ«äººå¸®å¿™å®¡æŸ¥ä¸€ä¸‹ï¼Œå°±å¯ä»¥åŠ è¿™ä¸€è¡Œæ ‡è¯†ã€‚</div><div class="line">è¿™æ ·Pelicanåœ¨å¤„ç†æ—¶ï¼Œè¿™ç¯‡æ–‡ç« ä¹Ÿä¼šç”Ÿæˆhtmlï¼Œä½†ä¸ä¼šæ”¾åœ¨åšå®¢çš„ä¸»é¡µåŠåˆ†ç±»ç´¢å¼•é‡Œï¼Œ</div><div class="line">è¿™æ ·æ™®é€šçš„è¯»è€…ä¸€èˆ¬çœ‹ä¸åˆ°è¿™ä¸ªæ–‡ç« ã€‚æœ‰è¿™ä¸ªæ ‡è¯†çš„æ–‡ç« ç”Ÿæˆæ—¶æ”¾åœ¨ output/drafts ç›®å½•ä¸‹ï¼Œ</div><div class="line">ä½ å°±å¯ä»¥é€šè¿‡åˆ†äº«urlçš„æ–¹å¼è®©ä½ çš„co-workerå¸®ä½ reviewä½ çš„æ–‡ç« ã€‚</div><div class="line">æˆ‘ä»¬å¯ä»¥åœ¨ content ç›®å½•ä¸‹ä»»æ„å»ºå­ç›®å½•æ¥ç»„ç»‡ç®¡ç†åšå®¢æ–‡ç« ã€‚</div><div class="line">ç”±äºæˆ‘ä»¬åœ¨è®¾ç½®æ–‡ä»¶é‡ŒæŒ‡å®šè¿™ä¸ªå€¼ USE<span class="emphasis">_FOLDER_</span>AS_CATEGORY = True ï¼Œè¿™æ ·è¿™äº›ç›®å½•åç§°å°±è‡ªåŠ¨å˜æˆåšæ–‡åˆ†ç±»çš„ç›®å½•äº†ã€‚</div><div class="line"></div><div class="line">Hello Pelican, Markdown and GitHub Pages.</div></pre></td></tr></table></figure></p>
</blockquote>
<ol>
<li>ç”Ÿæˆrobots.txtä¸favicon.ico vim files/robots.txt</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">User-agent: *</div><div class="line">Sitemap: http://Cokernut.github.io/sitemap.xml</div><div class="line">scp heylinux.com:/webserver/blog/rainbow/favicon.ico .</div></pre></td></tr></table></figure>
<ol>
<li>é…ç½®Disqus</li>
</ol>
<p>åœ¨ Disqus ä¸Šæ³¨å†Œä¸€ä¸ªç”¨æˆ·å¹¶ç”Ÿæˆä¸€ä¸ªç«™ç‚¹Cokernut.disqus.comï¼›</p>
<p>è®¾ç½®Cokernut.disqus.comç«™ç‚¹ä½¿å…¶å…è®¸åŸŸåCokernut.github.ioï¼›</p>
<p>è®¾ç½®ä»¥ä¸Šé…ç½®æ–‡ä»¶ä¸ºDISQUS_SITENAME = uâ€Cokernutâ€ï¼ŒCokernut ä¸ºç«™ç‚¹ID</p>
<ol>
<li>åˆ›å»ºGitHub Pages</li>
</ol>
<p>ç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„repoï¼Œä½†æ˜¯å…¶åç§°å¿…é¡»ä¸IDç›¸åŒï¼Œå¹¶åŠ ä¸Šgithub.ioæˆ–github.comåç¼€ã€‚</p>
<p>å°±æˆ‘è€Œè¨€ï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªrepoåä¸º Cokernut.github.io</p>
<ol>
<li><p>åˆ›å»ºå¥½GitHub Pagesä¹‹åï¼Œç”ŸæˆBlogé™æ€HTMLæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">cd ~</div><div class="line"></div><div class="line">cd pelican</div><div class="line"></div><div class="line">pelican ./content -o ./output -s ./pelicanconf.py æˆ–è€… make html </div><div class="line"></div><div class="line">pelican /home/dong/pelican/content -o /home/dong/pelican/output -s /home/dong/pelican/pelicanconf.py</div><div class="line">WARNING: AUTHOR_SAVE_AS is set to False</div><div class="line">Done: Processed 1 article(s), 0 draft(s) and 0 page(s) in 0.23 seconds.</div></pre></td></tr></table></figure>
</li>
<li><p>è¿›å…¥outputç›®å½•ï¼Œå°†ç”Ÿæˆå¥½çš„é™æ€HTMLæ–‡ä»¶ä¸Šä¼ åˆ°GitHub Pagesç«™ç‚¹Cokernut.github.ioä¸­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">cd output</div><div class="line"></div><div class="line">git init</div><div class="line"></div><div class="line">git remote add origin https://github.com/Cokernut/Cokernut.github.io.git</div><div class="line"></div><div class="line">git add -A</div><div class="line"></div><div class="line">git commit -m &quot;Update Blog&quot;</div><div class="line"></div><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
</li>
<li><p>ç­‰å¾…15åˆ†é’Ÿå·¦å³ï¼Œè®¿é—® Cokernut.github.io å³å¯çœ‹åˆ°ç”Ÿæˆçš„ç½‘ç«™æ•ˆæœ</p>
</li>
<li><p>æ³¨æ„</p>
</li>
</ol>
<p>ç”±äºæˆ‘è®¾ç½®äº†åœ¨é‡æ–°ç”ŸæˆHTMLæ—¶é»˜è®¤ä¸åˆ é™¤outputç›®å½•ï¼Œå› æ­¤æ¯æ¬¡æ›´æ–°Blogæ—¶éƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œâ€™rm -rf output/*â€™ã€‚</p>
<p>è¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†é¿å…åˆ é™¤output/.gitç›®å½•ï¼Œæ–¹é¢åœ¨ç”Ÿæˆä¹‹åç«‹åˆ»æäº¤åˆ°GitHub Pagesã€‚</p>
<p>å½“ç„¶åœ¨å®é™…æ“ä½œå½“ä¸­æˆ‘æ˜¯ç¼–å†™äº†aliaså’Œscriptsæ¥å®Œæˆè¿™ä¸€ç³»åˆ—åŠ¨ä½œçš„ã€‚</p>
<p>é¢„è§ˆåšå®¢æ–‡ç« </p>
<p>æ’°å†™æ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶åœ¨æµè§ˆå™¨é‡Œé¢„è§ˆåšå®¢æ–‡ç« ã€‚æ–¹æ³•æ˜¯å…ˆåœ¨åšå®¢é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä¸‹é¢å‘½ä»¤æ¥å¯åŠ¨é¢„è§ˆæœåŠ¡å™¨ï¼š</p>
<p>make devserver<br>è¿™æ¡å‘½ä»¤ä¼šè‡ªåŠ¨ä½¿ç”¨ pelicanconf.py çš„é…ç½®æ–‡ä»¶æ¥ç”Ÿæˆhtmlç½‘é¡µï¼ŒåŒæ—¶åœ¨æœ¬åœ°çš„8000ç«¯å£ä¸Šå¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œä¾›ä½ é¢„è§ˆæ–‡ç« ã€‚è¿™æ ·ï¼Œç›´æ¥æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ localhost:8000 å³å¯æ‰“å¼€æœ¬åœ°æœåŠ¡å™¨ä¸Šçš„ä½ çš„åšå®¢ä¸»é¡µã€‚æ¯”å¦‚ï¼Œæ’°å†™æœ¬æ–‡æ—¶ï¼Œæˆ‘å°±ç›´æ¥åœ¨gedité‡Œç å­—ï¼Œç„¶ååœ¨æµè§ˆå™¨é‡Œè¾“å…¥ <a href="http://localhost:8000/drafts/build-blog-system-by-pelican.html" target="_blank" rel="external">http://localhost:8000/drafts/build-blog-system-by-pelican.html</a> æ¥å®æ—¶é¢„è§ˆæ•ˆæœã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°å‘½ä»¤ä¼šåœ¨åå°æŒç»­ç›‘å¬ content ç›®å½•ä¸‹çš„å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªç›®å½•ä¸‹çš„å†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆhtmlé¡µé¢ã€‚æ‰€ä»¥ï¼Œåœ¨gedité‡Œå†™å®Œä¸€æ®µå†…å®¹ï¼Œåˆ‡æ¢åˆ°æµè§ˆå™¨ï¼Œç›´æ¥åˆ·æ–°ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°æœ€æ–°çš„ç»“æœäº†ã€‚</p>
<p>å½“æ–‡ç« å†™å®Œåï¼Œéœ€è¦åœ¨åšå®¢é¡¹ç›®æ ¹ç›®å½•ä¸Šè¿è¡Œ make stopserver æ¥åœæ­¢è¿™ä¸ªé¢„è§ˆæœåŠ¡ä»¥åŠæ•°æ®ç›‘æ§åŠŸèƒ½ã€‚</p>
<p>æ–‡ç« åœ¨ä¸»é¡µä¸Šæ²¡çœ‹åˆ°ï¼Ÿ</p>
<p>æ’°å†™å®Œæ–‡ç« ï¼Œéœ€è¦å‘å¸ƒæ—¶ï¼Œéœ€è¦æŠŠ Status: draft è¿™è¡Œå…ƒæ•°æ®å»æ‰ã€‚å¦åˆ™æ–‡ç« ä¸ä¼šå‡ºç°åœ¨åšå®¢ä¸»é¡µã€‚åªä¼šåœ¨draftsä¸‹çœ‹å¾—åˆ°ã€‚</p>
<ol>
<li>ç›¸å…³æ–‡ç« ã€ä¸Šä¸‹æ–‡å¯¼èˆª</li>
</ol>
<blockquote>
<p>1.æ‰“å¼€pelicanconf.pyï¼Œå®šä¹‰æ’ä»¶ç›®å½•å’Œå¯ç”¨æ’ä»¶ï¼š  </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#åŠ è½½plugins</span></div><div class="line">PLUGIN_PATH = <span class="string">"plugins"</span></div><div class="line">PLUGINS = [<span class="string">"sitemap"</span>,<span class="string">"neighbors"</span>,<span class="string">"related_posts"</span>]</div><div class="line"><span class="comment">#sitemap</span></div><div class="line">SITEMAP = &#123;</div><div class="line">    <span class="string">'format'</span>: <span class="string">'xml'</span>,</div><div class="line">    <span class="string">'priorities'</span>: &#123;</div><div class="line">        <span class="string">'articles'</span>: <span class="number">0.7</span>,</div><div class="line">        <span class="string">'indexes'</span>: <span class="number">0.8</span>,</div><div class="line">        <span class="string">'pages'</span>: <span class="number">0.5</span></div><div class="line">    &#125;,</div><div class="line">    <span class="string">'changefreqs'</span>: &#123;</div><div class="line">        <span class="string">'articles'</span>: <span class="string">'monthly'</span>,</div><div class="line">        <span class="string">'indexes'</span>: <span class="string">'daily'</span>,</div><div class="line">        <span class="string">'pages'</span>: <span class="string">'monthly'</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">#ç›¸å…³æ–‡ç« </span></div><div class="line">RELATED_POSTS_MAX = <span class="number">10</span></div></pre></td></tr></table></figure>
<blockquote>
<p>2.é‚»å±…å¯¼èˆªï¼Œåœ¨ä¸»é¢˜æ¨¡ç‰ˆä¸­è°ƒç”¨å¦‚ä¸‹ä»£ç ï¼Œå¯æ ¹æ®è‡ªå·±çš„æƒ…å†µä¿®æ”¹ï¼š  </p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pagination"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">   &#123;% if article.prev_article %&#125;</div><div class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"prev"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; SITEURL &#125;&#125;/&#123;&#123; article.prev_article.url&#125;&#125;"</span>&gt;</span>â† Previous<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">     &#123;% else %&#125;</div><div class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"prev"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>â† Previous<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">     &#123;% endif %&#125;</div><div class="line">     <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/archives.html"</span>&gt;</span>Archive<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">     &#123;% if article.next_article %&#125;</div><div class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"next"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; SITEURL &#125;&#125;/&#123;&#123; article.next_article.url&#125;&#125;"</span>&gt;</span>Next â†’<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">     &#123;% else %&#125;</div><div class="line">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"next"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>Next â†’<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">     &#123;% endif %&#125;</div><div class="line">   <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>3.ç›¸å…³æ–‡ç« ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&#123;% if article.related_posts %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>Related Articles<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    &#123;% for related_post in article.related_posts %&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; SITEURL &#125;&#125;/&#123;&#123; related_post.url &#125;&#125;"</span>&gt;</span>&#123;&#123; related_post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    &#123;% endfor %&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">&#123;% endif %&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½¿ç”¨Pelican+GitHub Pagesæ­å»ºé™æ€åšå®¢&lt;br&gt;
    
    </summary>
    
      <category term="GitHub" scheme="http://cokernut.top/categories/GitHub/"/>
    
    
      <category term="GitHub" scheme="http://cokernut.top/tags/GitHub/"/>
    
  </entry>
  
</feed>
